(self.webpackChunktotalsurvey_backoffice=self.webpackChunktotalsurvey_backoffice||[]).push([["main"],{112:(X,Ze,g)=>{"use strict";var H=g(1481),e=g(5062),m=g(1738);const re=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"onboarding",component:g(2137).u,outlet:"overlay"},{path:"license",redirectTo:"/dashboard(overlay:activation)"}];let dt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forRoot(re,{relativeLinkResolution:"legacy"})],m.Bz]}),o})();var f=g(5861),ut=g(6939),P=g(8938);class q extends P.l{}var gt=g(2492),_t=g(8709),mt=g(1178),ht=g(3479),ft=g(3519);let xt=(()=>{class o{constructor(t,n,i,r){this.config=t,this.router=n,this.marketingService=i,this.navigationService=r,this.cssClass=!0,this.navigationService.push([{name:"Dashboard",icon:"dashboard",route:"dashboard",capability:"view_data"},{name:"Surveys",icon:"collections_bookmark",route:"surveys",capability:"view_surveys"},{name:"Presets",icon:"topic",route:"presets",capability:"create_survey"},{name:"Templates",icon:"style",route:"modules/template",capability:"create_survey"},{name:"Extensions",icon:"extension",route:"modules/extension",capability:"manage_modules"},{name:"Options",icon:"settings",route:"options",capability:"manage_options"},{name:"Support",icon:"headset",route:[{outlets:{overlay:["support"]}}],capability:"view_data"},{icon:"picture_in_picture_alt",name:"Popup",route:"popup",capability:"view_data"}])}ngAfterContentInit(){return(0,f.Z)(function*(){})()}get navigationMenu(){return this.navigationService.items}onKeydownHandler(t){this.router.navigate([{outlets:{overlay:"support"}}]),t.preventDefault()}onCreateNew(t){this.router.navigate([{outlets:{overlay:"wizard"}}]),t.preventDefault()}onEscape(t){this.router.navigate([{outlets:{overlay:null}}],{queryParamsHandling:"preserve"}),t.preventDefault()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q),e.Y36(m.F0),e.Y36(gt.f),e.Y36(_t.f))},o.\u0275cmp=e.Xpm({type:o,selectors:[["totalsurvey-root"]],hostVars:2,hostBindings:function(t,n){1&t&&e.NdJ("keydown.f1",function(r){return n.onKeydownHandler(r)},!1,e.evT)("keydown.f2",function(r){return n.onCreateNew(r)},!1,e.evT)("keydown.escape",function(r){return n.onEscape(r)},!1,e.evT),2&t&&e.ekj("app-container",n.cssClass)},features:[e._Bn([],[ut.B])],decls:6,vars:0,consts:[["slot","main"],["name","overlay"]],template:function(t,n){1&t&&(e.TgZ(0,"wrapper-layout"),e.ynx(1,0),e._UZ(2,"status-center")(3,"router-outlet")(4,"router-outlet",1)(5,"upgrade-modal"),e.BQk(),e.qZA())},directives:[mt.j,ht.$,m.lC,ft.$],styles:['@import"https://fonts.googleapis.com/icon?family=Material+Icons";.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;white-space:normal;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:currentColor;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:currentColor;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:currentColor;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:currentColor;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:"";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}.tippy-box[data-theme~=light]{color:#26323d;box-shadow:0 0 20px 4px #9aa1b126,0 4px 80px -8px #24282f40,0 4px 4px -2px #5b5e6926;background-color:#fff}.tippy-box[data-theme~=light][data-placement^=top]>.tippy-arrow:before{border-top-color:#fff}.tippy-box[data-theme~=light][data-placement^=bottom]>.tippy-arrow:before{border-bottom-color:#fff}.tippy-box[data-theme~=light][data-placement^=left]>.tippy-arrow:before{border-left-color:#fff}.tippy-box[data-theme~=light][data-placement^=right]>.tippy-arrow:before{border-right-color:#fff}.tippy-box[data-theme~=light]>.tippy-backdrop{background-color:#fff}.tippy-box[data-theme~=light]>.tippy-svg-arrow{fill:#fff}.tippy-box[data-animation=scale][data-placement^=top]{transform-origin:bottom}.tippy-box[data-animation=scale][data-placement^=bottom]{transform-origin:top}.tippy-box[data-animation=scale][data-placement^=left]{transform-origin:right}.tippy-box[data-animation=scale][data-placement^=right]{transform-origin:left}.tippy-box[data-animation=scale][data-state=hidden]{transform:scale(.5);opacity:0}dashboard-page,blog-feed-card,main-tabs,sections,editor,design,color-picker,template-picker,skip-logic,integration,entries,entry,section-editor{display:block}.design-customizer .custom-css .body,.design-customizer,insights,.upgrade-modal-wrapper,.options-panel,.module-card,.preset-preview>.sidebar .card>.body,.survey-editor .scale,.survey-editor .list-editor,.survey-editor .question,.survey-editor .sections>.sidebar-wrapper .sidebar,.survey-editor .sections>.navigation,.survey-editor .entry,.survey-editor .entries-browser>.side,.survey-editor .integrations-manager,.survey-editor .template-picker,.survey-editor .settings-tabs,.survey-editor,.surveys-page>.content,.surveys-page,.settings-tabs,.onboarding-window introduction .introduction,.onboarding-window .wizard>.row>.content>.body,.main-navigation>.menu>.menu-item,.wrapper-layout,.card,.color-picker,.app-container,wrapper-layout,#wpbody-content,.popup-editor .cards,.color-builder>.base,.publish-insights-overlay,.upgrade-modal>.body .continue,satisfaction-popup,.premium-support,.support-overlay,.module-card.-install .upload,.module-card>.operation,.activation-overlay,.card-preset .meta>.item,.import-export-overlay,.survey-card>.body,.survey-card>.operation,.survey-card,.onboarding-window .wizard>.state,.feed-list>.item>.thumbnail.-initial,.progress-steps>.step>.number,.button.-palette,.button.-preset,.color-picker>.base,.loading-state,.empty-state{display:flex;flex-direction:column}.satisfaction-popup .nps .footer,.preset-preview,.survey-editor .sections>.pane .product-promotion,.survey-editor .sections,.survey-editor .entries-browser,.survey-editor .settings-panel,.settings-panel,.onboarding-window .wizard>.row>.content>.footer,.main-tabs>.left,.main-tabs,.feature-switch>.toggle,.label,.color-builder,insights question .insights-list-item,.card-preset .meta,.presets-page>.row>.sidebar .categories-list>.category,.survey-editor .scale .labels,.survey-editor .bulk-actions,.survey-editor .list-editor .list-item,.survey-editor .question>.toolbar,.survey-editor .sections>.sidebar-wrapper .sidebar>.header,.survey-editor .sections>.navigation .section-item,.survey-editor .sections>.navigation>.header,.survey-editor .entry .header .meta,.survey-editor .entry-item,.survey-editor .entries-browser>.side>.header,.survey-editor .template-picker .item,.survey-editor .settings-tabs>.item,.surveys-page>.header>.toolbar,.settings-tabs>.item,.status-bar>.content,.pro-overlay,[activate-badge] .activate-badge-inline,[pro-badge] .pro-badge-inline,.module-activation-overlay,.survey-editor .inline-toolbar .types,.survey-editor .inline-toolbar>.add-new,.survey-editor .actions,.onboarding-window finish .social-icons,.button.-palette>.palette{display:flex;flex-direction:row}.color-builder>.base,.publish-insights-overlay,.upgrade-modal>.body .continue,satisfaction-popup,.premium-support,.support-overlay,.module-card.-install .upload,.module-card>.operation,.activation-overlay,.card-preset .meta>.item,.import-export-overlay,.survey-card>.body,.survey-card>.operation,.survey-card,.onboarding-window .wizard>.state,.feed-list>.item>.thumbnail.-initial,.progress-steps>.step>.number,.button.-palette,.button.-preset,.color-picker>.base,.loading-state,.empty-state{align-items:center;justify-content:center}.pro-overlay,[activate-badge] .activate-badge-inline,[pro-badge] .pro-badge-inline,.module-activation-overlay,.survey-editor .inline-toolbar .types,.survey-editor .inline-toolbar>.add-new,.survey-editor .actions,.onboarding-window finish .social-icons,.button.-palette>.palette{align-items:center;justify-content:center}.color-builder,insights question .insights-list-item,.card-preset .meta,.presets-page>.row>.sidebar .categories-list>.category,.survey-editor .scale .labels,.survey-editor .bulk-actions,.survey-editor .list-editor .list-item,.survey-editor .question>.toolbar,.survey-editor .sections>.sidebar-wrapper .sidebar>.header,.survey-editor .sections>.navigation .section-item,.survey-editor .sections>.navigation>.header,.survey-editor .entry .header .meta,.survey-editor .entry-item,.survey-editor .entries-browser>.side>.header,.survey-editor .template-picker .item,.survey-editor .settings-tabs>.item,.surveys-page>.header>.toolbar,.settings-tabs>.item,.status-bar>.content{align-items:center}@keyframes skeleton-shine{0%{background-position-x:-800px}to{background-position-x:800px}}.module-card.-skeleton,.survey-card.-skeleton,.feed-list.-skeleton{position:relative}.module-card.-skeleton:after,.survey-card.-skeleton:after,.feed-list.-skeleton:after{position:absolute;content:"";width:100%;height:100%;inset:0;border-radius:4px;background:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,.75) 50%,rgba(255,255,255,0) 100%);background-repeat:no-repeat;animation:skeleton-shine 1.6s infinite linear}.module-card.-skeleton>.body>.name,.feed-list.-skeleton>.item .title{background:#e7e7e7;border-radius:4px;width:65%;height:20px;margin-bottom:8px}.module-card.-skeleton>.body>.description:before,.module-card.-skeleton>.body>.description:after,.feed-list.-skeleton>.item .excerpt{content:"";display:block;background:#f4f4f4;border-radius:4px;margin-bottom:8px;width:45%;height:10px}.module-card.-skeleton>.body>.description:last-child:before,.module-card.-skeleton>.body>.description:last-child:after,.feed-list.-skeleton>.item .excerpt:last-child{margin-top:8px;margin-bottom:0}.module-card.-skeleton>.body>.meta>*{background:#f9f9f9;border-radius:4px;width:40%;height:10px}.feed-list.-skeleton>.item .thumbnail{background:#f9f9f9;border-radius:4px}.survey-card.-skeleton>.icon{width:48px;height:48px;border-radius:50%;background:#e7e7e7}.survey-card.-skeleton>.title{height:20px;width:160px;border-radius:20px;background:#e7e7e7}.popup-editor .cards{height:100%}.popup-editor .cards>.row{flex:1;height:100%}.popup-editor .cards>.row card{height:100%}.popup-editor .cards>.row .card{height:100%}.popup-editor .cards>.row .card>.body{overflow-y:auto}*{box-sizing:border-box}body,html{height:calc(100vh - 32px)}#wpwrap,#wpbody{height:100%}#wpcontent{margin-left:0;padding-left:0}#wpbody-content{height:100%;float:none;padding-bottom:0;background:#FAFAFA}.app-container,wrapper-layout{height:100%;background:#eeeeee;font-size:14px}.update-nag{display:none}.notice{display:none!important}*::-webkit-scrollbar{background-color:transparent;width:8px}*::-webkit-scrollbar-track{background-color:transparent}*::-webkit-scrollbar-thumb{background-color:#0000001a}*:hover::-webkit-scrollbar-thumb{background-color:#0003}*::-webkit-scrollbar-button{display:none}[contenteditable]:empty:before{content:attr(placeholder);-webkit-text-security:none;color:#757575;pointer-events:none!important;text-overflow:inherit;line-height:normal;line-height:initial;white-space:pre;overflow-wrap:normal;-webkit-user-modify:read-only!important;overflow:hidden}[contenteditable]:focus{outline:0}[contenteditable]:focus-visible{outline:1px dotted #212121;outline:5px auto -webkit-focus-ring-color}hr{box-sizing:content-box;height:0;overflow:visible;border:0;border-bottom:1px solid #e7e7e7;margin:24px auto}img.-fluid{max-width:100%}.chip{font-size:12px;line-height:1;padding:4px;background:#eeeeee;border-radius:4px}.chip.-pill{border-radius:12px;padding:2px 8px}.chip.-primary{background:#0288D1;color:#fff}.chip.-highlight{background:#4AC6C6;color:#fff}.message{padding:12px;background:#f9f9f9;border-radius:4px;box-shadow:0 1px 1px #0000000f;border:1px solid #eeeeee}.message.-small{padding:8px;font-size:13px}.message.-info{background:#f2faff;border-color:#d3efff;color:#01466c}.message.-success{background:white;border-color:#e5f7f7;color:#298181}.message.-attention{background:#fdeae4;border-color:#fce3db;color:#99300c}.empty-state{min-height:300px}.empty-state>.icon{font-size:64px;margin-bottom:12px}.empty-state>.title{font-weight:400}.empty-state>.description{color:#919191}.loading-state{height:100%;min-height:300px}.loading-state>.icon,.loading-state>.loading-indicator{font-size:64px;margin-bottom:12px}.loading-state>.title{font-weight:400}.loading-state>.description{color:#919191;margin:0}@keyframes status-bar-appearance{0%{transform:translateY(-100%)}15%{transform:translateY(0)}80%{transform:translateY(0)}to{transform:translateY(-100%)}}@keyframes status-bar-progress{0%{width:0}to{width:100%}}.status-bar{position:fixed;top:0;right:0;left:0;z-index:999999}.status-bar>.content{padding:0 12px;background:#444444;color:#fff;height:32px;animation:status-bar-appearance 3s ease-in forwards}.status-bar>.content:before{content:"";width:50%;height:100%;background:rgba(255,255,255,.1);position:absolute;left:0;top:0;bottom:0;animation:status-bar-progress 1.7s ease-in forwards}.status-bar>.content.is-success{background:#35a8a8;color:#fff}.status-bar>.content.is-error{background:#c93e0f;color:#fff}.status-modal{position:fixed;inset:0;width:100%;height:100%;z-index:9999999999;display:flex;flex-direction:column;align-items:center;justify-content:center}.status-modal>.backdrop{position:absolute;inset:0;width:100%;height:100%;background:rgba(0,0,0,.75)}.status-modal>.body{position:relative;max-width:450px;width:100%;border-radius:4px;box-shadow:0 4px 24px #0003;overflow:hidden;background:white;color:#444}.status-modal>.body>.content{padding:24px;white-space:pre}.status-modal>.body>.actions{background:#f9f9f9;padding:24px;text-align:right}.code-sample{padding:24px;background:#f9f9f9;font-family:monospace;line-height:1.5;margin:12px 0}.code-sample.-alt{background:white;border:1px solid #e7e7e7;border-radius:8px}[data-tooltip]{position:relative}[data-tooltip]:hover:before,[data-tooltip]:focus:before{position:absolute;bottom:calc(100% + 4px);left:50%;transform:translate(-50%);content:attr(data-tooltip);font-family:sans-serif;background:#444444;color:#fff;font-size:12px;white-space:nowrap;line-height:1;padding:4px;border-radius:2px;pointer-events:none}[data-tooltip][data-tooltip-left]:hover:before,[data-tooltip][data-tooltip-left]:focus:before{inset:50% 100% auto auto;transform:translate(0) translateY(-50%)}[data-tooltip][data-tooltip-right]:hover:before,[data-tooltip][data-tooltip-right]:focus:before{inset:50% auto auto 100%;transform:translate(0) translateY(-50%)}[data-tooltip][data-tooltip-bottom]:hover:before,[data-tooltip][data-tooltip-bottom]:focus:before{top:calc(100% + 4px);bottom:auto;left:50%;transform:translate(-50%)}[data-mirror]{transform:scaleX(-1)}h1,h2,h3,h4,h5,h6{line-height:1.35;font-weight:400}h1{font-size:36px;line-height:36px}h2{font-size:32px}h3{font-size:24px}h4{font-size:18px}h5{font-size:16px}h6{font-size:14px}.label{padding-bottom:12px;margin:0}.label>.chip{margin-left:8px}.input,.survey-editor .list-editor .list-item,.multiple-input{background:white;border-radius:4px;border:1px solid #c1c1c1;padding:8px;height:36px;color:#444;transition:all .15s ease-in,height 0ms ease-in;box-shadow:0 1px 1px #0000000f;-webkit-appearance:none;outline:none;width:100%}.input:hover,.survey-editor .list-editor .list-item:hover,.multiple-input:hover{border-color:#a7a7a7}.input:focus,.survey-editor .list-editor .list-item:focus,.multiple-input:focus,.input:focus-within,.survey-editor .list-editor .list-item:focus-within,.multiple-input:focus-within{border-color:#0288d1}.input::-moz-placeholder,.survey-editor .list-editor .list-item::-moz-placeholder,.multiple-input::-moz-placeholder{color:#a7a7a7}.input::placeholder,.survey-editor .list-editor .list-item::placeholder,.multiple-input::placeholder{color:#a7a7a7}.input.-left-attach,.survey-editor .list-editor .-left-attach.list-item,.-left-attach.multiple-input{border-top-right-radius:0;border-bottom-right-radius:0}.input.-right-attach,.survey-editor .list-editor .-right-attach.list-item,.-right-attach.multiple-input{border-top-left-radius:0;border-bottom-left-radius:0}.input.-middle-attach,.survey-editor .list-editor .-middle-attach.list-item,.-middle-attach.multiple-input{border-radius:0}.input.-pill,.survey-editor .list-editor .-pill.list-item,.-pill.multiple-input{border-radius:36px}.input.-transparent,.survey-editor .list-editor .-transparent.list-item,.-transparent.multiple-input{border:0;box-shadow:none;background-color:transparent;padding:0}.input.-small,.survey-editor .list-editor .-small.list-item,.-small.multiple-input{height:32px}textarea.input,.survey-editor .list-editor textarea.list-item,textarea.multiple-input{height:auto}select.input,.survey-editor .list-editor select.list-item,select.multiple-input{padding-right:28px;background-image:linear-gradient(45deg,transparent 50%,#a7a7a7 50%),linear-gradient(135deg,#a7a7a7 50%,transparent 50%);background-position:calc(100% - 15px) calc(1em + 1px),calc(100% - 10px) calc(1em + 1px);background-size:5px 5px,5px 5px;background-repeat:no-repeat;transition:all .15s ease-in,background-color 0ms linear,background-position 0ms linear}select.input:focus,.survey-editor .list-editor select.list-item:focus,select.multiple-input:focus{background-image:linear-gradient(45deg,#0288D1 50%,transparent 50%),linear-gradient(135deg,transparent 50%,#0288D1 50%);background-position:calc(100% - 10px) 1em,calc(100% - 15px) 1em;background-size:5px 5px,5px 5px;background-repeat:no-repeat}select.input.-small,.survey-editor .list-editor select.-small.list-item,select.-small.multiple-input{padding-top:0;padding-bottom:0}.input-with-action{display:flex;align-items:center}.switch{position:relative;width:32px;height:16px;-webkit-appearance:none;outline:none;cursor:pointer}.switch:before{content:"";position:absolute;top:0;left:0;height:16px;width:32px;border-radius:16px;border:1px solid #5e5e5e;box-shadow:inset 0 2px #0000000d;transition:all .15s ease-in}.switch:after{content:"";position:absolute;top:4px;left:4px;height:8px;width:8px;border-radius:50%;background:#777777;transition:all .15s ease-in}.switch:hover:after{background:#2b2b2b}.switch:checked:before{border-color:#0288d1;background:white;box-shadow:0 1px 1px #0000000f}.switch:checked:after{background:#0288D1;left:20px}.checkbox{display:inline-flex;align-items:center;cursor:pointer}.checkbox>input[type=checkbox],.checkbox>input[type=radio]{position:relative;width:16px;height:16px;-webkit-appearance:none;outline:none;cursor:pointer;margin-right:8px;margin-top:1px}.checkbox>input[type=checkbox]:before,.checkbox>input[type=radio]:before{content:"";position:absolute;top:0;left:0;height:16px;width:16px;border-radius:4px;border:1px solid #5e5e5e;box-shadow:0 1px 1px #0000000f;transition:all .15s ease-in}.checkbox>input[type=checkbox]:after,.checkbox>input[type=radio]:after{display:none;content:"done";font-family:Material Icons;font-size:12px;position:absolute;text-align:center;line-height:16px;height:16px;width:16px;margin:auto;border-radius:50%;color:#fff;transition:all .15s ease-in}.checkbox>input[type=checkbox]:checked:before,.checkbox>input[type=radio]:checked:before{border-color:#0288d1;background:#0288D1}.checkbox>input[type=checkbox]:checked:after,.checkbox>input[type=radio]:checked:after{display:block}.checkbox>input[type=radio]:before{border-radius:50%}.checkbox>span,.checkbox>.label{line-height:1;padding:0}.checkbox+.checkbox{margin-left:12px}.form-group{display:block;vertical-align:middle}.form-group.-last,.form-group+.form-group{padding-top:24px}.form-group.-compact{padding-top:12px}.form-group.-last{padding-bottom:0}.form-group.-large{padding-bottom:36px}.form-group.-large>.label,.form-group>.label.-large{font-size:18px;padding-bottom:24px}.form-group.-large>.input,.survey-editor .list-editor .form-group.-large>.list-item,.form-group.-large>.multiple-input,.form-group>.input.-large,.survey-editor .list-editor .form-group>.-large.list-item,.form-group>.-large.multiple-input{padding:12px;height:48px}.form-group.-inline{display:inline-flex;align-items:center;padding:0 12px}.form-group.-inline:last-child{padding-right:0}.form-group.-inline>.label{padding:0 12px;white-space:nowrap}.feature-switch{margin-bottom:24px;box-shadow:0 1px 1px #0000000f;border-radius:4px;transition:all .15s ease-in}.feature-switch.is-last{margin-bottom:0}.feature-switch>.toggle{align-items:center;padding:24px;margin:0;background:#f4f4f4;border-radius:4px;transition:all .15s ease-in;cursor:pointer}.feature-switch>.toggle>.icon,.feature-switch>.toggle>.body>.title,.feature-switch>.toggle>.body>.description{transition:all .15s ease-in}.feature-switch>.toggle>.icon{margin-right:24px;font-size:36px}.feature-switch>.toggle>.body{padding-right:24px}.feature-switch>.toggle>.body>.title{margin:0;line-height:1;padding-bottom:4px;font-weight:400}.feature-switch>.toggle>.body>.description{margin:0;color:#919191}.feature-switch>.toggle>.switch{margin-left:auto}.feature-switch>.options{max-height:0;overflow:hidden;transition:all .45s linear}.feature-switch>.options>.wrapper{padding:24px;border:1px solid #0288D1;background:#f9f9f9;transition:all .45s linear;border-radius:0 0 4px 4px}.feature-switch.is-on{box-shadow:0 2px 4px #0000001a}.feature-switch.is-on.has-options>.toggle{border-bottom-right-radius:0;border-bottom-left-radius:0}.feature-switch.is-on>.toggle{background:#0288D1}.feature-switch.is-on>.toggle>.icon,.feature-switch.is-on>.toggle>.body>.title{color:#fff}.feature-switch.is-on>.toggle>.body>.description{color:#d3efff}.feature-switch.is-on.has-options>.options{max-height:100%}.labeled-switch{display:inline-flex;align-items:center;margin:0;transition:all .15s ease-in}.labeled-switch>.label{margin:0;padding:0 0 0 12px;transition:all .15s ease-in}.labeled-switch input:checked+.label{color:#0288d1}.multiple-input{position:relative;display:flex;flex-direction:row;align-items:center;flex-wrap:wrap;height:auto;min-height:36px;padding:4px}.multiple-input .input,.multiple-input .survey-editor .list-editor .list-item,.survey-editor .list-editor .multiple-input .list-item,.multiple-input .multiple-input{flex-grow:1;width:0;padding:4px 2px;min-width:70px;height:auto}.multiple-input .value{display:inline-flex;align-items:center;line-height:1;margin:2px;border-radius:2px;background:#eeeeee}.multiple-input .value .text{font-size:12px;padding:4px;max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.multiple-input .value .remove{width:12px;height:12px;font-size:10px;margin:4px}.multiple-input .suggestions{position:absolute;top:100%;left:0;overflow-y:auto;display:none;flex-direction:row;flex-wrap:wrap;padding:4px;background:white;border:1px solid #c1c1c1;border-top:0;border-radius:0 0 4px 4px;box-shadow:0 1px 1px #0000000f}.multiple-input .suggestions>.suggestion{background:#eeeeee;border:1px solid #e7e7e7;padding:4px;margin:4px;line-height:1}.multiple-input .suggestions>.suggestion:not([disabled]):hover,.multiple-input .suggestions>.suggestion:not([disabled]):focus{background:#0288D1;color:#fff}.multiple-input:focus-within .suggestions{display:flex;z-index:9}.color-picker{position:relative}.color-picker>.base{position:relative;flex-shrink:0;height:48px;border-radius:4px 4px 0 0;box-shadow:0 1px 1px #0000000f}.color-picker>.base>.icon{opacity:0;transition:all .15s ease-in;text-shadow:0 1px 1px rgba(0,0,0,.06)}.color-picker>.base input{position:absolute;inset:0;width:100%;height:100%;opacity:0;cursor:pointer}.color-picker>.base:hover .icon{opacity:1}.color-picker>.input,.survey-editor .list-editor .color-picker>.list-item,.color-picker>.multiple-input{border-radius:0 0 4px 4px;text-align:center}.color-picker>.name{position:absolute;font-size:8px;top:-5px;right:2px;background:white;line-height:1;text-transform:uppercase;color:#c1c1c1}.range{-webkit-appearance:none;width:100%;background:#f2f2f2;height:8px;border-radius:4px}.range:focus{border:none;outline:none}.range::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:14px;height:14px;background:#0288D1;cursor:pointer;border-radius:50%;-webkit-transition:all .2s;transition:all .2s;box-shadow:0 0 0 4px transparent}.range::-webkit-slider-thumb:hover{box-shadow:0 0 0 4px #0288d11a;transform:scale(1.25)}.range::-moz-range-thumb{width:14px;height:14px;background:#0288D1;cursor:pointer;border-radius:50%;-moz-transition:all .2s;transition:all .2s;box-shadow:0 0 0 4px transparent}.range::-moz-range-thumb:hover{box-shadow:0 0 0 4px #0288d11a;transform:scale(1.25)}.button{display:inline-flex;align-items:center;justify-content:center;background:#eeeeee;border-radius:4px;border:1px solid transparent;padding:0 12px;height:36px;color:#444;transition:all .15s ease-in,outline 0ms ease;box-shadow:0 1px 1px #0000000f;-webkit-appearance:none;vertical-align:middle}.button[disabled]{opacity:.75;cursor:not-allowed;filter:grayscale()}.button>.icon{font-size:16px}.button>.icon:first-child{margin-right:8px}.button>.icon:last-child{margin-left:8px}.button>.icon:first-child:last-child{margin:0}.button:hover,.button:focus,.button.is-active{background:#0288D1;color:#fff;text-decoration:none}.button.-icon{flex-shrink:0;border-radius:50%;width:36px;font-size:18px;padding:0;text-align:center}.button.-compact{padding:0;width:auto}.button.-wide{width:100%}.button.-plain{background:transparent;padding:0;box-shadow:none;font-size:18px;color:#777;border-radius:50%}.button.-plain:hover,.button.-plain:focus,.button.-plain.is-active{color:#444;background:#f9f9f9}.button.-icon.-plain{width:32px;height:32px}.button.-pill{border-radius:20px}.button.-outline{background:transparent;border-color:#aaa;color:#777}.button.-outline:hover,.button.-outline:focus,.button.-outline.is-active{background:#fbfbfb;border-color:#777;color:#444}.button.-alt{background:#fbfbfb;border-color:#aaa;color:#777}.button.-alt:hover,.button.-alt:focus,.button.-alt.is-active{background:white;border-color:#777;color:#444}.button.-small{height:auto;line-height:1;padding:8px;font-size:12px}.button.-left-attach{border-top-right-radius:0;border-bottom-right-radius:0;border-right:0}.button.-right-attach{border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.button+.button{margin-left:8px}.button.-transparent{background:transparent;box-shadow:none}.button.-transparent:hover,.button.-transparent:focus,.button.-transparent.is-active{color:#0288d1;text-decoration:none;box-shadow:none}.button.-primary{background:#0288D1;color:#fff}.button.-primary:hover,.button.-primary:focus,.button.-primary.is-active{background:#02679e;color:#fff}.button.-primary.-outline{background:transparent;border-color:#0288d1;color:#0288d1}.button.-primary.-outline:hover,.button.-primary.-outline:focus,.button.-primary.-outline.is-active{background:#f2faff;border-color:#02679e;color:#02679e}.button.-primary.-alt{background:white;border-color:#fff;color:#0288d1}.button.-primary.-alt:hover,.button.-primary.-alt:focus,.button.-primary.-alt.is-active{background:#f2faff;border-color:#fff;color:#02679e}.button.-attention{background:#EE521D;color:#fff}.button.-attention:hover,.button.-attention:focus,.button.-attention.is-active{background:#c93e0f}.button.-attention.-outline{background:transparent;border-color:#ee521d;color:#ee521d}.button.-attention.-outline:hover,.button.-attention.-outline:focus,.button.-attention.-outline.is-active{background:#fdeae4;border-color:#c93e0f;color:#c93e0f}.button.-white{background:white;color:#444}.button.-white:hover,.button.-white:focus,.button.-white.is-active{background:#f9f9f9}.button.-white.-outline{background:transparent;border-color:#fbfbfb;color:#fbfbfb}.button.-white.-outline:hover,.button.-white.-outline:focus,.button.-white.-outline.is-active{background:#f9f9f9;border-color:#f9f9f9;color:#0288d1}.button.-preset{width:100%;min-width:80px;height:90px;color:#5e5e5e;border:1px dashed #a7a7a7;background:transparent}.button.-preset>.icon{margin:0 0 12px;font-size:32px}.button.-preset>.name{line-height:1}.button.-preset:hover,.button.-preset:focus{background:#fbfbfb;border-style:solid}.button.-preset.is-active{background:#f2faff;color:#0288d1;border-style:solid;border-color:#0288d1}.button.-preset.-primary.is-active{background:#0288D1;color:#fff}.button.-palette{position:relative;width:100%;color:#5e5e5e;height:auto;padding:24px;background:transparent;border:1px solid #c1c1c1}.button.-palette>.palette{padding:0 8px 16px}.button.-palette>.palette span{width:20px;height:20px;border-radius:50%;margin:0 4px}.button.-palette>.name{line-height:1}.button.-palette:hover,.button.-palette:focus,.button.-palette.is-active{background:#f2faff;color:#444;border-color:#0288d1}.button.-palette.is-active:after{position:absolute;top:-12px;right:-12px;background:#0288D1;color:#fff;width:24px;height:24px;line-height:20px;font-size:12px;border:2px solid white;border-radius:50%;content:"done";font-family:Material Icons}.button.-palette.-dark{background:#444444;color:#f9f9f9;border-color:#000}.button.-palette.-dark:hover,.button.-palette.-dark:focus,.button.-palette.-dark.is-active{background:black;color:#f9f9f9;border-color:#000}.button.-option{position:relative}.button.-option.is-active:after{position:absolute;top:-12px;right:-12px;background:#0288D1;color:#fff;width:24px;height:24px;line-height:20px;font-size:12px;border:2px solid white;border-radius:50%;content:"done";font-family:Material Icons}.button-group{display:flex;align-items:center}.button-group .button{border-radius:0;flex:1}.button-group .button:first-child{border-radius:4px 0 0 4px}.button-group .button:last-child{border-radius:0 4px 4px 0}.button-group.-inline{display:inline-flex}.button-group.-inline .button{flex:0;white-space:nowrap}.button-group .button+.button{margin-left:2px}.button-group.-attached .button{margin:0}.button-group.-attached .button+.button{border-left:0}.card{background:white;margin-bottom:24px;box-shadow:0 1px 1px #0000000f;border-radius:4px}.card>.header{padding:28px 28px 0;flex-shrink:0}.card>.header>.title{margin:0;padding:0 0 24px;border-bottom:1px solid #e7e7e7;font-size:18px;font-weight:400;color:#0288d1}.card>.body{flex:1;padding:28px}.wrapper-layout{min-height:100%}.wrapper-layout>.main{flex:1;overflow:auto}.wrapper-layout>.navigation{flex-shrink:0}.main-navigation{position:relative;display:flex;flex-direction:row;background:white;box-shadow:0 -1px 2px #00000008}.main-navigation>.brand{margin-right:auto;border-right:1px solid #e7e7e7;padding:16px;display:flex;align-items:center;justify-content:center}.main-navigation>.menu{margin:auto;display:flex;flex-direction:row}.main-navigation>.menu>.menu-item{position:relative;text-decoration:none;align-items:center;padding:16px;margin:0 4px;color:#919191;font-size:13px;line-height:1;transition:all .15s ease-in}.main-navigation>.menu>.menu-item.disabled{cursor:not-allowed;opacity:.7}.main-navigation>.menu>.menu-item>.icon{margin-bottom:8px}.main-navigation>.menu>.menu-item:hover,.main-navigation>.menu>.menu-item:focus{color:#444}.main-navigation>.menu>.menu-item.is-current{border-top-color:#0288d1;color:#0288d1}.main-navigation>.menu>.menu-item.is-current:after{transform:scaleY(1)}.main-navigation>.user{margin-left:auto;border-left:1px solid #e7e7e7;padding:12px}.main-navigation>*:empty{padding:0;border:0}.main-tabs{align-items:center;background:#f9f9f9;padding:0 24px}.main-tabs>.right{margin-left:auto}.main-tabs .tab-item{position:relative;text-decoration:none;font-size:16px;color:#777;padding:24px 0}.main-tabs .tab-item.is-current{color:#0288d1}.main-tabs .tab-item.is-current:after{content:"";position:absolute;bottom:0;left:0;right:0;width:100%;height:4px;border-radius:4px 4px 0 0;background:#0288D1}.main-tabs .tab-item+.tab-item{margin-left:32px}.pagination-navigation{display:flex;align-items:center;justify-content:center;padding-top:24px}.pagination-navigation>.buttons{display:flex;align-items:center;margin-left:auto}.pagination-navigation>.buttons .input,.pagination-navigation>.buttons .survey-editor .list-editor .list-item,.survey-editor .list-editor .pagination-navigation>.buttons .list-item,.pagination-navigation>.buttons .multiple-input{padding-right:24px;padding-left:24px}.progress-steps>.step{position:relative;display:flex;padding-bottom:36px;cursor:pointer}.progress-steps>.step:not(:last-child):before{content:"";position:absolute;inset:24px 0 0 12px;height:100%;width:1px;background:#e7e7e7}.progress-steps>.step>.number{position:relative;background:white;flex-shrink:0;font-size:12px;width:24px;height:24px;border-radius:50%;border:1px solid #c1c1c1;margin-right:20px;margin-top:2px}.progress-steps>.step>.body{display:flex;flex-direction:column}.progress-steps>.step>.body>.title{margin:0 0 8px;font-weight:400;line-height:1;color:#777}.progress-steps>.step>.body>.description{color:#919191;max-width:150px;margin:0}.progress-steps>.step.is-current>.body>.title,.progress-steps>.step.is-current>.number{color:#0288d1}.progress-steps>.step.is-current>.number{background:#f2faff;border-color:#0288d1}.progress-steps>.step.is-current>.body>.description{color:#5e5e5e}.progress-steps>.step.is-completed>.body>.title,.progress-steps>.step.is-completed>.number{color:#4ac6c6}.progress-steps>.step.is-completed>.number{background:#4AC6C6;border-color:#4ac6c6;color:transparent;line-height:0}.progress-steps>.step.is-completed>.number:after{content:"done";font-family:Material Icons;color:#fff}.progress-steps>.step.is-completed>.body>.description{color:#5e5e5e}.feed-list{display:flex;flex-direction:column}.feed-list>.item{display:flex;flex-direction:row;align-items:center;text-decoration:none}.feed-list>.item>.body{flex:1}.feed-list>.item>.thumbnail{width:50px;height:50px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;overflow:hidden;margin-right:20px;flex-shrink:0;border-radius:4px}.feed-list>.item>.thumbnail.-initial{box-shadow:0 1px 1px #0000000f;border-radius:50%;background:#eeeeee;font-size:16px;font-weight:700}.feed-list>.item .title{font-weight:400;font-size:14px;margin:0}.feed-list>.item .excerpt{font-weight:400;font-size:13px;color:#777;margin:0;padding:4px 0 0}.feed-list>.item.is-featured{display:flex;flex-direction:column;align-items:stretch}.feed-list>.item.is-featured>.title{font-size:18px}.feed-list>.item.is-featured>.thumbnail{width:100%;height:300px;margin:0 0 20px;box-shadow:0 1px 1px #0000000f}.feed-list>.item+.item{padding-top:12px;margin-top:12px;border-top:1px solid #eeeeee}.table{width:100%;margin-bottom:12px;background-color:#fff;border-radius:4px;box-shadow:0 1px 1px #0000000f}.table th,.table td{padding:12px;vertical-align:top;border-top:1px solid #e7e7e7}.table thead th{vertical-align:bottom;border-bottom:2px solid #e7e7e7;border-top:0}.table tbody+tbody{border-top:1px solid #e7e7e7}html{box-sizing:border-box;-ms-overflow-style:scrollbar}*,*:before,*:after{box-sizing:inherit}.container,.container-fluid,.container-xl,.container-lg,.container-md,.container-sm{width:100%;margin-right:auto;margin-left:auto}@media (min-width: 576px){.container-sm,.container{max-width:540px}}@media (min-width: 768px){.container-md,.container-sm,.container{max-width:720px}}@media (min-width: 992px){.container-lg,.container-md,.container-sm,.container{max-width:960px}}@media (min-width: 1200px){.container-xl,.container-lg,.container-md,.container-sm,.container{max-width:1140px}}.row{display:flex;flex-wrap:wrap;margin-right:-12px;margin-left:-12px}.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class*=col-]{padding-right:0;padding-left:0}.col-xl,.col-xl-auto,.col-xl-12,.col-xl-11,.col-xl-10,.col-xl-9,.col-xl-8,.col-xl-7,.col-xl-6,.col-xl-5,.col-xl-4,.col-xl-3,.col-xl-2,.col-xl-1,.col-lg,.col-lg-auto,.col-lg-12,.col-lg-11,.col-lg-10,.col-lg-9,.col-lg-8,.col-lg-7,.col-lg-6,.col-lg-5,.col-lg-4,.col-lg-3,.col-lg-2,.col-lg-1,.col-md,.col-md-auto,.col-md-12,.col-md-11,.col-md-10,.col-md-9,.col-md-8,.col-md-7,.col-md-6,.col-md-5,.col-md-4,.col-md-3,.col-md-2,.col-md-1,.col-sm,.col-sm-auto,.col-sm-12,.col-sm-11,.col-sm-10,.col-sm-9,.col-sm-8,.col-sm-7,.col-sm-6,.col-sm-5,.col-sm-4,.col-sm-3,.col-sm-2,.col-sm-1,.col,.col-auto,.col-12,.col-11,.col-10,.col-9,.col-8,.col-7,.col-6,.col-5,.col-4,.col-3,.col-2,.col-1{position:relative;width:100%;padding-right:12px;padding-left:12px}.col{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-1>*{flex:0 0 100%;max-width:100%}.row-cols-2>*{flex:0 0 50%;max-width:50%}.row-cols-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-4>*{flex:0 0 25%;max-width:25%}.row-cols-5>*{flex:0 0 20%;max-width:20%}.row-cols-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-auto{flex:0 0 auto;width:auto;max-width:100%}.col-1{flex:0 0 8.33333333%;max-width:8.33333333%}.col-2{flex:0 0 16.66666667%;max-width:16.66666667%}.col-3{flex:0 0 25%;max-width:25%}.col-4{flex:0 0 33.33333333%;max-width:33.33333333%}.col-5{flex:0 0 41.66666667%;max-width:41.66666667%}.col-6{flex:0 0 50%;max-width:50%}.col-7{flex:0 0 58.33333333%;max-width:58.33333333%}.col-8{flex:0 0 66.66666667%;max-width:66.66666667%}.col-9{flex:0 0 75%;max-width:75%}.col-10{flex:0 0 83.33333333%;max-width:83.33333333%}.col-11{flex:0 0 91.66666667%;max-width:91.66666667%}.col-12{flex:0 0 100%;max-width:100%}.order-first{order:-1}.order-last{order:13}.order-0{order:0}.order-1{order:1}.order-2{order:2}.order-3{order:3}.order-4{order:4}.order-5{order:5}.order-6{order:6}.order-7{order:7}.order-8{order:8}.order-9{order:9}.order-10{order:10}.order-11{order:11}.order-12{order:12}.offset-1{margin-left:8.33333333%}.offset-2{margin-left:16.66666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.33333333%}.offset-5{margin-left:41.66666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.33333333%}.offset-8{margin-left:66.66666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.33333333%}.offset-11{margin-left:91.66666667%}@media (min-width: 576px){.col-sm{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-sm-1>*{flex:0 0 100%;max-width:100%}.row-cols-sm-2>*{flex:0 0 50%;max-width:50%}.row-cols-sm-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-sm-4>*{flex:0 0 25%;max-width:25%}.row-cols-sm-5>*{flex:0 0 20%;max-width:20%}.row-cols-sm-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-sm-auto{flex:0 0 auto;width:auto;max-width:100%}.col-sm-1{flex:0 0 8.33333333%;max-width:8.33333333%}.col-sm-2{flex:0 0 16.66666667%;max-width:16.66666667%}.col-sm-3{flex:0 0 25%;max-width:25%}.col-sm-4{flex:0 0 33.33333333%;max-width:33.33333333%}.col-sm-5{flex:0 0 41.66666667%;max-width:41.66666667%}.col-sm-6{flex:0 0 50%;max-width:50%}.col-sm-7{flex:0 0 58.33333333%;max-width:58.33333333%}.col-sm-8{flex:0 0 66.66666667%;max-width:66.66666667%}.col-sm-9{flex:0 0 75%;max-width:75%}.col-sm-10{flex:0 0 83.33333333%;max-width:83.33333333%}.col-sm-11{flex:0 0 91.66666667%;max-width:91.66666667%}.col-sm-12{flex:0 0 100%;max-width:100%}.order-sm-first{order:-1}.order-sm-last{order:13}.order-sm-0{order:0}.order-sm-1{order:1}.order-sm-2{order:2}.order-sm-3{order:3}.order-sm-4{order:4}.order-sm-5{order:5}.order-sm-6{order:6}.order-sm-7{order:7}.order-sm-8{order:8}.order-sm-9{order:9}.order-sm-10{order:10}.order-sm-11{order:11}.order-sm-12{order:12}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.33333333%}.offset-sm-2{margin-left:16.66666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.33333333%}.offset-sm-5{margin-left:41.66666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.33333333%}.offset-sm-8{margin-left:66.66666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.33333333%}.offset-sm-11{margin-left:91.66666667%}}@media (min-width: 768px){.col-md{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-md-1>*{flex:0 0 100%;max-width:100%}.row-cols-md-2>*{flex:0 0 50%;max-width:50%}.row-cols-md-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-md-4>*{flex:0 0 25%;max-width:25%}.row-cols-md-5>*{flex:0 0 20%;max-width:20%}.row-cols-md-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-md-auto{flex:0 0 auto;width:auto;max-width:100%}.col-md-1{flex:0 0 8.33333333%;max-width:8.33333333%}.col-md-2{flex:0 0 16.66666667%;max-width:16.66666667%}.col-md-3{flex:0 0 25%;max-width:25%}.col-md-4{flex:0 0 33.33333333%;max-width:33.33333333%}.col-md-5{flex:0 0 41.66666667%;max-width:41.66666667%}.col-md-6{flex:0 0 50%;max-width:50%}.col-md-7{flex:0 0 58.33333333%;max-width:58.33333333%}.col-md-8{flex:0 0 66.66666667%;max-width:66.66666667%}.col-md-9{flex:0 0 75%;max-width:75%}.col-md-10{flex:0 0 83.33333333%;max-width:83.33333333%}.col-md-11{flex:0 0 91.66666667%;max-width:91.66666667%}.col-md-12{flex:0 0 100%;max-width:100%}.order-md-first{order:-1}.order-md-last{order:13}.order-md-0{order:0}.order-md-1{order:1}.order-md-2{order:2}.order-md-3{order:3}.order-md-4{order:4}.order-md-5{order:5}.order-md-6{order:6}.order-md-7{order:7}.order-md-8{order:8}.order-md-9{order:9}.order-md-10{order:10}.order-md-11{order:11}.order-md-12{order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.33333333%}.offset-md-2{margin-left:16.66666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.33333333%}.offset-md-5{margin-left:41.66666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.33333333%}.offset-md-8{margin-left:66.66666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.33333333%}.offset-md-11{margin-left:91.66666667%}}@media (min-width: 992px){.col-lg{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-lg-1>*{flex:0 0 100%;max-width:100%}.row-cols-lg-2>*{flex:0 0 50%;max-width:50%}.row-cols-lg-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-lg-4>*{flex:0 0 25%;max-width:25%}.row-cols-lg-5>*{flex:0 0 20%;max-width:20%}.row-cols-lg-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-lg-auto{flex:0 0 auto;width:auto;max-width:100%}.col-lg-1{flex:0 0 8.33333333%;max-width:8.33333333%}.col-lg-2{flex:0 0 16.66666667%;max-width:16.66666667%}.col-lg-3{flex:0 0 25%;max-width:25%}.col-lg-4{flex:0 0 33.33333333%;max-width:33.33333333%}.col-lg-5{flex:0 0 41.66666667%;max-width:41.66666667%}.col-lg-6{flex:0 0 50%;max-width:50%}.col-lg-7{flex:0 0 58.33333333%;max-width:58.33333333%}.col-lg-8{flex:0 0 66.66666667%;max-width:66.66666667%}.col-lg-9{flex:0 0 75%;max-width:75%}.col-lg-10{flex:0 0 83.33333333%;max-width:83.33333333%}.col-lg-11{flex:0 0 91.66666667%;max-width:91.66666667%}.col-lg-12{flex:0 0 100%;max-width:100%}.order-lg-first{order:-1}.order-lg-last{order:13}.order-lg-0{order:0}.order-lg-1{order:1}.order-lg-2{order:2}.order-lg-3{order:3}.order-lg-4{order:4}.order-lg-5{order:5}.order-lg-6{order:6}.order-lg-7{order:7}.order-lg-8{order:8}.order-lg-9{order:9}.order-lg-10{order:10}.order-lg-11{order:11}.order-lg-12{order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.33333333%}.offset-lg-2{margin-left:16.66666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.33333333%}.offset-lg-5{margin-left:41.66666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.33333333%}.offset-lg-8{margin-left:66.66666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.33333333%}.offset-lg-11{margin-left:91.66666667%}}@media (min-width: 1200px){.col-xl{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-xl-1>*{flex:0 0 100%;max-width:100%}.row-cols-xl-2>*{flex:0 0 50%;max-width:50%}.row-cols-xl-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-xl-4>*{flex:0 0 25%;max-width:25%}.row-cols-xl-5>*{flex:0 0 20%;max-width:20%}.row-cols-xl-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-xl-auto{flex:0 0 auto;width:auto;max-width:100%}.col-xl-1{flex:0 0 8.33333333%;max-width:8.33333333%}.col-xl-2{flex:0 0 16.66666667%;max-width:16.66666667%}.col-xl-3{flex:0 0 25%;max-width:25%}.col-xl-4{flex:0 0 33.33333333%;max-width:33.33333333%}.col-xl-5{flex:0 0 41.66666667%;max-width:41.66666667%}.col-xl-6{flex:0 0 50%;max-width:50%}.col-xl-7{flex:0 0 58.33333333%;max-width:58.33333333%}.col-xl-8{flex:0 0 66.66666667%;max-width:66.66666667%}.col-xl-9{flex:0 0 75%;max-width:75%}.col-xl-10{flex:0 0 83.33333333%;max-width:83.33333333%}.col-xl-11{flex:0 0 91.66666667%;max-width:91.66666667%}.col-xl-12{flex:0 0 100%;max-width:100%}.order-xl-first{order:-1}.order-xl-last{order:13}.order-xl-0{order:0}.order-xl-1{order:1}.order-xl-2{order:2}.order-xl-3{order:3}.order-xl-4{order:4}.order-xl-5{order:5}.order-xl-6{order:6}.order-xl-7{order:7}.order-xl-8{order:8}.order-xl-9{order:9}.order-xl-10{order:10}.order-xl-11{order:11}.order-xl-12{order:12}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.33333333%}.offset-xl-2{margin-left:16.66666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.33333333%}.offset-xl-5{margin-left:41.66666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.33333333%}.offset-xl-8{margin-left:66.66666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.33333333%}.offset-xl-11{margin-left:91.66666667%}}*,*:before,*:after{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#414141;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0!important}hr{box-sizing:content-box;height:0;overflow:visible}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:6px}p{margin-top:0;margin-bottom:1rem}abbr[title],abbr[data-original-title]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;border-bottom:0;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul,dl{margin-top:0;margin-bottom:1rem}ol ol,ul ul,ol ul,ul ol{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0288d1;text-decoration:none;background-color:transparent}a:hover{color:#015785;text-decoration:underline}a:not([href]):not([class]){color:inherit;text-decoration:none}a:not([href]):not([class]):hover{color:inherit;text-decoration:none}pre,code,kbd,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto;-ms-overflow-style:scrollbar}figure{margin:0 0 1rem}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}caption{padding-top:.75rem;padding-bottom:.75rem;color:#8e8e8e;text-align:left;caption-side:bottom}th{text-align:inherit;text-align:-webkit-match-parent}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus:not(:focus-visible){outline:0}input,button,select,optgroup,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button:not(:disabled),[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}input[type=radio],input[type=checkbox]{box-sizing:border-box;padding:0}textarea{overflow:auto;resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{display:block;width:100%;max-width:100%;padding:0;margin-bottom:.5rem;font-size:1.5rem;line-height:inherit;color:inherit;white-space:normal}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}summary{display:list-item;cursor:pointer}template{display:none}[hidden]{display:none!important}.row-grid{margin-top:-12px;margin-bottom:-12px}.row-grid>.col,.row-grid>[class*=col-]{padding-top:12px;padding-bottom:12px}.onboarding-window .button:focus,.onboarding-window .button:active{outline:none}.onboarding-window p{margin-bottom:1rem;font-size:1em;line-height:1.5;color:#747474}.onboarding-window p.lead{font-size:1.25em}.onboarding-window p.caption{font-size:.875em;line-height:1.46;color:#a7a7a7}.onboarding-window hr{width:100%;border-bottom:1px solid #eeeeee}.onboarding-window .wizard{position:fixed;inset:0;background:white;z-index:99999}.onboarding-window .wizard>.row{height:100%}.onboarding-window .progress-steps>.step{cursor:pointer}.onboarding-window .progress-steps>.step>.body>.description{font-size:10px}.onboarding-window .progress-steps>.step.is-completed>.number{background-color:#0288d1;border-color:#0288d1}.onboarding-window .progress-steps>.step.is-completed>.body>.title,.onboarding-window .progress-steps>.step.is-completed>.number{color:#0288d1}.onboarding-window .wizard>.row>.side{border-right:1px solid #e7e7e7;box-shadow:0 1px 1px #0000000f;background:#fbfbfb;padding:48px;max-width:320px;flex-grow:1}.onboarding-window .wizard>.row>.side>.illustration{width:230px;margin-left:auto;margin-right:auto;margin-bottom:48px}.onboarding-window .wizard>.row>.content{display:flex;flex-direction:column;overflow-y:auto;height:100%}.onboarding-window .wizard>.row>.content>.close{position:fixed;top:24px;right:24px}.onboarding-window .wizard>.row>.content>.body{overflow-y:auto;flex:1;width:100%;max-width:unset;margin:auto}.onboarding-window .wizard>.row>.content>.body>*{padding:24px;display:block;margin:auto;max-width:960px}.onboarding-window .wizard>.row>.content>.footer{justify-content:flex-end;flex-shrink:0;padding:24px;border-top:1px solid #eeeeee}.onboarding-window .wizard>.row>.content>.footer .button.-outline{margin-right:auto}.onboarding-window .wizard>.state{position:absolute;inset:0;width:100%;height:100%;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:rgba(255,255,255,.95)}.onboarding-window .wizard>.state>.icon{font-size:36px;height:36px}.onboarding-window .wizard>.state>.title{color:#0288d1;margin:24px 0 0}.onboarding-window .wizard>.state>.chiller{font-size:18px;margin:24px 0;max-width:280px;text-align:center;line-height:1.5}.onboarding-window .onboarding-card{position:relative;overflow:hidden;border:1px solid rgba(46,58,70,.1);transition:all .3s;box-shadow:0 1px 1px #0000000f}.onboarding-window .onboarding-card>.link{position:absolute;z-index:100;inset:0}.onboarding-window .onboarding-card>.header{position:relative;padding:0}.onboarding-window .onboarding-card>.header>.thumbnail{width:100%;height:150px;-o-object-fit:cover;object-fit:cover;-o-object-position:left center;object-position:left center;transition:all .3s ease-out}.onboarding-window .onboarding-card>.header>.icon{position:absolute;z-index:2;color:#fff;font-size:48px;line-height:1;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0;transition:opacity .3s}.onboarding-window .onboarding-card>.body{padding:16px}.onboarding-window .onboarding-card>.body>.title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition:color .7s}.onboarding-window .onboarding-card>.body>.description{font-size:13px;margin-bottom:0}.onboarding-window .onboarding-card:hover{border:1px solid #e7e7e7;box-shadow:0 2px 4px #0000001a}.onboarding-window .onboarding-card:hover>.body>.title{color:#0288d1}.onboarding-window .onboarding-card:hover>.header>.icon{opacity:1}.onboarding-window .onboarding-card:hover>.header>.thumbnail{filter:brightness(.35)}.onboarding-window .equal-height>[class*=col]{margin-bottom:24px}.onboarding-window .equal-height>[class*=col] .card{height:100%;margin-bottom:0}.onboarding-window .information-box{position:relative;padding:36px;background:#f9f9f9;border-radius:4px}.onboarding-window .information-box img{position:absolute;bottom:0;right:12px;width:110px}.onboarding-window .information-box p{display:flex;align-items:center;margin-bottom:8px}.onboarding-window .information-box p .button{margin-top:8px}.onboarding-window .information-box p .material-icons{margin-right:12px;color:#0288d1}.onboarding-window .more-box{position:relative;background:#f9f9f9;padding:36px;border-radius:4px 4px 0 0;margin-top:auto}.onboarding-window .more-box img{position:absolute;right:36px;bottom:0;height:200px}.onboarding-window .more-box .icon{position:absolute;right:72px;top:0;bottom:0;margin:auto;font-size:72px;height:72px}.onboarding-window .more-box>.body>.icon{color:#747474}.onboarding-window welcome .hero{position:relative;padding:72px}.onboarding-window welcome .hero img{position:absolute;right:72px;bottom:0;width:170px}.onboarding-window welcome .benefits{border:1px solid #e7e7e7;border-radius:12px;box-shadow:0 1px 1px #0000000f}.onboarding-window welcome .benefits .benefits-item{text-align:left;padding:36px}.onboarding-window welcome .benefits .benefits-item+.benefits-item{border-left:1px solid #e7e7e7}.onboarding-window welcome .benefits p{margin-bottom:0}.onboarding-window welcome .benefits .material-icons{font-size:3rem;margin-bottom:1rem;color:#0288d1}.onboarding-window introduction{padding-bottom:0!important;height:100%}.onboarding-window introduction .introduction{height:100%}.onboarding-window connect{width:100%}.onboarding-window connect .message p{margin-bottom:0}.onboarding-window connect>.row{padding-top:36px}.onboarding-window connect .left-side{padding-right:36px}.onboarding-window finish>.row{padding-top:24px}.onboarding-window finish .left-side{padding-right:36px}.onboarding-window finish .social-box{padding-top:36px;text-align:center}.onboarding-window finish .social-icons{margin-top:16px}.onboarding-window finish .social-icons .icon{display:inline-block;width:32px;margin-right:12px}.onboarding-window finish .social-icons .icon svg{fill:#c1c1c1;transition:fill .3s}.onboarding-window finish .social-icons .icon.twitter-icon svg{fill:#1da1f2}.onboarding-window finish .social-icons .icon.youtube-icon svg{fill:#ff0100}.settings-panel{min-height:100%}.settings-panel>.navigation{max-width:250px;width:100%}.settings-panel>.navigation.-wide{max-width:320px}.settings-panel>.navigation>.header{padding:0 20px 0 0}.settings-panel>.navigation>.header .title{margin:0}.settings-panel>.navigation>.header .description{color:#8e8e8e}.settings-panel>.content{flex:1;background:white;box-shadow:0 1px 1px #0000000f;border-radius:4px;padding:24px}.settings-search{background:#f9f9f9;box-shadow:0 1px 1px #0000000f;padding:12px;border:0;border-radius:4px;width:calc(100% - 16px);outline:none;transition:all .15s ease-in}.settings-search::-moz-placeholder{color:#a7a7a7}.settings-search::placeholder{color:#a7a7a7}.settings-search:hover{background:#fbfbfb}.settings-search:focus{background:white}.settings-tabs{padding:16px 0}.settings-tabs>.item{padding:16px;color:#777;border-radius:4px 0 0 4px;outline:none;cursor:pointer;transition:all .15s ease-in}.settings-tabs>.item:hover{background:#eeeeee;color:#444}.settings-tabs>.item>.icon{margin-right:12px;font-size:18px}.settings-tabs>.item>.name{margin-right:auto}.settings-tabs>.item>.matches{margin-left:auto}.settings-tabs>.item.is-current{color:#0288d1;background:white;box-shadow:0 1px 1px #0000000f}.dashboard-page{position:relative}.dashboard-page-content{padding:24px}.feed-list.-blog~.button{margin-top:24px}quick-start-card{display:block}.quick-start{display:block;margin:24px 24px 0}.quick-start .card{margin-bottom:0;height:100%}.quick-start .card .button.-preset{height:100%}.quick-start-title{margin-bottom:12px;color:#0288d1}.quick-start-footer{text-align:center}.quick-start-link{position:absolute;bottom:-18px;left:calc(50% - 18px);display:inline-block;align-items:center;padding:0 16px;justify-content:center;height:36px;line-height:36px;text-align:center;border-radius:18px;text-decoration:none;cursor:pointer;background-color:#fff;box-shadow:0 1px 1px #0000000f}.quick-start-link .material-icons{color:currentColor;vertical-align:middle}.quick-start-link:hover{background-color:#0288d1;color:#fff!important}.quick-start-link:hover .material-icons{color:#fff}.quick-start .preset-card{box-shadow:none;border-radius:0;margin-bottom:0}.quick-start .preset-card-content{padding:8px 0}.quick-start .preset-card-title{padding-left:.25rem;font-size:14px;font-weight:500;line-height:1.25;color:#5b5b5b}.quick-start .preset-card-thumbnail{border-radius:.25rem}.text-center{text-align:center}.surveys-page{height:100%}.surveys-page>.header{background:white;box-shadow:0 1px 1px #0000000f}.surveys-page>.header>.toolbar{position:relative;z-index:1;padding:16px 24px}.surveys-page>.header>.toolbar .title{margin-right:24px}.surveys-page>.header>.toolbar .surveys-filter{margin-right:8px}.surveys-page>.header>.presets-wrapper{flex-shrink:0;overflow:hidden;max-height:0;transition:all .3s ease-out;border-top:1px solid #e7e7e7}.surveys-page>.header>.presets-wrapper.is-open{max-height:300px}.surveys-page>.header>.presets-wrapper .presets{padding:24px}.surveys-page>.header>.presets-wrapper .card{height:100%}.surveys-page>.header>.presets-wrapper .button.-preset{height:100%}.surveys-page>.content{height:100%;overflow-y:auto}.surveys-page>.content .surveys{padding:24px}.surveys-page>.content .pagination-navigation{padding:24px;background:#f9f9f9;position:sticky;bottom:0;margin-top:auto}.survey-card{position:relative;background:white;box-shadow:0 1px 1px #0000000f;border-radius:4px;margin-bottom:24px;min-height:285px;transition:all .15s ease-in}.survey-card>.toolbar{display:flex;flex-direction:row;align-items:center;position:absolute;top:0;right:16px;left:20px;opacity:0;transition:all .15s ease-in}.survey-card>.toolbar .labeled-switch{margin-right:auto}.survey-card>.toolbar .labeled-switch.disabled{opacity:.75;cursor:not-allowed;filter:grayscale(1)}.survey-card>.toolbar .labeled-switch.disabled .switch{cursor:not-allowed}.survey-card>.toolbar .button{margin-left:8px}.survey-card>.toolbar .button.disabled{opacity:.75;cursor:not-allowed}.survey-card>.operation{position:absolute;z-index:1;inset:0;background:rgba(255,255,255,.95);border-radius:4px;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.survey-card>.operation>.icon{font-size:32px;margin-bottom:12px;color:#ee521d}.survey-card>.operation .description{padding:12px}.survey-card>.operation .description:last-child{margin-bottom:0}.survey-card>.operation .button+.button{margin-left:12px}.survey-card>.body{min-height:200px;padding:12px;flex:1;width:100%;cursor:pointer;transition:all .15s ease-in}.survey-card>.body>.icon{font-size:36px;color:#0288d1;margin-bottom:12px}.survey-card>.statistics{display:flex;flex-shrink:0;width:100%;border-top:1px solid #eeeeee;cursor:pointer}.survey-card>.statistics>.segment{padding:16px;flex:1;text-align:center}.survey-card>.statistics>.segment>.value{color:#0288d1;font-size:18px}.survey-card>.statistics>.segment>.name{margin-top:4px;font-size:13px}.survey-card>.statistics>.segment+.segment{border-left:1px solid #eeeeee}.survey-card:hover>.toolbar{opacity:1;top:16px}.survey-card:hover>.body{padding-top:36px}.survey-card.is-disabled>.body>.icon,.survey-card.is-disabled>.body>.name{color:#a7a7a7}.survey-card.is-disabled>.statistics{display:none}.survey-card.is-removed{animation:survey-removal 1s ease-in forwards}@keyframes survey-removal{0%{transform:scale(1) rotate(0)}to{transform:scale(0) rotate(360deg)}}@keyframes import-export-overlay{0%{opacity:0}to{opacity:1}}.import-export-overlay{position:fixed;top:0;right:0;z-index:99999;width:100%;font-size:1rem;line-height:1.5;box-shadow:0 4px 24px #0003;background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);height:100%;animation:support-overlay .35s ease-in-out forwards}.import-export-overlay a{cursor:pointer}.import-export-overlay .title{font-weight:500;margin-bottom:32px}.import-export-overlay .title span{display:block;font-size:120%}.import-export-overlay .help,.import-export-overlay .unlink{display:block;margin:16px 0;font-size:14px;text-align:center}.import-export-overlay .unlink{color:#f7654a}.import-export-overlay .text-success{color:#00c7ac}.import-export-overlay .text-important{color:#f7654a}.import-export-overlay .badge{display:inline-flex;justify-content:center;align-items:center;width:48px;height:48px;margin:0 auto 16px;border-radius:50%}.import-export-overlay .badge.is-active{background-color:#00c7ac;color:#fff}.import-export-overlay .badge.has-expired{background-color:#f7654a;color:#fff}.import-export-container{position:relative;display:flex;background-color:#fff;border:none;border-radius:.5rem;width:100%;overflow:hidden;max-width:960px}.import-export-container .close{position:absolute;top:12px;right:14px;color:#8e8e8e;text-decoration:none;opacity:.5;transition:opacity .5s;cursor:pointer;z-index:1000}.import-export-container .close:hover{opacity:1}.import-export-content{padding:40px;display:flex;flex-flow:column;flex-grow:1;min-height:600px;width:100%}.import-export-content .title{font-weight:500;margin-bottom:20px;font-size:16px;color:#777}.import-export-content .box{border-radius:.25rem;min-height:85%;border:2px solid rgba(0,0,0,.125);width:100%;padding:20px;overflow-y:scroll;max-height:300px}.import-export-content .button-ie{margin:10px 0;display:flex;flex-direction:row-reverse}.import-container{border-right:1px solid #e7e7e7}.hr{margin:10px 0}.surveys{display:flex;flex-direction:column}.checkbox-surveys{display:flex;height:26px;margin-left:0}.checkbox-surveys+.checkbox-surveys{margin-left:0}.progress-bar-container{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.progress-bar-container .progress-bar{border-radius:.5rem;border:1px solid rgba(0,0,0,.125);height:13px;width:80%}.progress-bar-container .progress-bar>div{border-radius:.5rem;background-color:#0288d1;height:100%}.progress-bar-container .progress-bar .progress-percent{margin-top:20px;width:100%;text-align:center}.survey-card.-skeleton{background:#f9f9f9}.survey-card.-skeleton>.icon{margin-bottom:24px}.surveys-filter{position:relative}.surveys-filter>.dialog{position:absolute;right:0;z-index:1;top:100%;width:500px;background:white;box-shadow:0 2px 4px #0000001a;border:1px solid #c1c1c1;border-radius:4px;text-align:left;overflow:hidden;margin-top:12px;transform-origin:top right;transform:scale(0);transition:all .15s ease-in}.surveys-filter>.dialog.is-open{transform:scale(1)}.surveys-filter>.dialog .close{position:absolute;margin:24px}.surveys-filter>.dialog>.body{padding:20px}.surveys-filter>.dialog>.footer{text-align:right;padding:20px;border-top:1px solid #e7e7e7;background:#fbfbfb}.survey-editor{height:100%}.survey-editor *::-webkit-scrollbar{width:10px}.survey-editor *::-webkit-scrollbar-thumb{border:2px solid white}.survey-editor>.navigation{position:relative;box-shadow:0 1px 1px #0000000f}.survey-editor>.content{height:100%;overflow-y:auto}.survey-editor .actions>.labeled-switch{padding:0 12px}.survey-editor .actions>.button{margin-left:12px}.survey-editor .settings-panel{min-height:100%;padding:24px}.survey-editor .settings-panel>.navigation{max-width:250px;width:100%}.survey-editor .settings-panel>.content{flex:1;background:white;box-shadow:0 1px 1px #0000000f;border-radius:4px;padding:24px}.survey-editor .settings-search{background:#f9f9f9;box-shadow:0 1px 1px #0000000f;padding:12px;border:0;border-radius:4px;width:calc(100% - 16px);outline:none;transition:all .15s ease-in}.survey-editor .settings-search::-moz-placeholder{color:#a7a7a7}.survey-editor .settings-search::placeholder{color:#a7a7a7}.survey-editor .settings-search:hover{background:#fbfbfb}.survey-editor .settings-search:focus{background:white}.survey-editor .settings-tabs{padding:16px 0}.survey-editor .settings-tabs>.item{padding:16px;color:#777;border-radius:4px 0 0 4px;outline:none;cursor:pointer;transition:all .15s ease-in}.survey-editor .settings-tabs>.item:hover{background:#eeeeee;color:#444}.survey-editor .settings-tabs>.item>.icon{margin-right:12px;font-size:18px}.survey-editor .settings-tabs>.item>.matches{margin-left:auto}.survey-editor .settings-tabs>.item.is-current{color:#0288d1;background:white;box-shadow:0 1px 1px #0000000f}.survey-editor .template-picker .item{flex-wrap:wrap;padding:16px;border:2px solid transparent;background:#f9f9f9;border-radius:6px;transition:all .15s ease-in}.survey-editor .template-picker .item>.icon{width:36px;height:36px;border-radius:6px;margin-right:16px}.survey-editor .template-picker .item>.details{margin-right:auto}.survey-editor .template-picker .item>.details>.name{font-weight:400;margin:0}.survey-editor .template-picker .item>.details>.credit{margin:0;color:#a7a7a7;text-transform:uppercase;font-size:10px}.survey-editor .template-picker .item:hover,.survey-editor .template-picker .item:focus-within{border-color:#e7e7e7;background:white;cursor:pointer}.survey-editor .template-picker .item.is-active{border-color:#0288d1;background:white}.survey-editor .template-picker>.item+.item{margin-top:16px}.survey-editor .integrations-wrapper{padding:24px;height:100%}.survey-editor .integrations-manager{height:100%}.survey-editor .integrations-manager>.row{flex:1;height:100%}.survey-editor .integrations-manager>.row card{height:100%}.survey-editor .integrations-manager>.row .card{height:100%}.survey-editor .integrations-manager>.row .card>.body{overflow-y:auto}.survey-editor .integrations-store{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;min-height:195px;padding:12px 0}.survey-editor .integrations-store>.illustration{font-size:48px;margin-bottom:24px;color:#0288d1}.survey-editor .integrations-store>.title{color:#444;font-weight:400}.survey-editor .integrations-store>.description{color:#777;max-width:250px;margin-right:auto;margin-left:auto}.survey-editor .integrations-store>.button{min-width:80px}.survey-editor .entries-wrapper{height:100%;border-top:1px solid #e7e7e7}.survey-editor .entries-browser{height:100%}.survey-editor .entries-browser>.side{width:300px;height:100%;background:#eeeeee;box-shadow:0 1px 1px #0000000f}.survey-editor .entries-browser>.side>.header{position:relative;padding:16px;background:#f9f9f9;border-bottom:1px solid #e7e7e7}.survey-editor .entries-browser>.side>.header>.title{margin:0 auto 0 0}.survey-editor .entries-browser>.side>.header>.title .counter{font-size:10px;color:#a7a7a7}.survey-editor .entries-browser>.side>.body{flex:1;overflow-y:auto;padding:8px}.survey-editor .entries-browser>.side>.body::-webkit-scrollbar-thumb{border:0}.survey-editor .entries-browser>.side>.body .loading-indicator{display:block;text-align:center;margin:12px}.survey-editor .entries-browser>.side>.footer{position:relative;background:#f9f9f9;border-top:1px solid #e7e7e7}.survey-editor .entries-browser>.side>.footer .pagination-navigation{padding:16px;flex-direction:column}.survey-editor .entries-browser>.side>.footer .pagination-navigation .buttons{width:100%;margin:12px 0 0}.survey-editor .entries-browser>.content{position:relative;flex:1;background:white;box-shadow:0 2px 4px #0000001a;height:100%;border-left:1px solid #e7e7e7}.survey-editor .entries-browser>.content .keyboard-popup{border:1px #eeeeee solid;box-shadow:0 1px 5px #0000001a;background:white;position:absolute;bottom:15px;right:15px;padding:15px 48px 15px 15px;border-radius:8px;display:flex;align-items:center}.survey-editor .entries-browser>.content .keyboard-popup .close{position:absolute;top:12px;right:14px;color:#a9a9a9;text-decoration:none;opacity:.5;transition:opacity .5s;cursor:pointer}.survey-editor .entries-browser>.content .keyboard-popup .close:hover{opacity:1}.survey-editor .entries-browser>.content .keyboard-popup .col-auto{display:flex;align-items:center}.survey-editor .entries-browser>.content .keyboard-popup .keyboard{border-right:1px solid #eeeeee;padding-right:12px}.survey-editor .entries-browser>.content .keyboard-popup .keyboard .material-icons{font-size:44px;color:#c1c1c1;padding-right:12px}.survey-editor .entries-browser>.content .keyboard-popup .left-arrow .material-icons,.survey-editor .entries-browser>.content .keyboard-popup .right-arrow .material-icons{border:1px solid #e7e7e7;border-radius:6px;font-size:24px;color:#c1c1c1;padding:6px;margin-right:12px}.survey-editor .entries-browser>.content .keyboard-popup .left-arrow small,.survey-editor .entries-browser>.content .keyboard-popup .right-arrow small{color:#a7a7a7;font-size:10px;text-transform:uppercase}.survey-editor .entries-browser .table{width:100%;table-layout:fixed;border:1px solid #eeeeee}.survey-editor .entries-browser .table td{padding:8px;text-align:center}.survey-editor .entries-browser .table td+td{border-left:1px solid #eeeeee}.survey-editor .entries-browser .table tr+tr td{border-top:1px solid #eeeeee}.survey-editor .entry-item{padding:12px;transition:all .15s ease-in;border-radius:4px}.survey-editor .entry-item+.entry-item{margin-top:8px}.survey-editor .entry-item>.avatar{width:40px;height:40px;border-radius:50%;margin-right:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#a7a7a7;color:#e7e7e7;font-size:24px}.survey-editor .entry-item>.details>.title{margin:0;color:#444;white-space:nowrap;text-overflow:ellipsis}.survey-editor .entry-item>.details>.meta{color:#a7a7a7}.survey-editor .entry-item.is-active,.survey-editor .entry-item:hover,.survey-editor .entry-item:focus-within{background:white;box-shadow:0 1px 1px #0000000f;text-decoration:none}.survey-editor .entries-filter{position:relative;height:100%}.survey-editor .entries-filter>.dialog{position:absolute;left:0;z-index:1;top:100%;width:500px;background:white;box-shadow:0 2px 4px #0000001a;border:1px solid #c1c1c1;border-radius:4px;text-align:left;overflow:hidden;transform-origin:top left;transform:scale(0);transition:all .15s ease-in}.survey-editor .entries-filter>.dialog.is-open{transform:scale(1)}.survey-editor .entries-filter>.dialog .close{position:absolute;margin:24px}.survey-editor .entries-filter>.dialog>.body{padding:20px}.survey-editor .entries-filter>.dialog>.footer{text-align:right;padding:20px;border-top:1px solid #e7e7e7;background:#fbfbfb}.survey-editor .entries-export{position:relative;height:100%}.survey-editor .entries-export>.dialog{position:absolute;left:0;z-index:1;top:100%;width:200px;padding:12px;background:white;box-shadow:0 2px 4px #0000001a;border:1px solid #c1c1c1;border-radius:4px;text-align:left;overflow:hidden;transform-origin:top left;transform:scale(0);transition:all .15s ease-in}.survey-editor .entries-export>.dialog.is-open{transform:scale(1)}.survey-editor .entries-export>.dialog .button+.button{margin:8px 0 0}.survey-editor .entry,.survey-editor .entry .empty-state{height:100%}.survey-editor .entry .header{position:relative;border-bottom:1px solid #e7e7e7;padding:32px}.survey-editor .entry .header .title{margin:0}.survey-editor .entry .header .date{color:#a7a7a7}.survey-editor .entry .header .meta{margin:0}.survey-editor .entry .header .meta .material-icons{margin:0 8px;color:#0288d1}.survey-editor .entry .header .meta .material-icons:first-child{margin-left:0}.survey-editor .entry .header .entry-buttons{position:absolute;top:24px;right:24px}.survey-editor .entry .body{flex:1;overflow-y:auto;background:#f9f9f9}.survey-editor .entry .body .section{padding:24px}.survey-editor .entry .body .section+.section{border-top:1px solid #e7e7e7}.survey-editor .entry .body .section .title{color:#0288d1;margin-bottom:24px;font-weight:400}.survey-editor .entry .body .section .field{margin:0;box-shadow:0 2px 4px #0000001a;background:white;border-radius:4px}.survey-editor .entry .body .section .field+.field{margin-top:24px}.survey-editor .entry .body .section .field .name{padding:12px 12px 0;color:#747474;font-weight:400;font-size:12px}.survey-editor .entry .body .section .field .name .chip{margin-left:4px}.survey-editor .entry .body .section .field .value{margin-bottom:0;padding:12px}.survey-editor .sections{position:relative;height:100%;border-top:2px solid #e7e7e7;border-bottom:2px solid #e7e7e7}.survey-editor .sections>.navigation{position:relative;max-width:50px;width:100%;background:#fbfbfb;overflow:hidden;transition:all .15s ease-in;-webkit-user-select:none;-moz-user-select:none;user-select:none}.survey-editor .sections>.navigation.is-open{transform:translate(0);box-shadow:none;max-width:250px}.survey-editor .sections>.navigation.is-open .header,.survey-editor .sections>.navigation.is-open .body,.survey-editor .sections>.navigation.is-open .footer{opacity:1}.survey-editor .sections>.navigation.is-open .trigger{transform:translate(15vw);opacity:0}.survey-editor .sections>.navigation .header,.survey-editor .sections>.navigation .body,.survey-editor .sections>.navigation .footer{transition:all .15s ease-in;opacity:0}.survey-editor .sections>.navigation>.trigger{position:absolute;z-index:1;top:0;left:0;width:50px;height:100%;border:0;border-radius:0;background:#fbfbfb;border-right:2px solid #eeeeee;transform:translate(0);opacity:1}.survey-editor .sections>.navigation>.trigger .icon{position:absolute;font-size:18px;top:0;left:0;line-height:50px;width:50px;height:50px;margin:0}.survey-editor .sections>.navigation>.trigger .text{transform:rotate(-90deg);transform-origin:center;text-transform:uppercase;letter-spacing:1px;font-size:12px}.survey-editor .sections>.navigation>.header{height:50px;padding-left:16px;border-right:2px solid #eeeeee;border-bottom:2px solid #eeeeee;width:250px}.survey-editor .sections>.navigation>.header>.title{margin:0}.survey-editor .sections>.navigation>.header>.button{margin-left:auto;width:50px;height:50px}.survey-editor .sections>.navigation>.body{overflow-y:auto;width:250px}.survey-editor .sections>.navigation>.body::-webkit-scrollbar{width:6px;background:white}.survey-editor .sections>.navigation>.body::-webkit-scrollbar-thumb{border:0}.survey-editor .sections>.navigation .section-item{align-items:center;padding:8px 8px 8px 12px;margin:0;transition:all .15s ease-in,outline 0ms ease-in;border-bottom:1px solid #eeeeee;border-right:2px solid #eeeeee;min-height:50px;cursor:pointer;color:#777}.survey-editor .sections>.navigation .section-item.is-active{color:#0288d1;background:white;border-left-color:#0288d1;border-right-color:#fff}.survey-editor .sections>.navigation .section-item.is-active .handle{color:#747474}.survey-editor .sections>.navigation .section-item.is-active .icon{color:#0288d1}.survey-editor .sections>.navigation .section-item.cdk-drag-placeholder{position:relative;z-index:1;cursor:grabbing;background:white;-webkit-user-select:none;-moz-user-select:none;user-select:none}.survey-editor .sections>.navigation .section-item:not(.cdk-drag-placeholder){transition:all .15s ease-in,transform 0ms ease-in,outline 0ms ease-in}.survey-editor .sections>.navigation .section-item:hover,.survey-editor .sections>.navigation .section-item:focus,.survey-editor .sections>.navigation .section-item:focus-within{background:white}.survey-editor .sections>.navigation .section-item:hover .icon,.survey-editor .sections>.navigation .section-item:focus-within .icon,.survey-editor .sections>.navigation .section-item.cdk-drag-placeholder .icon{color:#0288d1}.survey-editor .sections>.navigation .section-item .icon,.survey-editor .sections>.navigation .section-item .handle{cursor:grab;color:#c1c1c1;font-size:18px;margin-right:8px;margin-top:1px}.survey-editor .sections>.navigation .section-item .icon{cursor:default}.survey-editor .sections>.navigation .section-item.cdk-drag-placeholder .handle,.survey-editor .sections>.navigation .section-item .handle:hover,.survey-editor .sections>.navigation .section-item .handle:focus{color:#0288d1}.survey-editor .sections>.navigation .section-item .name{overflow:hidden;margin-right:auto;text-overflow:ellipsis;white-space:nowrap}.survey-editor .sections>.navigation .section-item .button{margin:0;color:#c1c1c1}.survey-editor .sections>.navigation .section-item .button:hover,.survey-editor .sections>.navigation .section-item .button:focus{color:#747474;background:white}.survey-editor .sections>.navigation .section-item.is-active .remove,.survey-editor .sections>.navigation .section-item .remove:hover,.survey-editor .sections>.navigation .section-item .remove:focus{color:#dc3545}.survey-editor .sections>.navigation .section-item .add:hover,.survey-editor .sections>.navigation .section-item .add:focus,.survey-editor .sections>.navigation .section-item .is-active{color:#0288d1}.survey-editor .sections>.navigation .section-item .has-errors{color:#ffc107}.survey-editor .sections>.navigation>.body .section-item:last-child{border-bottom-color:transparent}.survey-editor .sections>.navigation>.footer .section-item{border-right:0;border-top:1px solid #eeeeee}.survey-editor .sections>.navigation>.footer .section-item:focus-within{background:white}.survey-editor .sections>.navigation>.footer .section-item:focus-within .button{color:#0288d1;background:white;box-shadow:0 1px 1px #0000000f}.survey-editor .sections>.navigation>.footer{border-right:2px solid #eeeeee;flex-grow:1;width:250px}.survey-editor .sections>.content{position:relative;width:100%;height:100%;overflow-y:auto;background:white}.survey-editor .sections>.content>.settings{padding:48px;height:100%;overflow-y:auto}.survey-editor .sections>.content>.settings>.container{max-width:800px}.survey-editor .sections>.content>.settings .header{padding-bottom:24px;margin-bottom:24px;border-bottom:2px solid #eeeeee}.survey-editor .sections>.content>.settings .custom-content{padding:24px;background:rgba(2,136,209,.05);border-radius:4px}.survey-editor .sections>.content>.settings .footer{text-align:right}.survey-editor .sections>.content>.settings .sub-settings{padding-left:1rem;border-left:5px solid #f4f4f4}.survey-editor .sections>.sidebar-wrapper{position:absolute;bottom:0;top:0;right:0;z-index:1;flex-shrink:0;width:0;overflow-y:auto;overflow-x:hidden;background:#fbfbfb;transition:all .15s ease-in;border-left:2px solid #eeeeee}.survey-editor .sections>.sidebar-wrapper.is-open{width:330px}.survey-editor .sections>.sidebar-wrapper .sidebar{width:330px;height:100%;background:#fbfbfb}.survey-editor .sections>.sidebar-wrapper .sidebar>.header{width:100%;height:50px;padding-left:16px;border-bottom:2px solid #e7e7e7;background:#fbfbfb}.survey-editor .sections>.sidebar-wrapper .sidebar>.header>.title{margin:0}.survey-editor .sections>.sidebar-wrapper .sidebar>.header .button{width:50px;height:50px;margin-left:auto}.survey-editor .sections>.sidebar-wrapper .sidebar>.body{flex:1;overflow-y:auto}.survey-editor .sections>.sidebar-wrapper .sidebar>.body::-webkit-scrollbar-thumb{border:0}.survey-editor .sections>.pane{width:330px;flex-shrink:0;border-left:1px solid #eeeeee;background:#fbfbfb;overflow-y:auto}.survey-editor .sections>.pane .store-promotion{text-align:center;padding:12px;margin:auto 0}.survey-editor .sections>.pane .store-promotion .icon{font-size:72px;margin-bottom:12px;color:#e7e7e7}.survey-editor .sections>.pane .store-promotion .description{font-size:13px;color:#a7a7a7}.survey-editor .sections>.pane .product-promotion{padding:16px;margin:auto 12px 12px;background:white;box-shadow:0 2px 4px #0000001a;border-radius:4px}.survey-editor .sections>.pane .product-promotion .icon{width:50px;height:50px;margin-right:16px}.survey-editor .sections>.pane .product-promotion .title{font-weight:700;margin:0 0 4px}.survey-editor .sections>.pane .product-promotion .description{font-size:10px;line-height:1.35;color:#a7a7a7;margin:0}.survey-editor .sections>.pane .question-types{margin:-8px}.survey-editor .sections>.pane .question-types .question-type{padding:4px}.survey-editor .sections>.pane .question-types hr{margin:12px 4px}.survey-editor .sections>.pane .question-types .button.-preset{position:relative;text-transform:uppercase;font-size:10px;height:70px;padding:0;background:white}.survey-editor .sections>.pane .question-types .button.-preset .chip{position:absolute;top:-1px;right:-1px;border-top-right-radius:0;border-top-left-radius:0;border-bottom-right-radius:0;font-size:10px;padding:3px}.survey-editor .sections>.pane .question-types .button.-preset>.icon{color:#747474;font-size:24px}.survey-editor .sections>.pane .question-types .button.-preset:hover,.survey-editor .sections>.pane .question-types .button.-preset:hover>.icon,.survey-editor .sections>.pane .question-types .button.-preset:focus,.survey-editor .sections>.pane .question-types .button.-preset:focus>.icon{color:#0288d1}.survey-editor .section-editor{height:100%}.survey-editor .section-toolbar{padding:12px 12px 12px 24px;display:flex;position:absolute;top:0;left:0;width:100%;background:white;z-index:999;border-bottom:1px solid #eeeeee}.survey-editor .section-toolbar .header{margin-right:auto}.survey-editor .section-toolbar .title{margin:0;font-size:24px;word-break:break-word}.survey-editor .section-toolbar .button{flex-shrink:0}.survey-editor .section-editor>.container-wrapper{padding:96px 48px 48px;height:100%;overflow-y:auto;scroll-padding-top:45px}.survey-editor .section-editor>.container-wrapper>.container{max-width:800px}.survey-editor .section-editor>.container-wrapper>.container>.header{padding-bottom:24px;border-bottom:2px solid #eeeeee}.survey-editor .section-editor>.container-wrapper>.container>.header>.description{color:#5b5b5b}.survey-editor .section-editor>.container-wrapper>.container>.footer>.title{display:flex;align-items:center;width:100%;padding:24px 0;margin:0;line-height:1;text-transform:uppercase;font-size:10px}.survey-editor .section-editor>.container-wrapper>.container>.footer>.title:before,.survey-editor .section-editor>.container-wrapper>.container>.footer>.title:after{content:"";flex:1;border-bottom:5px double #e7e7e7}.survey-editor .section-editor>.container-wrapper>.container>.footer>.title:before{margin-right:24px}.survey-editor .section-editor>.container-wrapper>.container>.footer>.title:after{margin-left:24px}.survey-editor .section-editor>.container-wrapper>.container>.footer .question-types .button{position:relative;margin-bottom:24px;padding:0}.survey-editor .section-editor>.container-wrapper>.container>.footer .question-types .button:hover,.survey-editor .section-editor>.container-wrapper>.container>.footer .question-types .button:focus{color:#0288d1}.survey-editor .section-editor>.container-wrapper>.container>.footer .question-types .button .name{font-size:12px}.survey-editor .section-editor>.container-wrapper>.container>.footer .question-types .button .chip{position:absolute;top:4px;right:4px}.survey-editor reorder-blocks{display:block}.survey-editor .reorder-blocks{position:absolute;inset:62px 0 0;overflow:auto;z-index:9999;background:white;padding:48px;display:flex;flex-direction:column;gap:12px}.survey-editor .reorder-blocks .block-item{display:flex;align-items:center;gap:8px;border:1px solid #eeeeee;padding:8px;border-radius:6px;cursor:grab!important;-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:all .15s ease-in}.survey-editor .reorder-blocks .block-item small{display:block;width:100px;text-align:right;margin-left:auto;white-space:nowrap;flex-shrink:0}.survey-editor .reorder-blocks .block-item:hover,.survey-editor .reorder-blocks .block-item:focus,.survey-editor .reorder-blocks .block-item.cdk-drag-placeholder{background:#f9f9f9;box-shadow:0 1px 1px #0000000f}.survey-editor .skip-logic{padding:24px;background:#f9f9f9;border-radius:6px}.survey-editor .skip-logic .conditions{margin-top:24px;padding-top:24px;border-top:1px solid #e7e7e7}.survey-editor .skip-logic .conditions input,.survey-editor .skip-logic .conditions select{text-overflow:ellipsis}.survey-editor .skip-logic .conditions .-middle-attach{border-left:0}.survey-editor .skip-logic .conditions .label{height:30px;padding:6px 0;margin-bottom:6px}.survey-editor .skip-logic .conditions select.label{width:120px}.survey-editor .skip-logic .conditions .row+.row{margin-top:12px}.survey-editor .skip-logic .conditions .message{margin-top:8px}.survey-editor inline-toolbar{display:block}.survey-editor .inline-toolbar{position:relative;padding:12px 0}.survey-editor .inline-toolbar>.add-new{position:absolute;margin:auto;inset:0;z-index:1;transition:all .2s ease-out}.survey-editor .inline-toolbar>.add-new:before,.survey-editor .inline-toolbar>.add-new:after{content:"";flex:1;border-bottom:1px dashed #e7e7e7;transition:all .2s ease-out}.survey-editor .inline-toolbar>.add-new .button{padding:0;opacity:.5;margin:0 4px;transform:scale(.65)}.survey-editor .inline-toolbar>.add-new:hover:before,.survey-editor .inline-toolbar>.add-new:hover:after,.survey-editor .inline-toolbar>.add-new:focus:before,.survey-editor .inline-toolbar>.add-new:focus:after{border-color:#0288d1}.survey-editor .inline-toolbar>.add-new:hover .button,.survey-editor .inline-toolbar>.add-new:focus .button{opacity:1;transform:scale(1)}.survey-editor .inline-toolbar .types{opacity:0;pointer-events:none;transition:all .2s ease-out}.survey-editor .inline-toolbar.is-active>.add-new{opacity:0;pointer-events:none}.survey-editor .inline-toolbar.is-active .types{opacity:1;pointer-events:auto}.inline-prompt{position:relative;padding:8px 0}.inline-prompt .inline-prompt-type{position:absolute;bottom:calc(100% + 6px);left:0;display:inline-flex;align-items:center;gap:4px;background:#fffbdc;border:solid 1px #ffee82;padding:3px 8px;font-size:12px;white-space:nowrap;border-radius:5px}.inline-prompt .inline-prompt-type .icon{font-size:14px}.inline-prompt .inline-prompt-input-wrapper{display:flex;gap:10px;box-shadow:0 1rem 3rem #0000002d;background:white;border:2px solid white;padding:12px 18px;border-radius:42px;margin:24px 0}.inline-prompt .inline-prompt-input-wrapper:focus-within{border-color:#0288d1}.inline-prompt .inline-prompt-input{line-height:1.5;font-size:14px;width:100%;resize:none;border:0;overflow:hidden;outline:none;background:transparent}.inline-prompt .tippy-box{box-shadow:0 1rem 3rem #0000002d;border-radius:6px;padding:14px;width:220px;max-height:400px;overflow:auto}.inline-prompt .tippy-content{padding:0}.inline-prompt .inline-prompt-popover{display:flex;flex-direction:column;background:white}.inline-prompt .inline-prompt-popover .block-type{display:flex;align-items:center;gap:10px;padding:10px}.inline-prompt .inline-prompt-popover .block-type:hover,.inline-prompt .inline-prompt-popover .block-type:focus,.inline-prompt .inline-prompt-popover .block-type.highlighted{background:#fffbdc}.survey-editor block-editor{display:block}.survey-editor .question-editor{display:block;position:relative}.survey-editor .question-editor+.question-editor{border-top:1px dashed #e7e7e7}@keyframes highlight{0%{opacity:0}35%{opacity:1}65%{opacity:0}to{opacity:1}}.survey-editor .is-highlighted{animation:highlight 1s ease-out}.survey-editor .question{position:relative;padding:16px;margin-right:-16px;margin-left:-16px;border-radius:0 0 8px 8px;transition:all .15s ease-in;border:1px solid transparent}.survey-editor .question:hover,.survey-editor .question:focus-within,.survey-editor .question.cdk-drag-placeholder,.survey-editor .question.is-active{background:#fbfbfb;border-color:#e7e7e7}.survey-editor .question.cdk-drag-placeholder{position:relative;z-index:1;cursor:grabbing;box-shadow:0 4px 24px #0003}.survey-editor .question:not(.cdk-drag-placeholder){transition:all .15s ease-in,transform 0ms ease}.survey-editor .question .content{transition:all .15s ease-in}.survey-editor .question>.content>.title:not(.has-description){margin-bottom:12px}.survey-editor .question>.content>.title.is-required:after{position:relative;top:3px;left:3px;content:"*";color:#dc3545}.survey-editor .question>.toolbar{position:absolute;z-index:1;top:1px;right:-1px;left:-1px;padding:8px 12px;border:1px solid #e7e7e7;border-bottom:0;background:#fbfbfb;border-radius:8px 8px 0 0;opacity:0;transition:all .15s ease-in}.survey-editor .question>.toolbar .order,.survey-editor .question>.toolbar .handle{white-space:nowrap;margin-right:8px;font-size:14px;width:14px;text-align:center}.survey-editor .question>.toolbar .handle{cursor:grab;color:#0288d1;font-size:18px}.survey-editor .question>.toolbar .handle:hover,.survey-editor .question>.toolbar .handle:focus{color:#747474}.survey-editor .question>.toolbar .type{margin-right:auto;text-transform:capitalize}.survey-editor .question>.toolbar .separator{border-right:1px solid #e7e7e7;height:16px;margin:0 12px}.survey-editor .question>.toolbar .button{color:#a7a7a7}.survey-editor .question>.toolbar .button:hover,.survey-editor .question>.toolbar .button:focus{background:white;color:#414141}.survey-editor .question>.toolbar .is-required,.survey-editor .question>.toolbar .is-required:focus,.survey-editor .question>.toolbar .is-required:active{color:#dc3545}.survey-editor .question>.toolbar .remove:hover,.survey-editor .question>.toolbar .remove:focus{color:#dc3545}.survey-editor .question>.toolbar .settings:hover,.survey-editor .question>.toolbar .settings:focus{color:#0288d1}.survey-editor .question:hover .toolbar,.survey-editor .question:focus-within .toolbar,.survey-editor .question.cdk-drag-placeholder .toolbar,.survey-editor .question.is-active .toolbar{opacity:1;transform:translateY(-70%)}.survey-editor .question .toolbar .is-active{background:transparent;color:#0288d1}.survey-editor .question .toolbar .button.-toolbar+.button.-toolbar{margin:0}.survey-editor .question-settings{padding:16px}.survey-editor .question-settings>.title{text-transform:uppercase;margin:0 0 16px;font-size:10px}.survey-editor .question-settings+.question-settings{border-top:1px solid #e7e7e7}.survey-editor .question-settings .checkbox{display:flex;height:26px;margin-left:0}.survey-editor .question-settings .checkbox .input,.survey-editor .question-settings .checkbox .list-editor .list-item,.survey-editor .list-editor .question-settings .checkbox .list-item,.survey-editor .question-settings .checkbox .multiple-input{width:52px;height:26px;text-align:center;margin-left:auto}.survey-editor .question-settings .checkbox .input[type=date],.survey-editor .question-settings .checkbox .list-editor [type=date].list-item,.survey-editor .list-editor .question-settings .checkbox [type=date].list-item,.survey-editor .question-settings .checkbox [type=date].multiple-input{padding:0 4px;width:135px}.survey-editor .question-settings .form-group:last-child .checkbox,.survey-editor .question-settings .body>.checkbox:last-child{margin-bottom:0}.survey-editor .list-editor .list-item{padding-left:0;padding-right:0;transition:all .15s ease-in}.survey-editor .list-editor .list-item.cdk-drag-placeholder{position:relative;z-index:1;background:white;border-color:#0288d1;box-shadow:0 2px 4px #0000001a;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:grabbing}.survey-editor .list-editor .list-item:not(.cdk-drag-placeholder){transition:all .15s ease-in,transform 0ms ease}.survey-editor .list-editor .list-item .handle{color:#a7a7a7}.survey-editor .list-editor .list-item .handle:hover,.survey-editor .list-editor .list-item .handle:focus{color:#5b5b5b}.survey-editor .list-editor .list-item .input,.survey-editor .list-editor .list-item .multiple-input,.survey-editor .list-editor .list-item .list-item{overflow:hidden;text-overflow:ellipsis}.survey-editor .list-editor .list-item .input:first-child,.survey-editor .list-editor .list-item .multiple-input:first-child,.survey-editor .list-editor .list-item .list-item:first-child{padding-left:12px}.survey-editor .list-editor .list-item .button{border-radius:0}.survey-editor .list-editor .list-item .remove:hover,.survey-editor .list-editor .list-item .remove:focus{color:#dc3545}.survey-editor .list-editor>.list-item.-other{border-style:dashed;background:transparent;padding:8px}.survey-editor .bulk-actions{padding-top:4px;background:#fbfbfb}.survey-editor .bulk-actions .remove-all{color:#ee521d;margin-left:auto}.survey-editor .bulk-editor{margin-top:12px}.survey-editor .scale .labels{padding-top:12px}.survey-editor .scale .labels .least{margin-right:auto}.survey-editor .scale .labels .most{margin-left:auto}.survey-editor slate-editable[contenteditable]>div>span:first-child:last-child>span>[data-slate-length="0"]{position:relative}.survey-editor slate-editable[contenteditable]>div>span:first-child:last-child>span>[data-slate-length="0"]:before{position:absolute;content:"Question...";-webkit-text-security:none;color:#c1c1c1;pointer-events:none!important;text-overflow:inherit;line-height:normal;line-height:initial;white-space:pre;overflow-wrap:normal;-webkit-user-modify:read-only!important;overflow:hidden}.survey-editor .choices.is-vertical{display:flex;flex-direction:column}.survey-editor .choices.is-horizontal{display:flex;flex-wrap:wrap;gap:10px}.survey-editor .choice{display:flex;align-items:center;padding-bottom:4px}.survey-editor .choice .box{display:block;width:14px;height:14px;margin-right:8px}.survey-editor .choice .content{margin:0;flex:1}.survey-editor .paragraph{font-size:1.125rem;line-height:1.4;margin:0}.survey-editor .paragraph-start{text-align:start}.survey-editor .paragraph-center{text-align:center}.survey-editor .paragraph-end{text-align:end}.survey-editor .paragraph-justify{text-align:justify}.survey-editor .localization-table .translation{width:50%}.survey-editor .localization-table .translation .button{position:absolute;z-index:1;top:0;bottom:0;margin:auto;height:28px;right:10px;opacity:0}.survey-editor .localization-table .translation:focus-within .button,.survey-editor .localization-table .translation:hover .button{opacity:1}.survey-editor .localization-table .original .context{color:#0288d1;border-color:#0288d1}.survey-editor .localization-table .body tr:focus-within{background:#fbfbfb}.survey-editor .localization-table .body tr:focus-within .context{opacity:1}.survey-editor .localization-groups{height:100%}.survey-editor .localization-groups .header{padding:16px;background:white}.survey-editor .localization-groups .header select{max-width:200px}.survey-editor .localization-groups .header .row{align-items:center}.survey-editor .localization-groups .header label{margin-bottom:0}.survey-editor .localization-groups .group summary{padding:16px;background:#f9f9f9;border-bottom:1px solid #e7e7e7}.workflow-editor{display:block;height:100%}.workflow-editor .empty-state{height:100%}.workflow-editor .remove{color:#ee521d}.workflow-editor>.settings-panel{height:100%}.workflow-editor>.settings-panel>.content{height:100%;overflow-y:auto}.workflow-editor>.settings-panel>.navigation>.header{padding:0 20px 0 0}.workflow-editor>.settings-panel>.navigation .item{padding:12px}.workflow-editor>.settings-panel>.navigation .item:not(.is-current):hover,.workflow-editor>.settings-panel>.navigation .item:not(.is-current):focus{background:#f4f4f4}.workflow-rule .col-icon{padding-right:0}.workflow-rule .col-icon .icon{font-size:48px;vertical-align:middle;color:#c1c1c1}.workflow-rule .col-details{padding-top:4px}.workflow-rule .col-details .title{margin:0}.workflow-rule .col-details .description{color:#8e8e8e}.workflow-rule .col-form{padding-top:6px}.workflow-rule .conditions .remove{margin:0 0 0 12px}.workflow-rule .conditions .condition{margin-bottom:12px}.workflow-rule .conditions .condition>[class^=col]+[class^=col]{margin-left:-1px}.workflow-rule .task{margin-top:24px;padding:24px;border-radius:8px;background:#f9f9f9}.workflow-rule .task:empty{display:none}.slate-block-card{display:block;position:relative}.slate-block-card .card-left,.slate-block-card .card-right{bottom:0;position:absolute;width:2px;overflow:hidden;-webkit-user-select:text;-moz-user-select:text;user-select:text}.slate-block-card .card-left{left:-2px;text-align:left}.slate-block-card .card-right{right:-2px;text-align:right}.slate-editable-container{display:block;outline:none;padding:32px;white-space:pre-wrap}.slate-editable-container [contenteditable=true]{outline:none}.slate-spacer{height:0;color:transparent;outline:none;position:absolute}.slate-editable-container{padding:0;min-height:32px}.slate-editable-container [slate-underlined][slate-strike]{text-decoration:underline line-through}.slate-editable-container [slate-strike]{text-decoration:line-through}.slate-editable-container [slate-underlined]{text-decoration:underline}.slate-editable-container [slate-italic]{font-style:italic}.slate-editable-container [slate-bold]{font-weight:700}.slate-editable-container [slate-code-line]{margin:0 4px;padding:2px 3px;border:1px solid rgba(0,0,0,.08);border-radius:2px;background-color:#0000000f}.slate-editable-container blockquote{margin:0;color:#888;padding-left:10px!important;border-left:4px solid #eee}.slate-editable-container h1,.slate-editable-container h2,.slate-editable-container h3{margin:0}.slate-editable-container>[data-slate-node=element],.slate-editable-container>slate-block-card{margin-bottom:12px}.block-title .slate-editable-container{padding:8px 0}.mention-view{background:#eee;padding:0 6px 0 4px;border-radius:12px;color:#666;white-space:nowrap;display:inline-block;margin:0 1px;cursor:pointer}.mention-view.focus{box-shadow:0 0 0 2px #b4d5ff}.mention-view.not-found{display:inline-flex;align-items:center;background:#dc3545;color:#fff}.mention-view.not-found .material-icons{font-size:17px;margin:0 4px 0 2px}.mention-suggestion-list{position:fixed;left:-999px;top:-999px;width:220px;max-height:230px;overflow-y:auto;z-index:99999;background-color:#fff;font-size:14px;padding:3px;border-radius:4px;box-shadow:0 1px 5px #0003}.mention-suggestion-list div{margin:0;line-height:35px;padding:0 0 0 10px;cursor:pointer;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mention-suggestion-list div.active{background-color:#0288d1;color:#fff;border-radius:3px}.mention-suggestion-list div .hstack{display:flex;flex-direction:row;align-items:center;align-self:stretch}.mention-suggestion-list div .hstack .icon{font-size:.875rem;margin-right:.5rem!important}.mention-suggestion-list div .mb-0{margin-bottom:0}.presets-page{display:block;height:100%}.presets-page>.row{height:100%}.presets-page>.row>.content{height:100%;overflow-y:auto}.presets-page>.row>.sidebar{position:relative;display:block;height:100%;width:300px;box-shadow:0 2px 4px #0000001a}.presets-page>.row>.sidebar>.card{height:100%;margin:0;border-radius:0}.presets-page>.row>.sidebar .header{text-align:center;padding:0 0 40px}.presets-page>.row>.sidebar .header .title,.presets-page>.row>.sidebar .header .icon{color:#0288d1}.presets-page>.row>.sidebar .header .icon{font-size:64px}.presets-page>.row>.sidebar .header .description{color:#747474}.presets-page>.row>.sidebar .search{position:relative;margin-top:24px}.presets-page>.row>.sidebar .search .input,.presets-page>.row>.sidebar .search .multiple-input,.presets-page>.row>.sidebar .search .survey-editor .list-editor .list-item,.survey-editor .list-editor .presets-page>.row>.sidebar .search .list-item{padding-left:12px}.presets-page>.row>.sidebar .search .button{position:absolute;top:0;bottom:0;right:2px;margin:auto}.presets-page>.row>.sidebar .categories-list>.title{color:#8e8e8e;margin-bottom:12px}.presets-page>.row>.sidebar .categories-list>.category>.chip{margin-left:auto}.presets-page>.row>.sidebar .categories-list>.category+.category{margin-top:4px}.presets-list{padding:24px}.presets-list .preset:nth-child(n+4){margin-top:24px}.preset-preview{position:fixed;z-index:9999999;inset:32px 0 0;width:100%;height:calc(100% - 32px);overflow:auto;background-color:#eee}.preset-preview>.sidebar{position:relative;width:350px;height:100%;box-shadow:0 2px 4px #0000001a}.preset-preview>.sidebar .card{border-radius:0;height:100%;margin:0}.preset-preview>.sidebar .loading{margin:auto}.preset-preview>.sidebar .close{position:absolute;top:12px;right:12px}.preset-preview>.sidebar .image{display:block;width:100%;height:200px;-o-object-fit:cover;object-fit:cover;background:#f9f9f9;-o-object-position:center;object-position:center;border-radius:4px;margin-bottom:16px;box-shadow:0 1px 1px #0000000f}.preset-preview>.sidebar .title{font-size:18px;margin-bottom:0}.preset-preview>.sidebar .description{color:#8e8e8e}.preset-preview>.sidebar .button{margin:0 0 12px}.preset-preview>.sidebar .want-more{position:relative;background:#fbfbfb;text-align:center;border-top:1px solid #e7e7e7;padding:24px}.preset-preview>.sidebar .want-more img{position:absolute;bottom:0;right:0;width:120px;pointer-events:none}.preset-preview>.content{flex-grow:1;align-self:stretch;height:100%;overflow-y:auto}.preset-preview>.content iframe{border:none;outline:none;width:100%;height:100%;vertical-align:middle;margin:0;padding:0}.card-preset{position:relative;display:block;cursor:pointer;overflow:hidden;padding:4px 4px 24px;border-radius:4px;transition:all .3s ease-out;box-shadow:0 0 0 1px #e7e7e7,0 1px 1px #0000000f;background:white}.card-preset .image{position:relative;overflow:hidden;border-radius:4px}.card-preset .image img{width:100%;height:275px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;transition:all .5s ease-out}.card-preset .image .icon{position:absolute;top:17%;left:0;right:0;text-align:center;opacity:0;transition:all .3s ease-out;color:#fff;text-shadow:0 1px 1px rgba(0,0,0,.06)}.card-preset.-compact .image img{height:200px}.card-preset .details{position:absolute;right:0;left:0;bottom:-4px;padding:12px;background:white;transition:all .3s ease-out}.card-preset .title{color:#0288d1;font-size:16px;transition:all .3s ease-out}.card-preset .meta{margin:8px -12px -12px;border-top:1px solid #e7e7e7;border-bottom:1px solid #e7e7e7;transition:all .3s ease-out}.card-preset .meta>.item{padding:12px;flex:1}.card-preset .meta>.item small{color:#8e8e8e}.card-preset .meta>.item+.item{border-left:1px solid #e7e7e7}.card-preset .description,.card-preset .actions{margin:0;font-size:12px;color:#5b5b5b;max-height:0;overflow:hidden;opacity:0;transition:all .3s ease-out}.card-preset:hover,.card-preset:focus,.card-preset:focus-within{box-shadow:0 0 0 1px #0288d1,0 4px 24px #0003;border-color:#fff}.card-preset:hover .image img,.card-preset:focus .image img,.card-preset:focus-within .image img{transform:scale(1.2) translateY(-15%) rotate(-5deg);filter:grayscale(1) brightness(50%)}.card-preset:hover .image .icon,.card-preset:focus .image .icon,.card-preset:focus-within .image .icon{opacity:1}.card-preset:hover .description,.card-preset:hover .actions,.card-preset:focus .description,.card-preset:focus .actions,.card-preset:focus-within .description,.card-preset:focus-within .actions{max-height:60px;opacity:1}.card-preset:hover .actions,.card-preset:focus .actions,.card-preset:focus-within .actions{padding-top:12px}.card-preset:hover .meta,.card-preset:focus .meta,.card-preset:focus-within .meta{margin-top:12px;margin-bottom:0}.card-preset:hover .details,.card-preset:focus .details,.card-preset:focus-within .details{bottom:0;box-shadow:0 4px 24px #0003}@keyframes activation-overlay{0%{opacity:0}to{opacity:1}}.activation-overlay{position:fixed;top:0;right:0;z-index:99999;width:100%;font-size:1rem;line-height:1.5;box-shadow:0 4px 24px #0003;background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);height:100%;animation:support-overlay .35s ease-in-out forwards}.activation-overlay a{cursor:pointer}.activation-overlay .title{font-weight:500;margin-bottom:32px}.activation-overlay .title span{display:block;font-size:120%}.activation-overlay .help,.activation-overlay .unlink{display:block;margin:16px 0;font-size:14px;color:#8e8e8e;text-align:center}.activation-overlay .unlink{color:#f7654a}.activation-overlay .text-primary{color:#0288d1}.activation-overlay .text-success{color:#00c7ac}.activation-overlay .text-important{color:#f7654a}.activation-overlay .badge{display:inline-flex;justify-content:center;align-items:center;width:48px;height:48px;margin:0 auto 16px;border-radius:50%;background-color:#f9f9f9;color:#8e8e8e}.activation-overlay .badge.is-active{background-color:#00c7ac;color:#fff}.activation-overlay .badge.has-expired{background-color:#f7654a;color:#fff}.activation-message{display:block;margin-bottom:16px;align-items:center;padding:8px 12px;border-radius:8px;background-color:#f9f9f9}.activation-message p{font-size:14px;line-height:1.25;margin-bottom:0}.activation-message i{font-size:20px;margin-left:16px}.activation-message.has-error{background-color:#fff4ef}.activation-message.has-error p,.activation-message.has-error i{color:#f7654a}.activation-message.is-success{background-color:#e5fffb}.activation-message.is-success p,.activation-message.is-success i{color:#00c7ac}.activation-container{position:relative;display:flex;flex-direction:column;align-items:center;background-color:#fff;border:none;border-radius:1rem;width:100%;overflow:hidden;max-width:960px}.activation-container .close{position:absolute;top:12px;right:14px;color:#8e8e8e;text-decoration:none;opacity:.5;transition:opacity .5s;cursor:pointer}.activation-container .close:hover{opacity:1}.activation-content{padding:24px;display:flex;flex-flow:column;align-items:center;justify-content:center;flex-grow:1;min-height:400px;width:100%}.activation-footer{position:relative;margin-top:auto;display:flex;align-items:center;width:100%;min-height:72px;border-top:1px solid #eeeeee}.activation-footer .logo,.activation-footer .copyright,.activation-footer .character{position:relative;padding:12px 24px}.activation-footer .logo,.activation-footer .character{flex-basis:20%}.activation-footer .logo img{width:110px;opacity:.8}.activation-footer .character{align-self:stretch}.activation-footer .character img{position:absolute;bottom:-1px;right:24px}.activation-footer .copyright{flex-grow:1;font-size:13px;text-align:center;color:#c1c1c1}.activation-button{display:flex;width:100%;padding:8px 16px;height:48px}.activation-button:hover,.activation-button:focus{outline:none;color:#a7a7a7;background-color:#e7e7e7}.activation-button.-important{background:#F7654A;color:#fff}.activation-button.-important:hover,.activation-button.-important:focus{outline:none;background-color:#f65032}.activation-button.-important:active{background:#F7654A}.activation-button.-warning{background:#ffc107;color:#fff}.activation-button.-warning:hover,.activation-button.-warning:focus{outline:none;background-color:#edb100}.activation-button.-warning:active{background:#ffc107}.activation-link{display:flex;align-items:center;justify-content:center;padding:8px;text-align:center;color:#747474}.activation-link .material-icons{margin-right:4px;margin-left:-.5em}.activation-link:hover{text-decoration:none;color:#414141}.activation-form{min-width:40%;margin:0 auto;text-align:center}.activation-form label{margin-bottom:16px;color:#747474}.activation-form .activation-input{display:flex;align-items:center;padding:0 16px;border-radius:8px 8px 0 0;background-color:#f9f9f9}.activation-form .activation-input input{flex-grow:1;height:48px;margin-left:8px;border:none;outline:none;font-size:14px;color:#8e8e8e;background-color:transparent}.activation-form .activation-input i{color:#e7e7e7}.activation-form .activation-input~.activation-button{border-radius:0 0 8px 8px}.modules-page{display:block;padding:24px}.modules-page .row>*{margin-bottom:24px}.module-card{position:relative;background:white;box-shadow:0 1px 1px #0000000f;border-radius:4px;overflow:hidden;width:100%;min-height:400px;height:100%;border-bottom:4px solid transparent;transition:all .15s ease-in}.module-card.is-activated{border-color:#0288d1}.module-card>.cover{height:200px;overflow:hidden;background:#f9f9f9;border-bottom:1px solid #f4f4f4}.module-card>.cover.is-empty img{filter:grayscale(1)}.module-card>.icon{position:relative;width:100px;height:100px;margin:-70px 20px 0;border:4px solid white;background:#f9f9f9;box-shadow:0 1px 1px #0000000f;border-radius:4px}.module-card>.icon img{border-radius:4px}.module-card>.cover img,.module-card>.icon img{width:100%;height:100%;overflow:hidden;-o-object-position:center;object-position:center;-o-object-fit:cover;object-fit:cover}.module-card>.body{padding:24px;flex:1}.module-card>.body>.name{font-weight:600}.module-card>.body>.meta{display:flex;align-items:center;text-transform:uppercase;font-size:10px;line-height:1;color:#a7a7a7}.module-card>.body>.meta>*+*{padding-left:4px;margin-left:4px;border-left:1px solid #a7a7a7}.module-card>.body>.description{color:#777}.module-card>.footer{display:flex;align-items:center;margin:0 24px 24px;min-height:36px}.module-card>.footer .uninstall{margin-left:auto}.module-card>.operation{position:absolute;z-index:1;inset:0;background:rgba(255,255,255,.95);border-radius:4px;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.module-card>.operation>.description{margin:24px 0}.module-card.-skeleton>.icon{background:#e7e7e7}.module-card.-skeleton>.body>.meta>*{border:0}.module-card.-skeleton>.body>.description:after{width:80%}.module-card.-install{background:transparent;border:1px dashed #a7a7a7}.module-card.-install .upload{position:relative;height:100%;width:100%;transition:all .15s ease-in}.module-card.-install .upload>.icon{font-size:64px;margin-bottom:12px;transition:all .15s ease-in}.module-card.-install .upload>.title{font-weight:500}.module-card.-install .upload input{position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;height:100%}.module-card.-install:hover{background:#fbfbfb;border-color:#fbfbfb}.module-card.-install:hover>.upload{color:#0288d1}.module-card.-install:hover>.upload>.icon{transform:translateY(-4px)}@keyframes module-activation-overlay{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.module-activation-wrapper{position:relative}.module-activation-overlay{position:absolute;inset:0;width:100%;height:100%;z-index:9999;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);background:rgba(255,255,255,.5);overflow:hidden;animation:fade-in 1s ease-out both}.module-activation-overlay-content{align-items:center;width:500px;border-radius:12px;background:white;box-shadow:0 2px 4px #0000001a;padding:24px;margin:auto;animation:pro-overlay 1s cubic-bezier(.4,0,.42,1.35) both,pro-overlay-ring 2s linear forwards infinite}.module-activation-overlay-content .title{color:#0288d1;margin:0}.module-activation-overlay-content .description{color:#8e8e8e}.module-activation-overlay-content .icon{font-size:36px;color:#0288d1}.module-activation-overlay-content .col-auto:first-child{padding-right:12px}.module-activation-overlay-content .col-auto:last-child{margin-left:auto}.options-panel{height:100%}.options-panel>.navigation{position:relative;box-shadow:0 1px 1px #0000000f;background:#f9f9f9}.options-panel>.navigation .main-tabs{max-width:960px;padding:0;margin:auto}.options-panel>.content{background:white;padding:24px;box-shadow:0 1px 1px #0000000f;border-radius:4px;width:100%;max-width:960px;margin:24px auto;height:100%;overflow-y:auto}.options-panel>.content.is-expressions{padding:0}.localization-table{flex:1;background:white;box-shadow:0 1px 1px #0000000f;border-radius:4px;overflow:hidden;padding:24px;width:100%}.localization-table td,.localization-table th{border-bottom:1px solid #e7e7e7;padding:16px}.localization-table .original{position:relative;width:400px;vertical-align:top}.localization-table .original .context{position:absolute;top:12px;right:12px;line-height:1;text-transform:uppercase;font-size:10px;color:#a7a7a7;padding:4px;background:white;border:1px solid #e7e7e7;border-radius:4px;box-shadow:0 1px 1px #0000000f;opacity:0;transition:all .15s ease-in}.localization-table .translation{border-left:2px solid #eeeeee}.localization-table .header{background:#fbfbfb}.localization-table .body .translation{position:relative;padding:0}.localization-table .body .translation .input,.localization-table .body .translation .multiple-input,.localization-table .body .translation .survey-editor .list-editor .list-item,.survey-editor .list-editor .localization-table .body .translation .list-item{position:absolute;inset:0;border:0;border-radius:0;box-shadow:none;padding:16px;height:100%;background:transparent;resize:none}.localization-table .body .translation .input:focus,.localization-table .body .translation .multiple-input:focus,.localization-table .body .translation .survey-editor .list-editor .list-item:focus,.survey-editor .list-editor .localization-table .body .translation .list-item:focus{background:#fbfbfb}.localization-table .body .translation .input::-moz-placeholder,.localization-table .body .translation .multiple-input::-moz-placeholder,.localization-table .body .translation .survey-editor .list-editor .list-item::-moz-placeholder,.survey-editor .list-editor .localization-table .body .translation .list-item::-moz-placeholder{color:#c1c1c1}.localization-table .body .translation .input::placeholder,.localization-table .body .translation .multiple-input::placeholder,.localization-table .body .translation .survey-editor .list-editor .list-item::placeholder,.survey-editor .list-editor .localization-table .body .translation .list-item::placeholder{color:#c1c1c1}.localization-table .body .translation .input+.input,.localization-table .body .translation .multiple-input+.input,.localization-table .body .translation .survey-editor .list-editor .list-item+.input,.survey-editor .list-editor .localization-table .body .translation .list-item+.input,.localization-table .body .translation .input+.multiple-input,.localization-table .body .translation .multiple-input+.multiple-input,.localization-table .body .translation .survey-editor .list-editor .list-item+.multiple-input,.survey-editor .list-editor .localization-table .body .translation .list-item+.multiple-input,.localization-table .body .translation .survey-editor .list-editor .input+.list-item,.survey-editor .list-editor .localization-table .body .translation .input+.list-item,.localization-table .body .translation .survey-editor .list-editor .multiple-input+.list-item,.survey-editor .list-editor .localization-table .body .translation .multiple-input+.list-item,.localization-table .body .translation .survey-editor .list-editor .list-item+.list-item,.survey-editor .list-editor .localization-table .body .translation .list-item+.list-item{border-top:1px solid #e7e7e7}.localization-table .body tr:hover{background:#fbfbfb}.localization-table .body tr:hover .context{opacity:1}@keyframes support-overlay{0%{opacity:0}to{opacity:1}}.support-overlay{position:fixed;top:0;right:0;z-index:99999;width:100%;box-shadow:0 4px 24px #0003;background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);height:100%;animation:support-overlay .35s ease-in-out forwards}.support-overlay>.body{width:100%;max-width:960px}.support-overlay>.body>.search{position:relative;height:72px;border-bottom:1px solid #e7e7e7}.support-overlay>.body>.search .icon{position:absolute;width:72px;height:72px;line-height:72px;top:0;bottom:0;left:0;text-align:center;pointer-events:none}.support-overlay>.body>.search input{background:#eeeeee;height:100%;border:0;outline:0;padding-left:72px;border-radius:4px 4px 0 0;width:100%;transition:all .15s ease-in}.support-overlay>.body>.search input:hover,.support-overlay>.body>.search input:focus{background:#f9f9f9}.support-overlay>.body .content{padding:24px;background:white;border-radius:0 0 4px 4px}.docs-section>.title{padding-bottom:16px;margin-bottom:16px;border-bottom:1px solid #eeeeee;font-weight:500}.docs-section>.links{margin:0;padding:0;list-style:none}.docs-section>.links>.link{margin-bottom:8px}.premium-support{background:#0288D1;color:#fff;padding:48px 24px;border-radius:4px;text-align:center}.premium-support>.icon{font-size:64px;margin-bottom:24px}.premium-support>.title{font-weight:500}.premium-support>.description{color:#d3efff}@keyframes satisfaction-popup-fade{0%{opacity:0}to{opacity:1}}@keyframes satisfaction-popup{0%{transform:scale(0)}to{transform:scale(1)}}satisfaction-popup{position:fixed;z-index:9999999;top:0;right:0;left:0;height:100%;width:100%;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:rgba(0,0,0,.5);animation:satisfaction-popup-fade ease-in-out .25s both}.satisfaction-popup{width:460px;margin:auto;box-shadow:0 4px 24px #0003;border-radius:12px;padding:24px;background:white;animation:satisfaction-popup ease-in-out .5s both}.satisfaction-popup .nps .title{line-height:1;padding-bottom:20px;margin-bottom:20px;border-bottom:2px solid #e7e7e7}.satisfaction-popup .nps .items{display:flex;justify-content:space-between;text-transform:uppercase;font-size:10px}.satisfaction-popup .nps .items+.items{margin-top:12px}.satisfaction-popup .nps .items .button{width:30px;height:30px}.satisfaction-popup .nps .comment{padding-top:12px;margin-top:12px;border-top:1px solid #e7e7e7}.satisfaction-popup .nps .comment .button{margin-top:12px}.satisfaction-popup .nps .footer{padding-top:12px;margin-top:12px;justify-content:flex-end}.satisfaction-popup .thank-you{margin:0;text-align:center;font-size:18px}.satisfaction-popup .close{position:absolute;top:14px;right:12px}@keyframes totalsuite-presentation{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes totalsuite-presentation-reverse{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes totalsuite-backdrop{0%{opacity:0}to{opacity:1}}@keyframes totalsuite-backdrop-reverse{0%{opacity:1}to{opacity:0}}.totalsuite-backdrop{position:absolute;z-index:1;inset:0;opacity:0;background:rgba(0,0,0,.5);animation:totalsuite-backdrop .35s ease-out forwards}.totalsuite-backdrop.is-closing{animation:totalsuite-backdrop-reverse .35s ease-out forwards}.totalsuite-presentation{position:absolute;z-index:2;bottom:0;top:0;left:0;height:100%;display:flex;flex-direction:column;transform:scale(0);transform-origin:bottom left;overflow-y:auto;animation:totalsuite-presentation .35s ease-out forwards;box-shadow:0 4px 24px #0003;background:white}.totalsuite-presentation.is-closing{animation:totalsuite-presentation-reverse .35s ease-out forwards}.totalsuite-presentation>.header{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:36px 36px 0;background:linear-gradient(0deg,rgba(0,0,0,.035) 0%,rgba(255,255,255,0) 100%)}.totalsuite-presentation>.header .title{margin-top:auto}.totalsuite-presentation>.header .description{margin-bottom:24px}.totalsuite-presentation>.header .cover{width:350px;margin-top:auto}.totalsuite-presentation>.body{display:flex;flex-direction:column;flex:1 0}.totalsuite-presentation>.body>.product{display:flex;align-items:center;padding:24px;border-bottom:1px solid #e7e7e7;text-decoration:none;color:#444}.totalsuite-presentation>.body>.product .image{margin-right:20px;width:48px;height:48px}.totalsuite-presentation>.body>.product .name{color:#444;margin:0}.totalsuite-presentation>.body>.product .description{color:#a7a7a7;margin:0}.totalsuite-presentation>.body>.product .icon{margin-left:auto;color:transparent;transition:all .15s ease-in}.totalsuite-presentation>.body>.product:hover{background:#f9f9f9}.totalsuite-presentation>.body>.product:hover .icon{color:#0288d1}.totalsuite-presentation>.footer{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:24px}.totalsuite-presentation>.footer>.icon{font-size:36px;margin:24px 0}.totalsuite-presentation>.footer>.description{color:#777;margin:0}@keyframes feedback-collector{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translateY(0)}}.feedback-collector{position:absolute;z-index:2;bottom:0;right:0;display:flex;flex-direction:column;transform:translateY(-100%);transform-origin:bottom center;animation:feedback-collector 1s ease-out forwards;box-shadow:0 4px 24px #0003;background:white;width:350px;border-radius:4px 0 0}.feedback-collector>.header{padding:24px}.feedback-collector .title{color:#0288d1}.feedback-collector .description{margin:0}.feedback-collector .button-group{margin-top:24px}.feedback-collector .form{padding:24px;background:#fbfbfb}.feedback-collector .form-group:last-child{text-align:right}[pro-badge]{position:relative}[pro-badge] .pro-badge-inline{position:absolute;inset:0;width:100%;height:100%;z-index:9999;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);background:rgba(255,255,255,.5)}[pro-badge] .pro-badge-inline:after{content:"PRO";padding:4px 8px;border-radius:12px;font-size:12px;line-height:1;background:#0288D1;color:#fff;display:inline-block}feature-switch[pro-badge]{display:block}feature-switch[pro-badge] .pro-badge-inline{background:rgba(255,255,255,.25)}feature-switch[pro-badge] .pro-badge-inline:after{margin-right:20px;margin-left:auto}[activate-badge]{position:relative;margin-bottom:0}[activate-badge] .activate-badge-inline{position:absolute;inset:0;width:100%;height:100%;z-index:9999;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);background:rgba(255,255,255,.5)}[activate-badge] .activate-badge-inline:after{content:"Activation required";padding:4px 8px;border-radius:12px;font-size:12px;line-height:1;background:#fcb100;color:#fff;display:inline-block}[activate-badge]~.activate-notification{display:flex;margin:0 0 1rem;align-items:center;padding:.5rem .5rem .5rem 1rem;border-radius:0 0 4px 4px;background-color:#fff7e7}[activate-badge]~.activate-notification .activate-message{display:flex;align-items:center;font-size:.75rem;line-height:1.4;margin-bottom:0!important;margin-right:1rem;color:#4a422f}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}[activate-badge]~.activate-notification .activate-message .material-icons{animation:spin;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear;margin-right:.5rem}[activate-badge]~.activate-notification .button{margin-left:auto}feature-switch[activate-badge]{display:block}feature-switch[activate-badge] .activate-badge-inline{background:rgba(255,255,255,.25)}feature-switch[activate-badge] .activate-badge-inline:after{margin-right:20px;margin-left:auto}feature-switch[activate-badge]~.activate-notification{margin:-1.5rem 0 1rem}upgrade-modal{display:block}.upgrade-modal-wrapper{position:fixed;z-index:9999999;inset:0;height:100%;width:100%;overflow:auto;background:rgba(2,103,158,.98);animation:satisfaction-popup-fade ease-in-out .25s both}.upgrade-modal-wrapper .close.button{position:absolute;top:12px;right:12px;color:#fff;font-size:24px}.upgrade-modal{position:relative;width:860px;margin:auto;box-shadow:0 4px 24px #0003;border-radius:12px;background:white;animation:satisfaction-popup ease-in-out .5s both}.upgrade-modal>.body .why{padding:36px}.upgrade-modal>.body .why .title{margin-bottom:36px}.upgrade-modal>.body .why .row .icon{display:flex;flex-direction:column;align-items:center;justify-content:center;width:54px;height:54px;border-radius:12px;background:#d3efff;color:#0288d1}.upgrade-modal>.body .why .row{align-items:center}.upgrade-modal>.body .why .row+.row{margin-top:24px}.upgrade-modal>.body .continue{padding:36px;border-radius:12px;box-shadow:0 1px 1px #0000000f;background:#e8f7ff;margin:12px}.upgrade-modal>.body .continue .title{text-align:center}.upgrade-modal>.body .continue .price{font-size:18px;color:#0288d1;text-align:center}.upgrade-modal>.body .continue .form{padding:0 24px}.upgrade-modal>.body .continue .form:before{display:block;content:"";width:100px;border-bottom:1px solid #d3efff;margin:16px auto}.upgrade-modal>.body .continue .button{padding:24px}.upgrade-modal>.body .continue .gateway{display:flex;align-items:center;justify-content:center;padding:12px;margin-right:8px;color:#777;font-size:12px}.upgrade-modal>.body .continue .gateway .icon{font-size:140%;margin-right:12px;color:#ffb300}.upgrade-modal .review{margin:24px 0 0}.upgrade-modal .review .row{align-items:center}.upgrade-modal .review .image{width:40px;height:40px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;border-radius:50%;margin:0 12px}.upgrade-modal .review .position{font-size:12px;color:#a7a7a7}.upgrade-modal .review .content{position:relative;padding:24px;background:#f4f4f4;border-radius:12px;font-size:16px;line-height:1.35;color:#5b5b5b}.upgrade-modal .review .content:after{content:"";position:absolute;top:calc(100% - 5px);left:28px;width:10px;height:10px;background:#f4f4f4;transform:rotate(45deg)}.upgrade-modal .review .content .quote{position:absolute;top:-20px;right:0;font-size:48px;color:#c1c1c1;pointer-events:none}@keyframes pro-overlay{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}@keyframes pro-overlay-ring{0%{box-shadow:0 0 #0288d126,0 0 #0288d140,0 2px 4px #0000001a}to{box-shadow:0 0 0 20px #0288d100,0 0 0 10px #0288d100,0 2px 4px #0000001a}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.pro-overlay-wrapper{position:relative}.pro-overlay{position:absolute;inset:0;width:100%;height:100%;z-index:9999;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);background:rgba(255,255,255,.5);overflow:hidden;animation:fade-in 1s ease-out both}.pro-overlay-content{align-items:center;width:500px;border-radius:12px;background:white;box-shadow:0 2px 4px #0000001a;padding:24px;margin:auto;animation:pro-overlay 1s cubic-bezier(.4,0,.42,1.35) both,pro-overlay-ring 2s linear forwards infinite}.pro-overlay-content .title{color:#0288d1;margin:0}.pro-overlay-content .description{color:#8e8e8e}.pro-overlay-content .icon{font-size:36px;color:#0288d1}.pro-overlay-content .col-auto:first-child{padding-right:12px}.pro-overlay-content .col-auto:last-child{margin-left:auto}.popup-editor{display:block;height:100%}.popup-editor .survey-editor>.content{padding:24px;height:100%;overflow-y:auto}.popup-editor .navigation .extension-presentation{flex-direction:column;padding:12px 0}.popup-editor .navigation .extension-presentation>.name{color:#0288d1;margin:0}.popup-editor .navigation .extension-presentation>.version{color:#8e8e8e}.popup-editor .shadow-preview{display:block;min-height:100px;margin-bottom:12px;border:1px solid #e7e7e7;border-radius:4px;cursor:pointer}.popup-editor .shadow-preview.-regular{box-shadow:0 3px #0000000d}.popup-editor .shadow-preview.-large{box-shadow:0 5px 10px #0000001a}.popup-editor .shadow-preview.-active{border-color:#0288d1}.form-group.-sub{padding-left:16px;margin-left:8px;border-left:1px solid #eeeeee}.list-item-with-media .list-item:first-child{margin-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.list-item-with-media .list-item:last-child{border-top:0;border-top-right-radius:0;border-top-left-radius:0}.image-choices{margin-top:-12px;margin-bottom:-12px}.image-choices>[class*=col]{margin-top:12px;margin-bottom:12px}.image-choices .image-choice{display:flex;flex-direction:column;border:1px solid #e7e7e7;border-radius:8px;box-shadow:0 1px 1px #0000000f;height:100%;background:white;transition:all .15s ease-in}.image-choices .image-choice:hover{background:#0288D1;color:#fff;box-shadow:0 4px 24px #0003}.image-choices .image-choice:hover img{box-shadow:0 1px 1px #0000000f}.image-choices .image-choice .image{padding:8px}.image-choices .image-choice .image img{display:block;max-width:100%;width:100%;min-height:150px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;border-radius:4px;border:3px solid white}.image-choices .image-choice .image img.is-empty{background:#eeeeee}.image-choices .image-choice .label{margin:auto 0 0;padding:8px;text-align:center;word-break:break-word}.matrix-table{width:100%;table-layout:fixed}.matrix-table th,.matrix-table td{font-weight:400}.matrix-table th:not(:first-child),.matrix-table td:not(:first-child){text-align:center}.matrix-table th input{text-align:center}.matrix-table tbody tr td:not(:first-child){border-left:1px solid #eeeeee}.matrix-table tbody tr .input.-transparent,.matrix-table tbody tr .-transparent.multiple-input,.matrix-table tbody tr .survey-editor .list-editor .-transparent.list-item,.survey-editor .list-editor .matrix-table tbody tr .-transparent.list-item{width:100%;padding:0 8px}.matrix-table tbody tr:nth-child(odd) td{background:#f9f9f9}.rating .points{display:inline-flex;flex-direction:row}.rating .points .point{font-size:24px;filter:grayscale(1);cursor:pointer;transition:all .15s ease-in}.rating .points:not(.is-faces,.is-static):hover .point,.rating .points.is-faces .point:hover{filter:none;transform:scale(1.1)}.rating .points:not(.is-static):hover .point:hover~.point{filter:grayscale(1);transform:scale(1)}.rating .points.is-static .point{filter:none}.rating .points.is-static .is-active~.point{filter:grayscale(1)}.question-settings .embed-label{display:flex;align-items:center;margin-bottom:0}.question-settings .embed-label .button{margin-left:auto;padding-right:0}.question-editor .content .image-block-preview{display:flex;flex-flow:column;justify-content:center;align-items:center}.question-editor .content .image-block-preview .icon{font-size:48px;min-height:200px;min-width:200px;text-align:center;line-height:200px;color:#c1c1c1;border:2px dashed #c1c1c1;margin:0 0 12px}.question-editor .content .image-block-preview img{max-width:100%}.question-editor .content .image-block-preview figure{display:flex;flex-flow:column;justify-content:center;align-items:center;margin:0;width:100%}.question-editor .content .image-block-preview figure.left{align-items:flex-start;text-align:left}.question-editor .content .image-block-preview figure.center{align-items:center;text-align:center}.question-editor .content .image-block-preview figure.right{align-items:flex-end;text-align:right}.question-editor .content .image-block-preview figcaption{margin:12px 0 0;width:100%}.question-editor .content .block-title{margin-bottom:0}.question-editor .content .title-h1{font-size:3rem}.question-editor .content .title-h2{font-size:2.5rem}.question-editor .content .title-h3{font-size:2rem}.question-editor .content .title-h4{font-size:1.5rem}.question-editor .content .title-h5{font-size:1.25rem}.question-editor .content .title-h6{font-size:1rem}.question-editor .content .title-start{text-align:start}.question-editor .content .title-center{text-align:center}.question-editor .content .title-end{text-align:end}.question-editor .content .title-justify{text-align:justify}.question-editor .content .separator{display:block;margin:2rem auto;height:3px;background-color:gray}users,counter,timeline,sections,question{display:block}insights{min-height:100%}insights .container-fluid,insights .container-sm,insights .container-md,insights .container-lg,insights .container-xl{padding:0 24px}insights>.row{flex:1}insights .empty-state{height:100%}insights input[type=datetime-local]{width:210px}insights .card>.body{padding:1rem}insights .card>.header,insights .card>.footer{position:relative;padding:0;display:flex;align-items:center;border-bottom:1px solid #eeeeee}insights .card>.header{border-bottom:1px solid #eeeeee}insights .card>.footer{border-top:1px solid #eeeeee}insights .card .header-item,insights .card .footer-item{margin-bottom:0}insights .card .header-right{margin-left:auto;margin-right:20px;display:flex;align-self:stretch;align-items:center}insights .card .header-item{padding:.75rem 1rem}insights .card .header-separator{border-right:1px solid #e7e7e7;height:50%;margin:0 12px}insights .card .footer-item{padding:1rem;justify-content:stretch;flex-grow:1;font-size:1.125em;color:#8e8e8e}insights .card .footer-item+.footer-item{border-left:1px solid #eeeeee}insights .insights-list{display:flex;list-style:none;margin:0;padding:0}insights .insights-list-item{padding:.5rem}insights .insights-label:before{content:"";display:inline-block;margin-right:.5rem;width:.5rem;height:.5rem;border-radius:50%;background-color:#eee}insights .insights-label.is-0:before{background-color:#e73934}insights .insights-label.is-1:before{background-color:#ff812a}insights .insights-label.is-2:before{background-color:#ffbc1a}insights .insights-label.is-3:before{background-color:#99b72c}insights .insights-label.is-4:before{background-color:#39a23d}insights .insights-label.is-5:before{background-color:#673a12}insights .insights-label.is-6:before{background-color:#4c2eb5}insights .insights-label.is-7:before{background-color:#0376b0}insights .insights-label.is-8:before{background-color:#0ea0b0}insights .insights-label.is-9:before{background-color:#455a64}insights .insights-label.is-10:before{background-color:#607d8b}insights .dialog{position:absolute;z-index:1;top:80%;width:-moz-fit-content;width:fit-content;background:white;box-shadow:0 2px 4px #0000001a;border:1px solid #c1c1c1;border-radius:4px;text-align:left;overflow:hidden;transform:scale(0);transform-origin:top left;transition:all .15s ease-in}insights .dialog.is-open{transform:scale(1)}insights .dialog.filters{right:107px}insights .dialog.export{right:21px}insights .dialog.export .button{margin-left:0;margin-bottom:10px}insights .dialog .body{padding:20px 20px 0}insights .dialog .body .row{padding-bottom:20px}insights .dialog .body .include-obsolete~[data-tooltip][data-tooltip-bottom]:hover:before,insights .dialog .body .include-obsolete~[data-tooltip][data-tooltip-bottom]:focus:before{left:121%}insights .dialog .footer{text-align:right;padding:20px;border-top:1px solid #e7e7e7;background:#fbfbfb}insights users .footer-item{text-align:center}insights counter{display:flex;flex-flow:column nowrap;align-items:stretch;height:100%}insights counter .card{height:100%}insights counter table{width:100%;height:100%;table-layout:fixed}insights counter table td{text-align:center;vertical-align:middle}insights counter table tr+tr td{border-top:1px solid #eeeeee}insights counter table tr td:first-child{border-right:1px solid #eeeeee}insights counter .counter-number{display:block;text-align:center}insights counter .counter-number strong,insights counter .counter-number span{display:block}insights counter .counter-number strong{font-size:3rem;font-weight:600}insights counter .counter-number span{margin-bottom:1rem;color:#a7a7a7}insights counter .counter-number.color-1>strong{color:var(--chart-color-0)}insights counter .counter-number.color-2>strong{color:var(--chart-color-2)}insights counter .counter-number.color-3>strong{color:var(--chart-color-4)}insights counter .counter-number.color-4>strong{color:var(--chart-color-6)}insights timeline .card .footer-item{padding:1rem .5rem;font-size:.875rem;line-height:1.25;text-align:center}insights sections{display:flex;flex-flow:column nowrap;height:100%}insights sections .card>.header{padding:.75rem 1rem}insights .insights-sections{height:100%}insights .insights-sections-list{min-width:250px}insights question+question{margin-top:1rem}insights question .card>.header>.title{padding:0;border:none;margin-bottom:0;font-size:1rem;color:currentColor}insights question>.row{align-items:center}insights question .insights-list{flex-flow:column;align-items:flex-start}insights question .insights-list-item{padding-left:0;text-align:start}insights question .insights-label.is-0:before{background-color:#e73934}insights question .insights-label.is-1:before{background-color:#ff812a}insights question .insights-label.is-2:before{background-color:#ffbc1a}insights question .insights-label.is-3:before{background-color:#99b72c}insights question .insights-label.is-4:before{background-color:#39a23d}insights question .insights-label.is-5:before{background-color:#673a12}insights question .insights-label.is-6:before{background-color:#4c2eb5}insights question .insights-label.is-7:before{background-color:#0376b0}insights question .insights-label.is-8:before{background-color:#0ea0b0}insights question .insights-label.is-9:before{background-color:#455a64}insights question .insights-label.is-10:before{background-color:#607d8b}insights .rating .points .point{font-size:16px}@keyframes publish-insights-overlay{0%{opacity:0}to{opacity:1}}.publish-insights-overlay{position:fixed;top:0;right:0;z-index:99999;width:100%;font-size:1rem;line-height:1.5;box-shadow:0 4px 24px #0003;background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);height:100%;animation:support-overlay .35s ease-in-out forwards}.publish-container{position:relative;display:flex;background-color:#fff;border:none;border-radius:.5rem;width:100%;overflow:hidden;max-width:720px}.publish-container .col-12,.publish-container .col-8{padding:0}.publish-container .close{position:absolute;top:12px;right:14px;color:#8e8e8e;text-decoration:none;opacity:.5;transition:opacity .5s;cursor:pointer;z-index:1000}.publish-container .close:hover{opacity:1}.publish-container .card{margin-bottom:0;box-shadow:none;border-radius:0}.publish-container .card .header{border-bottom:1px solid #e7e7e7;padding:15px}.publish-container .card .header .title{border-bottom:0px;padding:0 10px}.publish-container .card .description{position:relative;background:#fbfbfb;text-align:center;border-top:1px solid #e7e7e7;padding:12px}.scoring-editor{display:flex;flex-flow:column nowrap;width:100%;height:100%;padding:24px}.scoring-editor>.row{min-height:100%}.scoring-editor .button.-icon{margin-left:8px}.scoring-editor .button.-icon.remove{color:#ee521d}.scoring-editor .empty-state{margin:auto;height:100%}.panel{display:flex;flex-flow:column nowrap;height:100%;border-radius:4px;box-shadow:0 1px 3px #0000000f;background-color:#fff;overflow:hidden}.panel-header,.scoring-editor .grading-footer{display:flex;justify-content:flex-start;align-items:center;width:100%;padding:16px;background-color:#fff;border-bottom:1px solid #e7e7e7}.panel-footer{display:flex;justify-content:flex-start;align-items:center;width:100%;padding:16px;background-color:#fff;border-top:1px solid #e7e7e7}.panel-header .button,.scoring-editor .grading-footer .button{margin-left:auto}.panel-title{margin-bottom:0;font-size:18px}.panel-container{display:flex;flex-grow:1;justify-content:flex-start;align-items:stretch}.scoring-editor .scoring .panel-header .labeled-switch,.scoring-editor .scoring .grading-footer .labeled-switch{margin-left:24px}.scoring-editor .scoring-sidebar{flex:0 0 30%;list-style:none;padding:0;margin:0;border-right:1px solid #e7e7e7;background:#f9f9f9}@media (min-width: 992px){.scoring-editor .scoring-sidebar{flex:0 0 25%}}.scoring-editor .scoring-sidebar li{display:flex;justify-content:space-between;margin-right:-1px;align-items:center;padding:16px;border-right:1px solid transparent;border-left:3px solid transparent;cursor:pointer;transition:all .2s linear;color:#8e8e8e;border-bottom:1px solid #e7e7e7}.scoring-editor .scoring-sidebar li small{margin-left:auto}.scoring-editor .scoring-sidebar li:hover:not(.is-active){color:#444;background:#fbfbfb;border-left-color:#f9f9f9}.scoring-editor .scoring-sidebar li.is-active{color:#0288d1;border-right-color:#fff;border-left-color:#0288d1bf;background:white}.scoring-editor .scoring-sidebar .scoring-total{justify-content:flex-end;cursor:auto;background:transparent!important;border:0}.scoring-editor .scoring-sections{position:relative;display:flex;flex:1;flex-flow:column nowrap;align-items:stretch;height:100%;overflow:auto}.scoring-editor .scoring-section{position:absolute;inset:0;flex-grow:1;overflow:auto;display:block;padding:24px}.scoring-editor .scoring .table{border:2px solid #eeeeee;margin-bottom:24px}.scoring-editor .scoring .table thead tr:first-child th{background:#f9f9f9}.scoring-editor .scoring .table td,.scoring-editor .scoring .table th{border:0}.scoring-editor .grading-container{position:absolute;inset:0;height:100%;overflow:auto;overflow:overlay}.scoring-editor .grading .panel-content{position:relative;flex-grow:1}.scoring-editor .grading-footer{margin-top:auto;background-color:#fff;justify-content:flex-end;border-top:1px solid #e7e7e7}.scoring-editor .grading .badge{width:100%;transition:all .2s ease-out}.scoring-editor .grading .badge-header{display:flex;justify-content:flex-start;align-items:center;padding:12px 16px;color:#8e8e8e;background:#f9f9f9;border-radius:0;border-bottom:1px solid #e7e7e7;cursor:pointer}.scoring-editor .grading .badge-header .button.-plain{width:24px;height:24px}.scoring-editor .grading .badge-color{position:relative;margin-right:16px;width:24px;height:24px;line-height:24px;text-align:center;background-color:#f2f2f2;color:#f2f2f2;border-radius:50%;transition:transform .2s ease-out;cursor:pointer}.scoring-editor .grading .badge-color .icon{position:absolute;inset:0;font-size:16px;line-height:23px}.scoring-editor .grading .badge-color input{position:absolute;inset:0;opacity:0}.scoring-editor .grading .badge-scale{margin-left:auto;white-space:nowrap}.scoring-editor .grading .badge-content{padding:16px;border-bottom:1px solid #e7e7e7}.scoring-editor .grading .badge-content .label{padding:0;margin-bottom:8px}.scoring-editor .grading .badge-range{display:flex;align-items:center}.scoring-editor .grading .badge-range .range{flex-grow:1;margin:0 16px}.scoring-editor .grading .badge-range span{flex-basis:10%}.scoring-editor .grading .badge-variables{display:flex;align-items:center;margin-top:8px}.scoring-editor .grading .badge-variables small{margin-right:auto}.scoring-editor .grading.-active .badge{opacity:.25}.scoring-editor .grading.-active .badge:hover,.scoring-editor .grading.-active .badge:focus-within{opacity:1}.scoring-filters{display:block;width:100%}.scoring-filters-value{color:#a7a7a7}.scoring-filters>.row+.row{margin-top:.5rem}.scoring-filters-grades{display:flex;justify-content:center;list-style:none;margin:0;padding:0}.scoring-filters-grades li{flex:1 0 auto;padding:8px;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;transition:opacity .3s;opacity:.5}.scoring-filters-grades li span{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:4px;background-color:#eee}.scoring-filters-grades li.is-selected,.scoring-filters-grades li:hover{opacity:1}.scoring-editor .ngx-slider,.scoring-filters .ngx-slider{margin:16px 0 32px}.scoring-editor .ngx-slider .ngx-slider-pointer,.scoring-filters .ngx-slider .ngx-slider-pointer{width:20px;height:20px;top:-9px;transition:transform .3s}.scoring-editor .ngx-slider .ngx-slider-pointer:focus,.scoring-editor .ngx-slider .ngx-slider-pointer:after,.scoring-filters .ngx-slider .ngx-slider-pointer:focus,.scoring-filters .ngx-slider .ngx-slider-pointer:after{outline:none}.scoring-editor .ngx-slider .ngx-slider-pointer:after,.scoring-filters .ngx-slider .ngx-slider-pointer:after{top:6px;left:6px}.scoring-editor .ngx-slider .ngx-slider-pointer:hover,.scoring-filters .ngx-slider .ngx-slider-pointer:hover,.scoring-editor .ngx-slider .ngx-slider-pointer.ngx-slider-active,.scoring-filters .ngx-slider .ngx-slider-pointer.ngx-slider-active{transform:scale(1.2)}.scoring-editor .ngx-slider .ngx-slider-pointer.ngx-slider-active:after,.scoring-filters .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:transparent}.scoring-editor .ngx-slider .ngx-slider-bubble,.scoring-filters .ngx-slider .ngx-slider-bubble{text-align:center;font-size:14px;top:calc(100% + 8px)}.scoring-details{display:block;padding:24px;border-bottom:1px solid #e7e7e7;background:white}.scoring-details .title{display:block;margin-bottom:12px}.scoring-details-container{display:flex}.scoring-details-item{display:flex;flex-basis:20%;flex-flow:column nowrap}.scoring-details-item+.scoring-details-item{padding-left:24px;border-left:1px solid #e7e7e7}.scoring-details-label{margin-bottom:8px;display:block;font-size:13px;color:#8e8e8e;text-transform:uppercase}.wrapper-layout{min-height:auto;height:100%}.ml-auto{margin-left:auto}.design-customizer-wrapper{padding:24px;height:100%}.design-customizer{height:100%}.design-customizer>.row{flex:1;height:100%}.design-customizer>.row card{height:100%}.design-customizer>.row .card{height:100%}.design-customizer>.row .card>.body{overflow-y:auto}.design-customizer .custom-css .input,.design-customizer .custom-css .multiple-input,.design-customizer .custom-css .survey-editor .list-editor .list-item,.survey-editor .list-editor .design-customizer .custom-css .list-item{background:#f9f9f9;height:99%;resize:none;padding:16px}.color-builder{position:relative;margin-bottom:12px}.color-builder>.base input,.color-builder>.contrast input{position:absolute;inset:0;width:100%;height:100%;opacity:0;cursor:pointer}.color-builder>.base{position:relative;flex-shrink:0;width:36px;height:36px;border-radius:4px 0 0 4px;box-shadow:0 1px 1px #0000000f}.color-builder>.base>.icon{opacity:0;transition:all .15s ease-in;text-shadow:0 1px 1px rgba(0,0,0,.06)}.color-builder>.base:hover .icon{opacity:1}.color-builder .contrast{position:absolute;top:-4px;left:-4px;height:24px;width:24px;text-align:center;text-transform:uppercase;font-size:10px;border-radius:4px;box-sizing:content-box;box-shadow:0 2px 4px #0000001a}.color-builder .contrast>.icon{line-height:24px;font-size:16px;text-shadow:0 1px 1px rgba(0,0,0,.06)}.color-builder>.input,.color-builder>.multiple-input,.survey-editor .list-editor .color-builder>.list-item{border-radius:0 4px 4px 0;text-align:center}.color-builder>.name{position:absolute;font-size:8px;top:-5px;right:2px;background:white;line-height:1;text-transform:uppercase;color:#c1c1c1}\n'],encapsulation:3}),o})();var c=g(6895),bt=g(5356),se=g(7809),O=g(529);let vt=(()=>{class o{constructor(t){this.httpClient=t}getBlogPosts(){var t=this;return(0,f.Z)(function*(){return t.httpClient.get("admin/dashboard/blog").toPromise()})()}getActivity(){var t=this;return(0,f.Z)(function*(){return t.httpClient.get("admin/dashboard/activity").toPromise()})()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(O.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var F=g(4128),w=g(1795),h=g(3378),b=g(9176),Ae=g(8929);class be{static compileSlateBlocksToText(s){return s.map(n=>n.children.map(i=>i.type&&"mention"===i.type?`$${i.label}$`:i.text||"").join("")).join("<br>")}}class Me extends be{}class ve{}class qe{}var p=g(6097);let de=(()=>{class o{constructor(t){this.entryBlock=t}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ve))},o.\u0275cmp=e.Xpm({type:o,selectors:[["standard-view"]],decls:2,vars:3,template:function(t,n){1&t&&(e._uU(0),e.ALo(1,"translate")),2&t&&e.hij("",n.entryBlock.text.toString()||e.lcZ(1,1,"N/A"),"\n")},pipes:[p.X$],styles:[""]}),o})();var E=g(3395);let M=(()=>{class o{constructor(t){this.moduleService=t,this.registry={}}add(t){t.typeId=`${t.category}:${t.type}`,t.translatable=t.translatable||[],this.registry[t.typeId]=t}get(t){return this.registry[t]||null}all(){return Object.values(this.registry)}allSortedByType(){return this.all().sort(t=>"content"===t.category?-1:1)}getByCategory(t){return this.all().filter(n=>n.category===t)}componentOf(t){return this.registry[t]?.component}viewComponentOf(t){return this.registry[t]?.viewComponent||de}defaultsOf(t){return(0,h.Ee)({},this.get(t.typeId)?.defaults||{})}isActivationRequired(t,n){const i=this.registry[n.typeId];return i?.module&&i.module===t&&!i.requiresUpgrade&&!this.moduleService.isModuleActivated(t)}getByContext(t){const n=this.all();return"all"!==t?n.filter(i=>i.category===t):n}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(E.s))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),A=(()=>{class o{constructor(t,n,i){this.httpClient=t,this.config=n,this.blockTypes=i,this.creating$=new w.j(!1),this.updating$=new w.j(!1),this.deleting$=new w.j(!1),this.getting$=new w.j(!1),this.fetching$=new w.j(!1),this.onDeleteQuestion=new Ae.xQ}create(t){return this.creating$.start(),this.httpClient.post("admin/survey",t).toPromise().finally(this.creating$.finish())}clean(t,n=!1){t=n?t:JSON.parse(JSON.stringify(t));const i=[],r={};return t.sections=t.sections.map((a,d)=>{if(r[a.uid]=d,"section"===a.action&&r.hasOwnProperty(a.next_section_uid))a.action="next",a.next_section_uid=null,i.push([`${a.title||"Untitled"} - Section #${d} (skip to section to be removed)`]);else if("conditions"===a.action){const _=a.blocks.map(y=>y.uid),x=a.conditions.length;a.conditions=a.conditions.filter(y=>{const z="submit"===y.action,He="section"===y.action&&!r.hasOwnProperty(y.next_section_uid);return _.includes(y.field)&&(z||He)});const C=a.conditions.length;C<x&&i.push([`Section #${d} (${x-C} conditions to be removed)`])}return(0===a.conditions.length||a.blocks.length<1)&&(a.action="next"),a}),i}update(t,n){return this.updating$.start(),this.httpClient.put(`admin/survey/${t}`,n).toPromise().finally(this.updating$.finish())}enabled(t,n){return this.updating$.start(),this.httpClient.patch(`admin/survey/enable/${t}`,{enabled:n}).toPromise().finally(this.updating$.finish())}delete(t){return this.deleting$.start(),this.httpClient.delete(`admin/survey/${t}`).toPromise().finally(this.deleting$.finish())}trash(t){return this.deleting$.start(),this.httpClient.delete(`admin/survey/trash/${t}`).toPromise().finally(this.deleting$.finish())}restore(t){return this.deleting$.start(),this.httpClient.patch(`admin/survey/restore/${t}`,{}).toPromise().finally(this.deleting$.finish())}get(t){return this.getting$.start(),this.httpClient.get(`admin/survey/${t}`).toPromise().then(n=>(n.data=(0,h.Ee)(this.getDefaultSurvey(),n.data),n)).finally(this.getting$.finish())}all(t){return this.httpClient.get("admin/survey",{params:{...t}}).toPromise().finally(this.fetching$.finish())}reset(t){return this.deleting$.start(),this.httpClient.delete(`admin/survey/reset/${t}`).toPromise().finally(this.deleting$.finish())}duplicate(t){return this.creating$.start(),this.httpClient.get(`admin/survey/duplicate/${t}`).toPromise().finally(this.creating$.finish())}getDefaultSurvey(){return(0,h.Ee)({},this.config.defaults)}getSurveyFromPreset(t){const n=this.getDefaultSurvey(),i=(0,h.Ee)(n,t.survey);return i.name=t.name,i.sections.forEach(r=>{r.uid=(0,b.Z)(),r.next_section_uid=null,r.blocks.filter(a=>a instanceof Me).forEach(a=>{a.uid=(0,b.Z)(),a.field.uid=(0,b.Z)()})}),i}getFreshSection(t="Untitled"){return{uid:(0,b.Z)(),title:t,description:"",blocks:[],action:"next",next_section_uid:null,conditions:[],translations:{}}}copySurvey(t){let n=JSON.stringify(t);const r=new Set(n.match(/[\da-f]{8}-([\da-f]{4}-){3}[\da-f]{12}/gi)).values();for(const a of r)n=n.replaceAll(a,(0,b.Z)());return JSON.parse(n)}duplicateEntity(t){let n=JSON.stringify(t);const i={};let r=0;n=n.replace(/"_uid":"[\da-f]{8}-([\da-f]{4}-){3}[\da-f]{12}"/gi,_=>{const x=`__PLACEHOLDER:${r}__`;return i[x]=_,r++,x});const d=new Set(n.match(/[\da-f]{8}-([\da-f]{4}-){3}[\da-f]{12}/gi)).values();for(const _ of d)n=n.replaceAll(_,(0,b.Z)());for(const _ in i)n=n.replaceAll(_,i[_]);return JSON.parse(n)}duplicateSection(t){const n=this.duplicateEntity(t);return n.title+=" (Copy)",n}duplicateBlock(t){return this.duplicateEntity(t)}getFreshBlock(t){const n={uid:(0,b.Z)(),title:"",description:"",label:"",category:t.category,typeId:t.typeId};return"question"===t.category?n.field=(0,h.Ee)(this.blockTypes.defaultsOf(t),{type:t.type,uid:n.uid,options:{},validations:{}}):n.content={value:null,type:t.type,options:(0,h.Ee)(this.blockTypes.defaultsOf(t),{})},n}getFreshBlockWith(t,n={}){const i={uid:(0,b.Z)(),title:"",description:"",label:"",category:t.category,typeId:t.typeId,...n};return"question"===t.category?i.field=(0,h.Ee)(this.blockTypes.defaultsOf(t),{type:t.type,uid:i.uid,options:{},validations:{}}):i.content={value:n.title||null,type:t.type,options:(0,h.Ee)(this.blockTypes.defaultsOf(t),{})},i}exportSurvey(t){const n=new Blob([JSON.stringify(t)],{type:"application/json"}),i=document.createElement("a");i.href=URL.createObjectURL(n),i.download=`surveys_${t[0].name}.json`,i.click()}createFromPreset(t){var n=this;return(0,f.Z)(function*(){return n.create(n.getSurveyFromPreset(t))})()}sendReport(t){return this.httpClient.post("admin/report",t).toPromise()}getFreshGradeContent(t){if("string"==typeof t.content){const n=this.getFreshBlock(this.blockTypes.get("content:paragraph"));return n.content.value=t.content,{name:t.label,enabled:!0,content:"",blocks:[n]}}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(O.eN),e.LFG(P.l),e.LFG(M))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var D=g(290),J=g(2200),S=g(8837),ae=g(259);function Ct(o,s){if(1&o&&(e.TgZ(0,"div",11)(1,"div",12)(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"small",13),e._uU(5,"Sections"),e.qZA()(),e.TgZ(6,"div",12)(7,"span"),e._uU(8),e.qZA(),e.TgZ(9,"small",13),e._uU(10,"Questions"),e.qZA()(),e.TgZ(11,"div",12)(12,"span"),e._uU(13),e.qZA(),e.TgZ(14,"small",13),e._uU(15,"Mins"),e.qZA()()()),2&o){const t=e.oxw();e.xp6(3),e.Oqu(t.sections),e.xp6(5),e.Oqu(t.questions),e.xp6(5),e.Oqu(t.time)}}const yt=function(o){return{action:"use-preset",target:o}},kt=function(o){return{action:"preview-preset",target:o}};let ue=(()=>{class o{constructor(t,n,i,r){this.config=t,this.surveysService=n,this.router=i,this.statusService=r,this.compact=!1,this.creating$=new w.j(!1)}get presetPreviewLink(){return["",{outlets:{overlay:["preview",this.preset.uid]}}]}ngOnInit(){}use(t){var n=this;return(0,f.Z)(function*(){t?.stopPropagation(),t?.preventDefault(),n.creating$.start();try{const i=yield n.surveysService.createFromPreset(n.preset);if(!i.success)throw new Error(i.error||"Something went wrong, please try again.");yield n.router.navigate(["/surveys/editor",i.data.uid]),n.creating$.finish()}catch(i){n.creating$.finish(),n.statusService.error({message:(0,h.EF)(i)})}})()}preview(t){return t.preventDefault(),this.router.navigate([{outlets:{overlay:["preview",this.preset.uid]}}])}get sections(){return this.preset?.survey.sections.length}get questions(){let t=0;return this.preset?.survey.sections.forEach(n=>{t+=n.blocks.length}),t}get time(){return Math.ceil(45*this.questions/60)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(P.l),e.Y36(A),e.Y36(m.F0),e.Y36(J.B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["preset-card"]],inputs:{preset:"preset",compact:"compact"},decls:23,vars:31,consts:[[1,"card-preset",3,"routerLink"],[1,"image"],[3,"src","alt"],[1,"icon","material-icons"],[1,"details"],[1,"title"],[1,"description"],["class","meta",4,"ngIf"],[1,"actions","button-group","-attached"],["type","button",1,"button","-primary","-small",3,"clickTracker","disabled","click"],["type","button","translate","",1,"button","-outline","-small",3,"disabled","clickTracker"],[1,"meta"],[1,"item"],["translate",""]],template:function(t,n){1&t&&(e.TgZ(0,"a",0),e.ALo(1,"isCapable"),e.TgZ(2,"div",1),e._UZ(3,"img",2),e.TgZ(4,"span",3),e._uU(5,"visibility"),e.qZA()(),e.TgZ(6,"div",4)(7,"h3",5),e._uU(8),e.qZA(),e.TgZ(9,"p",6),e._uU(10),e.qZA(),e.YNc(11,Ct,16,3,"div",7),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(r){return n.use(r)}),e.ALo(14,"isCapable"),e.ALo(15,"async"),e._uU(16),e.ALo(17,"async"),e.ALo(18,"translate"),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"button",10),e.ALo(21,"isCapable"),e._uU(22,"Preview"),e.qZA()()()()),2&t&&(e.ekj("-compact",n.compact),e.Q6J("routerLink",e.lcZ(1,13,"create_survey")?n.presetPreviewLink:null),e.xp6(3),e.s9C("src",n.preset.thumbnail,e.LSH),e.s9C("alt",n.preset.name),e.xp6(5),e.Oqu(n.preset.name),e.xp6(2),e.Oqu(n.preset.description),e.xp6(1),e.Q6J("ngIf",!n.compact),e.xp6(2),e.Q6J("clickTracker",e.VKq(27,yt,n.preset.name))("disabled",!e.lcZ(14,15,"create_survey")||e.lcZ(15,17,n.creating$)),e.xp6(3),e.hij(" ",e.lcZ(17,19,n.creating$)?e.lcZ(18,21,"Creating..."):e.lcZ(19,23,"Use")," "),e.xp6(4),e.Q6J("disabled",!e.lcZ(21,25,"create_survey"))("clickTracker",e.VKq(29,kt,n.preset.name)))},directives:[m.yS,c.O5,p.Pi,S.g],pipes:[ae.m,c.Ov,p.X$],encapsulation:2}),o})();function Tt(o,s){if(1&o&&(e.TgZ(0,"div",8),e._UZ(1,"preset-card",9),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("preset",t)("compact",!0)}}const wt=function(){return["/presets"]};let Zt=(()=>{class o{constructor(t,n,i){this.config=t,this.surveysService=n,this.router=i,this.presets=this.config.presets,this.IS_CREATING=this.surveysService.creating$}presetsPage(){var t=this;return(0,f.Z)(function*(){yield t.router.navigate(["presets"])})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(P.l),e.Y36(A),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["quick-start-card"]],decls:11,vars:6,consts:[[1,"quick-start",3,"name"],[1,"row"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"col-2"],[1,"card"],[1,"button","-preset",3,"routerLink"],[1,"icon","material-icons"],["translate","",1,"text"],[1,"col-md-2"],[3,"preset","compact"]],template:function(t,n){1&t&&(e.TgZ(0,"card",0),e.ALo(1,"translate"),e.TgZ(2,"div",1),e.YNc(3,Tt,2,2,"div",2),e.TgZ(4,"div",3)(5,"div",4)(6,"a",5)(7,"i",6),e._uU(8,"topic"),e.qZA(),e.TgZ(9,"span",7),e._uU(10,"Browse more"),e.qZA()()()()()()),2&t&&(e.Q6J("name",e.lcZ(1,3,"Start a new survey")),e.xp6(3),e.Q6J("ngForOf",n.presets),e.xp6(3),e.Q6J("routerLink",e.DdM(5,wt)))},directives:[D.A,c.sg,ue,m.yS,p.Pi],pipes:[p.X$],encapsulation:2}),o})();var K=g(3597);let Pe=(()=>{class o{constructor(t){this.config=t}transform(t){const n=new Date,i=new Date(t.replace(" ","T"));if(isNaN(i.getTime()))throw Error(`InvalidPipeArgument: '${t}' for pipe '${(0,e.AaK)(o)}'`);const r=this.config.locale||navigator.language,a=i.getTime()-n.getTime(),d=Math.trunc(a/1e3),_=Math.abs(d);switch(!0){case _<60:return new Intl.RelativeTimeFormat(r,{numeric:"auto"}).format(d,"second");case _>=60&&_<3600:{const x=new Intl.RelativeTimeFormat(r,{numeric:"auto"}),C=Math.trunc(d/60);return x.format(C,"minute")}case _>3600&&_<86400:{const x=new Intl.RelativeTimeFormat(r,{numeric:"auto"}),C=Math.trunc(d/3600);return x.format(C,"hour")}case _>=86400&&_<604800:{const x=new Intl.RelativeTimeFormat(r,{numeric:"auto"}),C=Math.trunc(d/86400);return x.format(C,"day")}case _>=604800&&_<2592e3:{const x=new Intl.RelativeTimeFormat(r,{numeric:"auto"}),C=Math.trunc(d/604800);return x.format(C,"week")}case _>=2592e3&&_<31536e3:{const x=new Intl.RelativeTimeFormat(r,{numeric:"auto"}),C=Math.trunc(d/2592e3);return x.format(C,"month")}case _>=31536e3:{const x=new Intl.RelativeTimeFormat(r,{numeric:"auto"}),C=Math.trunc(d/31536e3);return x.format(C,"year")}default:return""}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q,16))},o.\u0275pipe=e.Yjl({name:"relativeTime",type:o,pure:!1}),o})();function At(o,s){1&o&&(e._UZ(0,"empty-state",4),e.ALo(1,"translate")),2&o&&e.Q6J("heading",e.lcZ(1,1,"No entries yet"))}function Mt(o,s){1&o&&(e.TgZ(0,"div",7),e._UZ(1,"div",8),e.TgZ(2,"div",9),e._UZ(3,"h4",10)(4,"p",11),e.qZA()())}const qt=function(){return[1,2,3,4,5]};function Jt(o,s){1&o&&(e.TgZ(0,"div",5),e.YNc(1,Mt,5,0,"div",6),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,qt)))}function St(o,s){if(1&o&&e._UZ(0,"img",19),2&o){const t=e.oxw().$implicit;e.Q6J("src",t.user.avatar,e.LSH)("alt",t.user.name)}}function Ut(o,s){if(1&o&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.user?t.user.name[0]:"A")}}function Nt(o,s){1&o&&(e.TgZ(0,"span",15),e._uU(1,"Unknown survey"),e.qZA())}const It=function(o,s){return["/surveys/editor/",o,"entries",s]};function Ft(o,s){if(1&o&&(e.TgZ(0,"a",20),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.Q6J("routerLink",e.WLB(2,It,t.survey.uid,t.uid)),e.xp6(1),e.Oqu(t.survey.name)}}function Et(o,s){if(1&o&&(e.TgZ(0,"div",7),e.YNc(1,St,1,2,"img",13),e.YNc(2,Ut,2,1,"div",14),e.TgZ(3,"div",9)(4,"h4",10),e._uU(5),e.TgZ(6,"span",15),e._uU(7,"participated in"),e.qZA(),e._uU(8,"\xa0"),e.YNc(9,Nt,2,0,"span",16),e.YNc(10,Ft,2,5,"a",17),e.qZA(),e.TgZ(11,"p",18),e._uU(12),e.ALo(13,"relativeTime"),e.qZA()()()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.user&&t.user.avatar),e.xp6(1),e.Q6J("ngIf",!t.user||!t.user.avatar),e.xp6(3),e.hij("",t.user?t.user.name:"Anonymous"," "),e.xp6(4),e.Q6J("ngIf",!t.survey),e.xp6(1),e.Q6J("ngIf",t.survey),e.xp6(1),e.Q6J("title",t.created_at),e.xp6(1),e.Oqu(e.lcZ(13,7,t.created_at))}}function Qt(o,s){if(1&o&&(e.TgZ(0,"div",12),e.YNc(1,Et,14,9,"div",6),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.entries)}}let Ot=(()=>{class o{constructor(){this.name="Activity feed"}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["activity-feed-card"]],inputs:{entries:"entries",name:"name"},decls:5,vars:6,consts:[[3,"name"],["icon","wysiwyg",3,"heading",4,"ngIf"],["class","feed-list -skeleton",4,"ngIf"],["class","feed-list -activity",4,"ngIf"],["icon","wysiwyg",3,"heading"],[1,"feed-list","-skeleton"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"thumbnail","-initial"],[1,"body"],[1,"title"],[1,"excerpt"],[1,"feed-list","-activity"],["class","thumbnail -avatar",3,"src","alt",4,"ngIf"],["class","thumbnail -initial",4,"ngIf"],["translate",""],["translate","",4,"ngIf"],[3,"routerLink",4,"ngIf"],[1,"excerpt",3,"title"],[1,"thumbnail","-avatar",3,"src","alt"],[3,"routerLink"]],template:function(t,n){1&t&&(e.TgZ(0,"card",0),e.ALo(1,"translate"),e.YNc(2,At,2,3,"empty-state",1),e.YNc(3,Jt,2,2,"div",2),e.YNc(4,Qt,2,1,"div",3),e.qZA()),2&t&&(e.Q6J("name",e.lcZ(1,4,"Activity feed")),e.xp6(2),e.Q6J("ngIf",n.entries&&0==n.entries.length),e.xp6(1),e.Q6J("ngIf",!n.entries),e.xp6(1),e.Q6J("ngIf",n.entries))},directives:[D.A,c.O5,K.s,c.sg,p.Pi,m.yS],pipes:[p.X$,Pe],encapsulation:2}),o})();function Lt(o,s){1&o&&(e.TgZ(0,"div",11)(1,"div",8),e._UZ(2,"h4",9)(3,"p",10),e.qZA()())}const Bt=function(){return[1,2,3,4,5]};function Ht(o,s){1&o&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e.YNc(3,Lt,4,0,"div",5),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",6),e._UZ(7,"div",7),e.TgZ(8,"div",8),e._UZ(9,"h4",9)(10,"p",10),e.qZA()()()()()),2&o&&(e.xp6(3),e.Q6J("ngForOf",e.DdM(1,Bt)))}function Pt(o,s){if(1&o&&(e.TgZ(0,"p",10),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.posts[0].excerpt)}}function Dt(o,s){if(1&o&&e._UZ(0,"img",14),2&o){const t=e.oxw(2).$implicit;e.Q6J("src",t.thumbnail,e.LSH)("alt",t.title)}}function Yt(o,s){if(1&o&&(e.TgZ(0,"p",10),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij("",t.excerpt,"\u2026")}}function Rt(o,s){if(1&o&&(e.TgZ(0,"a",21),e.YNc(1,Dt,1,2,"img",22),e.TgZ(2,"div",8)(3,"h4",9),e._uU(4),e.qZA(),e.YNc(5,Yt,2,1,"p",15),e.qZA()()),2&o){const t=e.oxw(),n=t.$implicit,i=t.first;e.Q6J("href",n.url,e.LSH),e.xp6(1),e.Q6J("ngIf",i),e.xp6(3),e.Oqu(n.title),e.xp6(1),e.Q6J("ngIf",n.excerpt)}}function jt(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Rt,6,4,"a",20),e.BQk()),2&o){const t=s.first;e.xp6(1),e.Q6J("ngIf",!t)}}function zt(o,s){if(1&o&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",12)(3,"a",13),e._UZ(4,"img",14),e.TgZ(5,"div",8)(6,"h4",9),e._uU(7),e.qZA(),e.YNc(8,Pt,2,1,"p",15),e.qZA()()()(),e.TgZ(9,"div",3)(10,"div",12),e.YNc(11,jt,2,1,"ng-container",16),e.qZA(),e.TgZ(12,"a",17)(13,"span",18),e._uU(14,"More on totalsuite.net"),e.qZA(),e.TgZ(15,"span",19),e._uU(16,"open_in_new"),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("href",t.posts[0].url,e.LSH),e.xp6(1),e.Q6J("src",t.posts[0].thumbnail,e.LSH)("alt",t.posts[0].title),e.xp6(3),e.Oqu(t.posts[0].title),e.xp6(1),e.Q6J("ngIf",t.posts[0].excerpt),e.xp6(3),e.Q6J("ngForOf",t.posts)}}let Vt=(()=>{class o{constructor(){this.name="Picks from our blog"}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["blog-feed-card"]],inputs:{name:"name",posts:"posts"},decls:4,vars:5,consts:[[3,"name"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-6"],[1,"feed-list","-skeleton"],["class","item",4,"ngFor","ngForOf"],[1,"item","is-featured"],[1,"thumbnail"],[1,"body"],[1,"title"],[1,"excerpt"],[1,"item"],[1,"feed-list","-blog"],["target","_blank",1,"item","is-featured",3,"href"],[1,"thumbnail",3,"src","alt"],["class","excerpt",4,"ngIf"],[4,"ngFor","ngForOf"],["href","https://totalsuite.net/blog/","target","_blank","rel","noopener noreferrer",1,"button"],["translate","",1,"text"],[1,"icon","material-icons"],["target","_blank","class","item",3,"href",4,"ngIf"],["target","_blank",1,"item",3,"href"],["class","thumbnail",3,"src","alt",4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"card",0),e.ALo(1,"translate"),e.YNc(2,Ht,11,2,"div",1),e.YNc(3,zt,17,6,"div",1),e.qZA()),2&t&&(e.Q6J("name",e.lcZ(1,3,"Picks from our blog")),e.xp6(2),e.Q6J("ngIf",!n.posts),e.xp6(1),e.Q6J("ngIf",n.posts))},directives:[D.A,c.O5,c.sg,p.Pi],pipes:[p.X$],encapsulation:2}),o})();const $t=[{path:"dashboard",component:(()=>{class o{constructor(t){this.dashboardService=t,this.cssClass=!0}ngOnInit(){var t=this;return(0,f.Z)(function*(){t.dashboardService.getActivity().then(n=>t.activity=n.data),t.dashboardService.getBlogPosts().then(n=>t.blogPosts=n.data.slice(0,5))})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(vt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["dashboard-page"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("dashboard-page",n.cssClass)},decls:7,vars:2,consts:[["screen","dashboard"],[1,"dashboard-page-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-4",3,"entries"],[1,"col-md-8",3,"posts"]],template:function(t,n){1&t&&(e._UZ(0,"screen-tracker",0)(1,"quick-start-card"),e.TgZ(2,"section",1)(3,"div",2)(4,"div",3),e._UZ(5,"activity-feed-card",4)(6,"blog-feed-card",5),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("entries",n.activity),e.xp6(1),e.Q6J("posts",n.blogPosts))},directives:[F.h,Zt,Ot,Vt],encapsulation:2}),o})()}];let Gt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forRoot($t,{relativeLinkResolution:"legacy"})],m.Bz]}),o})();var L=g(370);let Je=(()=>{class o{constructor(t,n,i){this.httpClient=t,this.surveyService=n,this.router=i,this.fetching$=new w.j(!1),this.getting$=new w.j(!1),this.creating$=new w.j(!1)}all(t){return this.fetching$.start(),this.httpClient.get("admin/presets",{params:{...t}}).toPromise().finally(this.fetching$.finish())}get(t){return this.getting$.start(),this.httpClient.get("admin/presets/"+t).toPromise().finally(this.getting$.finish())}use(t){var n=this;return(0,f.Z)(function*(){n.creating$.start();const i=yield n.surveyService.createFromPreset(t);if(n.creating$.finish(),!i.success)throw new Error(i.error||"Something went wrong, please try again.");yield n.router.navigate(["/surveys/editor",i.data.uid])})()}categories(){return this.fetching$.start(),this.httpClient.get("admin/presets/categories").toPromise().finally(this.fetching$.finish())}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(O.eN),e.LFG(A),e.LFG(m.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Wt=(()=>{class o{constructor(t){this.httpClient=t,this.fetching$=new w.j(!1)}all(){return this.fetching$.start(),this.httpClient.get("admin/presets/categories").toPromise().finally(this.fetching$.finish())}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(O.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var l=g(4006),ee=g(4380);function Xt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20)(2,"input",24),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).currentCategory=i}),e.qZA(),e.TgZ(3,"span",25),e._uU(4),e.qZA()(),e.TgZ(5,"span",26),e._uU(6),e.qZA()()}if(2&o){const t=s.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("ngModel",n.currentCategory)("value",t.name),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.counter)}}function Kt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"h4",5),e._uU(2,"Filter by category"),e.qZA(),e.TgZ(3,"div",19)(4,"label",20)(5,"input",21),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().currentCategory=i}),e.qZA(),e.TgZ(6,"span",22),e._uU(7,"All"),e.qZA()()(),e.YNc(8,Xt,7,4,"div",23),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.currentCategory),e.xp6(3),e.Q6J("ngForOf",t.categories)}}function en(o,s){1&o&&(e._UZ(0,"loading-state",27),e.ALo(1,"translate")),2&o&&e.Q6J("description",e.lcZ(1,1,"Retrieving presets..."))}function tn(o,s){1&o&&e._UZ(0,"preset-card",30),2&o&&e.Q6J("preset",s.$implicit)}function nn(o,s){1&o&&(e._UZ(0,"empty-state",31),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o&&e.Q6J("heading",e.lcZ(1,2,"No results were found!"))("description",e.lcZ(2,4,"Please try using more generic keywords."))}function on(o,s){if(1&o&&(e.YNc(0,tn,1,1,"preset-card",28),e.YNc(1,nn,3,6,"empty-state",29),e.ALo(2,"async")),2&o){const t=e.oxw();e.Q6J("ngForOf",t.presets),e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,t.IS_FETCHING)&&0===t.presets.length)}}const rn=function(){return{action:"search-presets",target:"presets"}};let sn=(()=>{class o{constructor(t,n,i){this.presetsService=t,this.categoryService=n,this.statusService=i,this.cssClass=!0,this.IS_FETCHING=this.presetsService.fetching$,this.IS_FETCHING_CATEGORIES=this.categoryService.fetching$,this.categories=[],this.presets=[],this.filters={keyword:"",category:""}}get currentCategory(){return this.filters.category}set currentCategory(t){this.filters.category=t,this.fetch()}get currentSearch(){return this.filters.keyword}set currentSearch(t){clearTimeout(this.currentCategoryTimeout),this.currentCategoryTimeout=setTimeout(()=>{this.filters.keyword=t,this.fetch()},t.trim()?500:0)}ngOnInit(){var t=this;return(0,f.Z)(function*(){try{t.categoryService.all().then(n=>t.categories=n.data),yield t.fetch()}catch(n){t.statusService.error({message:(0,h.EF)(n)})}})()}fetch(){var t=this;return(0,f.Z)(function*(){t.presets=[];try{const n=yield t.presetsService.all(t.filters);t.presets=n.data.items}catch(n){t.statusService.error({message:(0,h.EF)(n)})}})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Je),e.Y36(Wt),e.Y36(J.B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["presets"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("presets-page",n.cssClass)},decls:26,vars:13,consts:[["screen","presets"],[1,"row","no-gutters"],[1,"col-auto","sidebar"],[1,"header"],[1,"icon","material-icons"],["translate","",1,"title"],["translate","",1,"description"],[1,"search"],["type","text","name","keyword",1,"input","-pill",3,"placeholder","ngModel","ngModelChange"],[1,"button","-plain","-icon",3,"clickTracker","click"],[1,"material-icons"],["class","categories-list",4,"ngIf"],[1,"col","content"],[1,"presets-list"],[1,"container-fluid"],[1,"row"],["class","col-12",3,"description",4,"ngIf","ngIfElse"],["main",""],[1,"categories-list"],[1,"category"],[1,"checkbox"],["type","radio","name","category","value","",3,"ngModel","ngModelChange"],["translate","",1,"label"],["class","category",4,"ngFor","ngForOf"],["type","radio","name","category",3,"ngModel","value","ngModelChange"],[1,"label"],[1,"chip","-pill"],[1,"col-12",3,"description"],["class","preset col-md-4",3,"preset",4,"ngFor","ngForOf"],["class","col-12","icon","error_outline",3,"heading","description",4,"ngIf"],[1,"preset","col-md-4",3,"preset"],["icon","error_outline",1,"col-12",3,"heading","description"]],template:function(t,n){if(1&t&&(e._UZ(0,"screen-tracker",0),e.TgZ(1,"section",1)(2,"card",2)(3,"header",3)(4,"span",4),e._uU(5,"topic"),e.qZA(),e.TgZ(6,"h3",5),e._uU(7,"Survey Presets"),e.qZA(),e.TgZ(8,"p",6),e._uU(9,"Get started in no time."),e.qZA(),e.TgZ(10,"div",7)(11,"input",8),e.NdJ("ngModelChange",function(r){return n.currentSearch=r}),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",9),e.NdJ("click",function(){return n.fetch()}),e.TgZ(14,"span",10),e._uU(15,"search"),e.qZA()()()(),e.YNc(16,Kt,9,2,"div",11),e.ALo(17,"async"),e.qZA(),e.TgZ(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15),e.YNc(22,en,2,3,"loading-state",16),e.ALo(23,"async"),e.YNc(24,on,3,4,"ng-template",null,17,e.W1O),e.qZA()()()()()),2&t){const i=e.MAs(25);e.xp6(11),e.Q6J("placeholder",e.lcZ(12,6,"Search by keywords..."))("ngModel",n.currentSearch),e.xp6(2),e.Q6J("clickTracker",e.DdM(12,rn)),e.xp6(3),e.Q6J("ngIf",!e.lcZ(17,8,n.IS_FETCHING_CATEGORIES)&&n.categories.length>0),e.xp6(6),e.Q6J("ngIf",e.lcZ(23,10,n.IS_FETCHING)&&0==n.presets.length)("ngIfElse",i)}},directives:[F.h,D.A,p.Pi,l.Fj,l.JJ,l.On,S.g,c.O5,l._,c.sg,ee.X,ue,K.s],pipes:[p.X$,c.Ov],encapsulation:2}),o})();var an=g(4975),$=g(4301);function ln(o,s){if(1&o&&e._UZ(0,"preset-card",15),2&o){const t=e.oxw();e.Q6J("preset",t.preset)}}function cn(o,s){1&o&&(e._UZ(0,"loading-state",16),e.ALo(1,"translate")),2&o&&e.Q6J("description",e.lcZ(1,1,"Preparing presets preview..."))}function pn(o,s){if(1&o&&e._UZ(0,"iframe",17),2&o){const t=e.oxw();e.Q6J("src",t.previewUrl,e.uOi)}}function dn(o,s){1&o&&(e._UZ(0,"loading-state",16),e.ALo(1,"translate")),2&o&&e.Q6J("description",e.lcZ(1,1,"Preparing the preview..."))}function un(o,s){if(1&o&&e._UZ(0,"iframe",17),2&o){const t=e.oxw();e.Q6J("src",t.previewUrl,e.uOi)}}function gn(o,s){1&o&&e._UZ(0,"loading-indicator",18)}function _n(o,s){1&o&&e._UZ(0,"loading-indicator",18)}const De=function(){return{overlay:null}},Ye=function(o){return{outlets:o}},Re=function(o){return["",o]},mn=function(o){return{action:"use-preset",target:o}};function hn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"a",25),e._uU(1,"Close"),e.qZA(),e.TgZ(2,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).use()}),e._uU(3,"Use"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("routerLink",e.VKq(5,Re,e.VKq(3,Ye,e.DdM(2,De)))),e.xp6(2),e.Q6J("clickTracker",e.VKq(7,mn,t.preset.name))}}function fn(o,s){if(1&o&&(e.TgZ(0,"a",19)(1,"i",20),e._uU(2,"close"),e.qZA()(),e._UZ(3,"img",21),e.TgZ(4,"h1",22),e._uU(5),e.qZA(),e.TgZ(6,"p",23),e._uU(7),e.qZA(),e.YNc(8,_n,1,0,"loading-indicator",13),e.YNc(9,hn,4,9,"ng-template",null,24,e.W1O)),2&o){const t=e.MAs(10),n=e.oxw();e.Q6J("routerLink",e.VKq(9,Re,e.VKq(7,Ye,e.DdM(6,De)))),e.xp6(3),e.Q6J("src",n.preset.thumbnail,e.LSH),e.xp6(2),e.Oqu(n.preset.name),e.xp6(2),e.Oqu(n.preset.description),e.xp6(1),e.Q6J("ngIf",n.loading)("ngIfElse",t)}}const xn=function(o){return{"preset-preview-header":!0,"is-loaded":o}},bn=[{path:"presets",component:sn},{path:"preview/:uid",component:(()=>{class o{constructor(t,n,i,r,a,d,_){this.surveyService=t,this.config=n,this.router=i,this.route=r,this.url=a,this.trackingService=d,this.presetsService=_,this.IS_GETTING=this.presetsService.getting$,this.loading=!1,this.cssClass=!0}ngOnInit(){var t=this;return(0,f.Z)(function*(){yield t.getPreset(t.route.snapshot.paramMap.get("uid"))})()}getPreset(t){var n=this;return(0,f.Z)(function*(){const i=yield n.presetsService.get(t);n.preset=i.data})()}use(){var t=this;return(0,f.Z)(function*(){t.loading=!0,yield t.presetsService.use(t.preset),yield t.trackingService.trackFeature("use-preset",t.preset.name),yield t.close()})()}close(){return this.router.navigate([{outlets:{overlay:null}}])}get previewUrl(){return this.url.bypassSecurityTrustResourceUrl(this.preset.url)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A),e.Y36(q),e.Y36(m.F0),e.Y36(m.gz),e.Y36(H.H7),e.Y36(an.e),e.Y36(Je))},o.\u0275cmp=e.Xpm({type:o,selectors:[["preview"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("preset-preview",n.cssClass)},features:[e._Bn([ue])],decls:27,vars:20,consts:[["screen","preview-preset"],["hidden",""],[1,"preset-preview-header",3,"ngClass"],[1,"preset-preview-nav"],[1,"button","-plain","-icon",3,"click"],[1,"material-icons"],["translate","",1,"button","-small","-primary",3,"click"],[3,"preset",4,"ngIf"],[1,"preset-preview-content"],[3,"description",4,"ngIf","ngIfElse"],["main",""],[1,"content"],[1,"sidebar"],["class","loading",4,"ngIf","ngIfElse"],["content",""],[3,"preset"],[3,"description"],["frameborder","0",3,"src"],[1,"loading"],[1,"close","button","-alt","-icon",3,"routerLink"],[1,"icon","material-icons"],[1,"image",3,"src"],[1,"title"],[1,"description"],["buttons",""],["translate","",1,"button","-wide","-large",3,"routerLink"],["translate","",1,"button","-primary","-wide","-large",3,"clickTracker","click"]],template:function(t,n){if(1&t&&(e._UZ(0,"screen-tracker",0),e.TgZ(1,"div",1)(2,"header",2),e.ALo(3,"async"),e.TgZ(4,"nav",3)(5,"button",4),e.NdJ("click",function(){return n.close()}),e.TgZ(6,"i",5),e._uU(7,"keyboard_arrow_left"),e.qZA()(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.use()}),e._uU(9,"Use preset"),e.qZA()(),e.YNc(10,ln,1,1,"preset-card",7),e.ALo(11,"async"),e.qZA(),e.TgZ(12,"section",8),e.YNc(13,cn,2,3,"loading-state",9),e.ALo(14,"async"),e.YNc(15,pn,1,1,"ng-template",null,10,e.W1O),e.qZA()(),e.TgZ(17,"main",11),e.YNc(18,dn,2,3,"loading-state",9),e.ALo(19,"async"),e.YNc(20,un,1,1,"ng-template",null,10,e.W1O),e.qZA(),e.TgZ(22,"card",12),e.YNc(23,gn,1,0,"loading-indicator",13),e.ALo(24,"async"),e.YNc(25,fn,11,11,"ng-template",null,14,e.W1O),e.qZA()),2&t){const i=e.MAs(16),r=e.MAs(26);e.xp6(2),e.Q6J("ngClass",e.VKq(18,xn,!e.lcZ(3,8,n.IS_GETTING))),e.xp6(8),e.Q6J("ngIf",!e.lcZ(11,10,n.IS_GETTING)),e.xp6(3),e.Q6J("ngIf",e.lcZ(14,12,n.IS_GETTING))("ngIfElse",i),e.xp6(5),e.Q6J("ngIf",e.lcZ(19,14,n.IS_GETTING))("ngIfElse",i),e.xp6(5),e.Q6J("ngIf",e.lcZ(24,16,n.IS_GETTING))("ngIfElse",r)}},directives:[F.h,c.mk,p.Pi,c.O5,ue,ee.X,D.A,$.Q,m.yS,S.g],pipes:[c.Ov,p.X$],encapsulation:2}),o})(),outlet:"overlay"}];let vn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forChild(bn)],m.Bz]}),o})();var je=g(3591);let Se=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,vn,L.I,l.u5,je.U8,p.aw]]}),o})();var ze=g(9412);let Ue=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,Gt,L.I,se.N,Se,ze.T,p.aw]]}),o})();var Cn=g(142),v=g(6138);const yn=["filtersComponent"];function kn(o,s){1&o&&(e._UZ(0,"loading-state",3),e.ALo(1,"translate")),2&o&&e.Q6J("description",e.lcZ(1,1,"Building the survey..."))}function Tn(o,s){1&o&&(e.TgZ(0,"span",13),e._uU(1,"Creating..."),e.qZA())}function wn(o,s){1&o&&(e.TgZ(0,"span",13),e._uU(1,"Create Survey"),e.qZA())}function Zn(o,s){if(1&o&&(e.TgZ(0,"div",27),e._UZ(1,"preset-card",28),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("preset",t)("compact",!0)}}function An(o,s){1&o&&(e.ynx(0),e._UZ(1,"skeleton-card",29)(2,"skeleton-card",29)(3,"skeleton-card",29)(4,"skeleton-card",29),e.BQk())}function Mn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"survey-card",31),e.NdJ("onRemove",function(i){return e.CHM(t),e.oxw(3).removeSurvey(i)}),e.qZA()}2&o&&e.Q6J("survey",s.$implicit)}function qn(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Mn,1,1,"survey-card",30),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.surveys)}}function Jn(o,s){1&o&&e._UZ(0,"empty-state")}function Sn(o,s){if(1&o&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&o){const t=s.index;e.xp6(1),e.Oqu(t+1)}}const Un=function(){return[]};function Nn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"span",34),e._uU(3,"Showing from"),e.qZA(),e._uU(4),e.TgZ(5,"span",34),e._uU(6,"to"),e.qZA(),e._uU(7),e.TgZ(8,"span",34),e._uU(9,"of"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"div",35)(12,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).previousPage()}),e._uU(13,"Previous"),e.qZA(),e.TgZ(14,"select",37),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).goToPage(i)}),e.YNc(15,Sn,2,1,"option",38),e.qZA(),e.TgZ(16,"button",39),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).nextPage()}),e._uU(17,"Next"),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.showingFrom," "),e.xp6(3),e.hij(" ",t.showingTo," "),e.xp6(3),e.hij(" ",t.showingTotal," "),e.xp6(2),e.Q6J("disabled",!t.hasPreviousPage()),e.xp6(2),e.Q6J("ngModel",t.page),e.xp6(1),e.Q6J("ngForOf",e.DdM(7,Un).constructor(t.pagination.pages)),e.xp6(1),e.Q6J("disabled",!t.hasNextPage())}}const In=function(){return{action:"create-survey",target:"surveys"}},Fn=function(){return{action:"toggle-presets",target:"presets"}},Ve=function(){return["import-export"]},$e=function(o){return{overlay:o}},Ge=function(o){return{outlets:o}},We=function(o){return["",o]},En=function(){return["/presets"]};function Qn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"header",4)(1,"div",5)(2,"h3",6),e._uU(3,"Surveys"),e.qZA(),e.TgZ(4,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().create()}),e.ALo(5,"isCapable"),e.ALo(6,"async"),e.TgZ(7,"span",8),e._uU(8,"add"),e.qZA(),e.YNc(9,Tn,2,0,"span",9),e.ALo(10,"async"),e.YNc(11,wn,2,0,"span",9),e.ALo(12,"async"),e.qZA(),e.TgZ(13,"surveys-filter",10,11),e.NdJ("onApply",function(i){return e.CHM(t),e.oxw().fetch(i)}),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().togglePresets()}),e.TgZ(16,"span",8),e._uU(17),e.qZA(),e.TgZ(18,"span",13),e._uU(19,"Presets"),e.qZA()(),e._UZ(20,"div",14),e.TgZ(21,"button",15)(22,"span",8),e._uU(23,"upload_file"),e.qZA(),e.TgZ(24,"span",13),e._uU(25,"Import"),e.qZA()(),e.TgZ(26,"button",15)(27,"span",8),e._uU(28,"cloud_download"),e.qZA(),e.TgZ(29,"span",13),e._uU(30,"Export"),e.qZA()()(),e.TgZ(31,"div",16)(32,"div",17)(33,"div",18),e.YNc(34,Zn,2,2,"div",19),e.TgZ(35,"div",20)(36,"div",21)(37,"a",22)(38,"i",8),e._uU(39,"topic"),e.qZA(),e.TgZ(40,"span",13),e._uU(41,"Browse more"),e.qZA()()()()()()()(),e.TgZ(42,"main",23)(43,"div",24)(44,"div",18),e.YNc(45,An,5,0,"ng-container",25),e.ALo(46,"async"),e.YNc(47,qn,2,1,"ng-container",25),e.ALo(48,"async"),e.qZA(),e.YNc(49,Jn,1,0,"empty-state",25),e.ALo(50,"async"),e.qZA(),e.YNc(51,Nn,18,8,"div",26),e.ALo(52,"async"),e.qZA(),e._UZ(53,"router-outlet")}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("clickTracker",e.DdM(32,In))("disabled",!e.lcZ(5,16,"create_survey")||e.lcZ(6,18,t.IS_CREATING)),e.xp6(5),e.Q6J("ngIf",e.lcZ(10,20,t.IS_CREATING)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(12,22,t.IS_CREATING)),e.xp6(4),e.Q6J("clickTracker",e.DdM(33,Fn)),e.xp6(2),e.Oqu(t.isPresetsVisible?"folder":"folder_open"),e.xp6(4),e.Q6J("routerLink",e.VKq(39,We,e.VKq(37,Ge,e.VKq(35,$e,e.DdM(34,Ve))))),e.xp6(5),e.Q6J("routerLink",e.VKq(46,We,e.VKq(44,Ge,e.VKq(42,$e,e.DdM(41,Ve))))),e.xp6(5),e.ekj("is-open",t.isPresetsVisible),e.xp6(3),e.Q6J("ngForOf",t.presets),e.xp6(3),e.Q6J("routerLink",e.DdM(48,En)),e.xp6(8),e.Q6J("ngIf",e.lcZ(46,24,t.IS_FETCHING)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(48,26,t.IS_FETCHING)&&t.surveys.length>0),e.xp6(2),e.Q6J("ngIf",!e.lcZ(50,28,t.IS_FETCHING)&&0===t.surveys.length),e.xp6(2),e.Q6J("ngIf",t.pagination&&t.pagination.pages>1&&!e.lcZ(52,30,t.IS_FETCHING))}}let Ce=(()=>{class o{constructor(t,n,i,r,a,d){this.surveysService=t,this.presetService=n,this.router=i,this.route=r,this.config=a,this.statusService=d,this.presets=this.config.presets,this.surveys=[],this.IS_FETCHING=this.surveysService.fetching$,this.IS_CREATING=this.surveysService.creating$,this.cssClass=!0,this._page=1,this.isPresetsVisible=!1}ngOnInit(){return(0,f.Z)(function*(){})()}set page(t){this._page=t,this.filtersComponent.setPage(t)}get page(){return this._page}get showingFrom(){const t=(this.pagination.current-1)*this.pagination.per_page;return t>0?t:1}get showingTo(){const t=this.pagination.current*this.pagination.per_page;return t>this.pagination.total?this.pagination.total:t}get showingTotal(){return this.pagination.total}fetch(t={}){var n=this;return(0,f.Z)(function*(){const i=yield n.surveysService.all(t);n.pagination=i.data.pagination,n.surveys=i.data.items})()}removeSurvey(t){const n=this.surveys.indexOf(t);this.surveys.splice(n,1)}hasPreviousPage(){return+this.page-1>0}hasNextPage(){return+this.page+1<=this.pagination.pages}previousPage(){this.hasPreviousPage()&&this.goToPage(+this.page-1)}nextPage(){this.hasNextPage()&&this.goToPage(+this.page+1)}goToPage(t){this.page=t}create(){var t=this;return(0,f.Z)(function*(){try{const n=yield t.surveysService.createFromPreset(t.config.presets[0]);yield t.router.navigate(["editor",n.data.uid],{relativeTo:t.route})}catch(n){t.statusService.error({message:(0,h.EF)(n)})}})()}togglePresets(){this.isPresetsVisible=!this.isPresetsVisible}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A),e.Y36(Je),e.Y36(m.F0),e.Y36(m.gz),e.Y36(q),e.Y36(J.B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["surveys"]],viewQuery:function(t,n){if(1&t&&e.Gf(yn,5),2&t){let i;e.iGM(i=e.CRH())&&(n.filtersComponent=i.first)}},hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("surveys-page",n.cssClass)},decls:5,vars:4,consts:[["screen","surveys"],[3,"description",4,"ngIf","ngIfElse"],["content",""],[3,"description"],[1,"header"],[1,"toolbar"],["translate","",1,"title"],["type","button",1,"button","-primary","-pill",3,"clickTracker","disabled","click"],[1,"icon","material-icons"],["class","text","translate","",4,"ngIf"],["hidden","",3,"onApply"],["filtersComponent",""],["type","button",1,"button","-transparent",3,"clickTracker","click"],["translate","",1,"text"],[1,"ml-auto"],["type","button",1,"button","-transparent",3,"routerLink"],[1,"presets-wrapper"],[1,"presets"],[1,"row"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"col-2"],[1,"card"],[1,"button","-preset",3,"routerLink"],[1,"content"],[1,"surveys"],[4,"ngIf"],["class","pagination-navigation",4,"ngIf"],[1,"col-md-2"],[3,"preset","compact"],[1,"col-md-3"],["class","col-md-3",3,"survey","onRemove",4,"ngFor","ngForOf"],[1,"col-md-3",3,"survey","onRemove"],[1,"pagination-navigation"],[1,"text"],["translate",""],[1,"buttons"],["type","button","translate","",1,"button","-alt","-left-attach",3,"disabled","click"],[1,"input","-middle-attach",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["type","button","translate","",1,"button","-alt","-right-attach",3,"disabled","click"]],template:function(t,n){if(1&t&&(e._UZ(0,"screen-tracker",0),e.YNc(1,kn,2,3,"loading-state",1),e.ALo(2,"async"),e.YNc(3,Qn,54,49,"ng-template",null,2,e.W1O)),2&t){const i=e.MAs(4);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,n.IS_CREATING))("ngIfElse",i)}},encapsulation:2}),o})(),On=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["export"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"export works!"),e.qZA())},encapsulation:2}),o})(),Ne=(()=>{class o{constructor(){this._tasks={}}get tasks(){return(0,h.O)("totalsurvey.workflow.tasks",this._tasks)}hasTasks(){return Object.keys(this.tasks).length>0}registerTaskSettingsComponent(t,n){this._tasks[t]=n}getTaskSettings(t){return t?this.tasks[t.id]:null}getFreshCondition(){return{value:[],sectionUid:"",questionUid:"",operator:"equals"}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),ge=(()=>{class o{constructor(){this.slots={}}add(t,n){this.slots.hasOwnProperty(t)||(this.slots[t]=[]),this.slots[t].push(n)}get(t){return this.slots[t]||[]}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Ln=g(8433);function Bn(o,s){1&o&&(e._UZ(0,"loading-state",3),e.ALo(1,"translate")),2&o&&e.Q6J("description",e.lcZ(1,1,"Retrieving the survey..."))}const Hn=function(){return{action:"save-survey",target:"surveys"}};function Pn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).save()}),e.ALo(1,"isCapable"),e.ALo(2,"async"),e._uU(3,"Save "),e.qZA()}if(2&o){const t=e.oxw(3);e.Q6J("clickTracker",e.DdM(6,Hn))("disabled",!e.lcZ(1,2,"update_survey")||e.lcZ(2,4,t.IS_UPDATING))}}function Dn(o,s){1&o&&e._UZ(0,"loading-indicator",18)}const Yn=function(){return{action:"preview-survey",target:"surveys"}};function Rn(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"label",11)(2,"input",12),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).survey.enabled=i}),e.ALo(3,"isCapable"),e.qZA(),e.TgZ(4,"span",13),e._uU(5),e.ALo(6,"translate"),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"a",14),e._uU(9,"Preview"),e.qZA(),e.YNc(10,Pn,4,7,"button",15),e.ALo(11,"async"),e.YNc(12,Dn,1,0,"loading-indicator",16),e.ALo(13,"async"),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",!e.lcZ(3,7,"update_survey"))("ngModel",t.survey.enabled),e.xp6(3),e.Oqu(t.survey.enabled?e.lcZ(6,9,"Enabled"):e.lcZ(7,11,"Disabled")),e.xp6(3),e.Q6J("href",t.survey.url,e.LSH)("clickTracker",e.DdM(17,Yn)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(11,13,t.IS_UPDATING)),e.xp6(2),e.Q6J("ngIf",e.lcZ(13,15,t.IS_UPDATING))}}function jn(o,s){if(1&o&&(e.TgZ(0,"a",19),e._uU(1,"Preview"),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("href",t.survey.url,e.LSH)}}function zn(o,s){if(1&o&&(e.TgZ(0,"main-tabs",4,5)(2,"div",6),e.YNc(3,Rn,14,18,"ng-container",7),e.YNc(4,jn,2,1,"ng-template",null,8,e.W1O),e.GkF(6,9),e.qZA()(),e.TgZ(7,"div",10),e._UZ(8,"router-outlet"),e.qZA()),2&o){const t=e.MAs(1),n=e.MAs(5),i=e.oxw();e.Q6J("tabs",i.editorTabs),e.xp6(3),e.Q6J("ngIf",t.isActive("setup")||t.isActive("design")||t.isActive("workflow")||t.isActive("scoring")||t.isActive("translations")||t.isActive("reports")||t.isActive("categories"))("ngIfElse",n),e.xp6(3),e.Q6J("ngTemplateOutlet",i.toolbarButtons)}}let Z=(()=>{class o{constructor(t,n,i,r,a,d,_){this.surveysService=t,this.statusService=n,this.route=i,this.workflowsService=r,this.moduleService=a,this.slots=d,this.translation=_,this.cssClass=!0,this.IS_GETTING=this.surveysService.getting$,this.IS_UPDATING=this.surveysService.updating$,this.editorTabs=[{name:"Setup",route:"setup"},{name:"Design",route:"design"},{name:"Integrate",route:"integration"},{name:"Browse",route:"entries"},{name:"Workflow",route:"workflow"},{name:"Insights",route:"insights"},{name:"Score & Grades",route:"scoring"},{name:"Categories",route:"categories"},{name:"Translations",route:"translations"},{name:"Reports",route:"reports"}]}ngOnInit(){var t=this;return(0,f.Z)(function*(){t.subscription=t.route.params.subscribe(t.watchSurveyUid.bind(t)),t.editorTabs=[{name:yield t.translation.get("Setup").toPromise(),route:"setup"},{name:yield t.translation.get("Design").toPromise(),route:"design"},{name:yield t.translation.get("Integrate").toPromise(),route:"integration"},{name:yield t.translation.get("Browse").toPromise(),route:"entries"},{name:yield t.translation.get("Workflow").toPromise(),route:"workflow"},{name:yield t.translation.get("Insights").toPromise(),route:"insights"},{name:yield t.translation.get("Score & Grades").toPromise(),route:"scoring"},{name:yield t.translation.get("Categories").toPromise(),route:"categories"},{name:yield t.translation.get("Translations").toPromise(),route:"translations"},{name:yield t.translation.get("Reports").toPromise(),route:"reports"}]})()}ngOnDestroy(){this.subscription.unsubscribe()}watchSurveyUid(t){var n=this;return(0,f.Z)(function*(){try{n.survey=(yield n.surveysService.get(t.surveyUid)).data,n.originalSurveyHash=JSON.stringify(n.survey)}catch(i){console.log((0,h.EF)(i)),n.statusService.error({message:(0,h.EF)(i),modal:!0})}})()}get currentSurveyHash(){return JSON.stringify(this.survey)}save(){var t=this;return(0,f.Z)(function*(){try{const n=t.surveysService.clean(t.survey);if(n.length>0){if(!confirm(`The following changes will be applied:\n${n.join("\n")}\nContinue?`))return;t.surveysService.clean(t.survey,!0)}const i=yield t.surveysService.update(t.survey.uid,t.survey);if(!i.success)throw new Error(i.error||"Something went wrong, please try again.");t.statusService.success({message:"Your changes have been saved."}),t.originalSurveyHash=JSON.stringify(t.survey)}catch(n){t.statusService.error({message:(0,h.EF)(n)})}})()}onLeave(t){this.originalSurveyHash!==this.currentSurveyHash&&(t.returnValue="You have some unsaved progress, are you sure you want to leave?")}hasPendingChanges(){return this.originalSurveyHash!==this.currentSurveyHash}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A),e.Y36(J.B),e.Y36(m.gz),e.Y36(Ne),e.Y36(E.s),e.Y36(ge),e.Y36(p.sK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["editor"]],hostVars:2,hostBindings:function(t,n){1&t&&e.NdJ("beforeunload",function(r){return n.onLeave(r)},!1,e.Jf7),2&t&&e.ekj("survey-editor",n.cssClass)},decls:5,vars:4,consts:[[3,"description",4,"ngIf","ngIfElse"],["main",""],["name","entry"],[3,"description"],[1,"navigation",3,"tabs"],["tabs",""],["slot","side",1,"actions"],[4,"ngIf","ngIfElse"],["other",""],[3,"ngTemplateOutlet"],[1,"content"],[1,"labeled-switch"],["type","checkbox",1,"switch",3,"disabled","ngModel","ngModelChange"],[1,"label"],["target","_blank","translate","",1,"button","-alt","-white",3,"href","clickTracker"],["type","button","class","button -primary","translate","",3,"clickTracker","disabled","click",4,"ngIf"],["class","button -white",4,"ngIf"],["type","button","translate","",1,"button","-primary",3,"clickTracker","disabled","click"],[1,"button","-white"],["target","_blank","translate","",1,"button","-alt","-white",3,"href"]],template:function(t,n){if(1&t&&(e.YNc(0,Bn,2,3,"loading-state",0),e.ALo(1,"async"),e.YNc(2,zn,9,4,"ng-template",null,1,e.W1O),e._UZ(4,"router-outlet",2)),2&t){const i=e.MAs(3);e.Q6J("ngIf",!n.survey||e.lcZ(1,2,n.IS_GETTING))("ngIfElse",i)}},directives:[c.O5,ee.X,Ln.F,l.Wl,l.JJ,l.On,p.Pi,S.g,$.Q,c.tP,m.lC],pipes:[p.X$,c.Ov,ae.m],encapsulation:2}),o})();var G=g(4425);function Vn(o,s){if(1&o&&e._UZ(0,"option",46),2&o){const t=s.$implicit;e.Q6J("label",t.name)("value",t.code)}}function $n(o,s){if(1&o&&(e._UZ(0,"option",47),e.ALo(1,"translate")),2&o){const t=s.$implicit,n=s.index;e.Q6J("label",t.title||e.lcZ(1,2,"Section #")+(n+1))("ngValue",t)}}const Gn=function(){return{action:"integrate-survey",target:"shortcode"}},Wn=function(){return{standalone:!0}};let Xn=(()=>{class o{constructor(t,n){this.editor=t,this.config=n,this.activeSection=null,this.survey=this.editor.survey,this.locale="",this.cssClass=!0}get localizedSurveyUrl(){const t=new URL(this.survey.url);return t.searchParams.set("language",this.locale),t.toString()}ngOnInit(){}get shortcode(){return`[totalsurvey id="${this.survey.id}"][/totalsurvey]`}get restApi(){return{getSurvey:`${this.config.api.base}/survey/${this.survey.uid}`,getEntry:`${this.config.api.base}/entry/ENTRY_UID`,postEntry:`${this.config.api.base}/entry`,postValidateSurveySection:`${this.config.api.base}/survey/section`,postEntryExample:{survey_uid:this.survey.uid,data:(()=>{const t={};return this.survey.sections.forEach((n,i)=>{t[`__SECTION_${i+1}__`]=null,n.blocks.filter(r=>r instanceof Me).forEach((r,a)=>{t[r.field.uid]=r.title||`Question #${a+1}`})}),t})()},postValidateSurveySectionExample:{survey_uid:this.survey.uid,section_uid:this.activeSection?.uid||"SECTION_UID",data:this.activeSection?(()=>{const t={};return this.activeSection.blocks.forEach((n,i)=>{t[n.field.uid]=n.title||`Question #${i+1}`}),t})():{field_uid:"value"}}}}get php(){return{displaySurvey:`<?php do_action('totalsurvey/display/survey', '${this.survey.uid}'); ?>`}}notifyCopy(t){t.innerText="done",setTimeout(()=>t.innerText="file_copy",2e3)}openExample(t){window.open("","_blank")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(P.l))},o.\u0275cmp=e.Xpm({type:o,selectors:[["integration"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("integrations-wrapper",n.cssClass)},decls:112,vars:35,consts:[["screen","integrate-survey"],[1,"integrations-manager"],[1,"row"],["name","Shortcode / Permalink",1,"col-md-4"],[1,"form-group"],["for","survey_integration_shortcode","translate","",1,"label"],[1,"input-with-action"],["type","text","id","survey_integration_shortcode","readonly","",1,"input","-left-attach",3,"value"],["type","button",1,"button","-primary","-right-attach",3,"clickTracker","cdkCopyToClipboard","cdkCopyToClipboardCopied"],[1,"icon","material-icons"],["shortcodeCopy",""],["for","survey_integration_permalink","translate","",1,"label"],["type","text","id","survey_integration_permalink","readonly","",1,"input","-left-attach",3,"value"],["type","button",1,"button","-primary","-right-attach",3,"cdkCopyToClipboard","cdkCopyToClipboardCopied"],["permalinkCopy",""],["for","survey_integration_permalink_localized","translate","",1,"label"],[1,"input",3,"ngModel","ngModelChange"],["value",""],[3,"label","value",4,"ngFor","ngForOf"],["type","text","id","survey_integration_permalink_localized","readonly","",1,"input","-left-attach",3,"value"],["permalinkCopyLocalized",""],["name","REST API",1,"col-md-4"],["for","survey_integration_rest_api_get_survey",1,"label"],["translate",""],[1,"chip"],["type","text","id","survey_integration_rest_api_get_survey","readonly","",1,"input","-left-attach",3,"value"],["getSurveyCopy",""],["for","survey_integration_rest_api_validate_survey_section",1,"label"],["type","text","id","survey_integration_rest_api_validate_survey_section","readonly","",1,"input","-left-attach",3,"value"],["postValidateSurveySectionCopy",""],[1,"input",3,"ngModel","ngModelOptions","ngModelChange"],["translate","",3,"ngValue"],[3,"label","ngValue",4,"ngFor","ngForOf"],[1,"code-sample",3,"innerHTML"],["for","survey_integration_rest_api_post_entry",1,"label"],["type","text","id","survey_integration_rest_api_post_entry","readonly","",1,"input","-left-attach",3,"value"],["postEntryCopy",""],["for","survey_integration_rest_api_get_entry",1,"label"],["type","text","id","survey_integration_rest_api_get_entry","readonly","",1,"input","-left-attach",3,"value"],["getEntryCopy",""],["name","PHP",1,"col-md-4"],["for","survey_integration_shortcode_php_display_survey",1,"label"],["type","text","id","survey_integration_shortcode_php_display_survey","readonly","",1,"input","-left-attach",3,"value"],["displaySurveyCopy",""],[1,"message","-info"],["target","_blank",3,"href"],[3,"label","value"],[3,"label","ngValue"]],template:function(t,n){if(1&t){const i=e.EpF();e._UZ(0,"screen-tracker",0),e.TgZ(1,"div",1)(2,"div",2)(3,"card",3)(4,"div",4)(5,"label",5),e._uU(6,"Shortcode"),e.qZA(),e.TgZ(7,"div",6),e._UZ(8,"input",7),e.TgZ(9,"button",8),e.NdJ("cdkCopyToClipboardCopied",function(){e.CHM(i);const a=e.MAs(11);return n.notifyCopy(a)}),e.TgZ(10,"span",9,10),e._uU(12,"file_copy"),e.qZA()()()(),e.TgZ(13,"div",4)(14,"label",11),e._uU(15,"Permalink"),e.qZA(),e.TgZ(16,"div",6),e._UZ(17,"input",12),e.TgZ(18,"button",13),e.NdJ("cdkCopyToClipboardCopied",function(){e.CHM(i);const a=e.MAs(20);return n.notifyCopy(a)}),e.TgZ(19,"span",9,14),e._uU(21,"file_copy"),e.qZA()()()(),e.TgZ(22,"div",4)(23,"label",15),e._uU(24,"Permalink (specific language)"),e.qZA(),e.TgZ(25,"select",16),e.NdJ("ngModelChange",function(a){return n.locale=a}),e.TgZ(26,"option",17),e._uU(27,"Pick a language"),e.qZA(),e.YNc(28,Vn,1,2,"option",18),e.qZA(),e._UZ(29,"br")(30,"br"),e.TgZ(31,"div",6),e._UZ(32,"input",19),e.TgZ(33,"button",13),e.NdJ("cdkCopyToClipboardCopied",function(){e.CHM(i);const a=e.MAs(35);return n.notifyCopy(a)}),e.TgZ(34,"span",9,20),e._uU(36,"file_copy"),e.qZA()()()()(),e.TgZ(37,"card",21)(38,"div",4)(39,"label",22)(40,"span",23),e._uU(41,"Get survey endpoint"),e.qZA(),e.TgZ(42,"span",24),e._uU(43,"GET"),e.qZA()(),e.TgZ(44,"div",6),e._UZ(45,"input",25),e.TgZ(46,"button",13),e.NdJ("cdkCopyToClipboardCopied",function(){e.CHM(i);const a=e.MAs(48);return n.notifyCopy(a)}),e.TgZ(47,"span",9,26),e._uU(49,"file_copy"),e.qZA()()()(),e.TgZ(50,"div",4)(51,"label",27)(52,"span",23),e._uU(53,"Validate survey section endpoint"),e.qZA(),e.TgZ(54,"span",24),e._uU(55,"POST"),e.qZA()(),e.TgZ(56,"div",6),e._UZ(57,"input",28),e.TgZ(58,"button",13),e.NdJ("cdkCopyToClipboardCopied",function(){e.CHM(i);const a=e.MAs(60);return n.notifyCopy(a)}),e.TgZ(59,"span",9,29),e._uU(61,"file_copy"),e.qZA()()(),e._UZ(62,"br"),e.TgZ(63,"select",30),e.NdJ("ngModelChange",function(a){return n.activeSection=a}),e.TgZ(64,"option",31),e._uU(65,"Choose a section"),e.qZA(),e.YNc(66,$n,2,4,"option",32),e.qZA(),e._UZ(67,"pre",33),e.ALo(68,"json"),e.qZA(),e.TgZ(69,"div",4)(70,"label",34)(71,"span",23),e._uU(72,"Post entry endpoint"),e.qZA(),e.TgZ(73,"span",24),e._uU(74,"POST"),e.qZA()(),e.TgZ(75,"div",6),e._UZ(76,"input",35),e.TgZ(77,"button",13),e.NdJ("cdkCopyToClipboardCopied",function(){e.CHM(i);const a=e.MAs(79);return n.notifyCopy(a)}),e.TgZ(78,"span",9,36),e._uU(80,"file_copy"),e.qZA()()(),e._UZ(81,"pre",33),e.ALo(82,"json"),e.qZA(),e.TgZ(83,"div",4)(84,"label",37)(85,"span",23),e._uU(86,"Get entry endpoint"),e.qZA(),e.TgZ(87,"span",24),e._uU(88,"GET"),e.qZA()(),e.TgZ(89,"div",6),e._UZ(90,"input",38),e.TgZ(91,"button",13),e.NdJ("cdkCopyToClipboardCopied",function(){e.CHM(i);const a=e.MAs(93);return n.notifyCopy(a)}),e.TgZ(92,"span",9,39),e._uU(94,"file_copy"),e.qZA()()()()(),e.TgZ(95,"card",40)(96,"div",4)(97,"label",41),e._uU(98,"Display survey"),e.qZA(),e.TgZ(99,"div",6),e._UZ(100,"input",42),e.TgZ(101,"button",13),e.NdJ("cdkCopyToClipboardCopied",function(){e.CHM(i);const a=e.MAs(103);return n.notifyCopy(a)}),e.TgZ(102,"span",9,43),e._uU(104,"file_copy"),e.qZA()()()(),e.TgZ(105,"div",4)(106,"div",44),e._uU(107),e.ALo(108,"translate"),e.TgZ(109,"a",45),e._uU(110,"the codex"),e.qZA(),e._uU(111,". "),e.qZA()()()()()}2&t&&(e.xp6(8),e.Q6J("value",n.shortcode),e.xp6(1),e.Q6J("clickTracker",e.DdM(33,Gn))("cdkCopyToClipboard",n.shortcode),e.xp6(8),e.Q6J("value",n.survey.url),e.xp6(1),e.Q6J("cdkCopyToClipboard",n.survey.url),e.xp6(7),e.Q6J("ngModel",n.locale),e.xp6(3),e.Q6J("ngForOf",n.config.languages),e.xp6(4),e.Q6J("value",n.localizedSurveyUrl),e.xp6(1),e.Q6J("cdkCopyToClipboard",n.localizedSurveyUrl),e.xp6(12),e.Q6J("value",n.restApi.getSurvey),e.xp6(1),e.Q6J("cdkCopyToClipboard",n.restApi.getSurvey),e.xp6(11),e.Q6J("value",n.restApi.postValidateSurveySection),e.xp6(1),e.Q6J("cdkCopyToClipboard",n.restApi.postValidateSurveySection),e.xp6(5),e.Q6J("ngModel",n.activeSection)("ngModelOptions",e.DdM(34,Wn)),e.xp6(1),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",n.survey.sections),e.xp6(1),e.Q6J("innerHTML",e.lcZ(68,27,n.restApi.postValidateSurveySectionExample),e.oJD),e.xp6(9),e.Q6J("value",n.restApi.postEntry),e.xp6(1),e.Q6J("cdkCopyToClipboard",n.restApi.postEntry),e.xp6(4),e.Q6J("innerHTML",e.lcZ(82,29,n.restApi.postEntryExample),e.oJD),e.xp6(9),e.Q6J("value",n.restApi.getEntry),e.xp6(1),e.Q6J("cdkCopyToClipboard",n.restApi.getEntry),e.xp6(9),e.Q6J("value",n.php.displaySurvey),e.xp6(1),e.Q6J("cdkCopyToClipboard",n.php.displaySurvey),e.xp6(6),e.hij("",e.lcZ(108,31,"For more detailed information, please visit")," "),e.xp6(2),e.Q6J("href",n.config.support.codex,e.LSH))},directives:[F.h,D.A,p.Pi,S.g,G.i3,l.EJ,l.JJ,l.On,l.YN,l.Kr,c.sg],pipes:[p.X$,c.Ts],encapsulation:2}),o})();function Kn(o,s){1&o&&(e._UZ(0,"loading-state",2),e.ALo(1,"translate")),2&o&&e.Q6J("description",e.lcZ(1,1,"Loading available templates"))}function eo(o,s){1&o&&(e.TgZ(0,"span",11),e._uU(1,"Current"),e.qZA())}function to(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).template=r.id}),e._UZ(1,"img",5),e.TgZ(2,"div",6)(3,"h5",7),e._uU(4),e.qZA(),e.TgZ(5,"p",8),e._uU(6,"by "),e.TgZ(7,"a",9),e._uU(8),e.qZA()()(),e.YNc(9,eo,2,0,"span",10),e.qZA()}if(2&o){const t=s.$implicit,n=e.oxw(2);e.ekj("is-active",t.id===n.currentTemplate.id),e.xp6(1),e.Q6J("src",t.images.icon,e.LSH)("alt",t.name),e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Q6J("href",t.author.url,e.LSH),e.xp6(1),e.Oqu(t.author.name),e.xp6(1),e.Q6J("ngIf",t.id===n.currentTemplate.id)}}function no(o,s){if(1&o&&e.YNc(0,to,10,8,"div",3),2&o){const t=e.oxw();e.Q6J("ngForOf",t.templates)}}let oo=(()=>{class o{constructor(t){this.modulesService=t,this.listing=!1,this.templates=[],this.propagateChange=n=>{},this.cssClass=!0}toggleListing(){this.listing=!this.listing}isListing(){return this.listing}ngOnInit(){var t=this;return(0,f.Z)(function*(){t.templates=(yield t.modulesService.all()).data.filter(n=>"template"===n.type)})()}get currentTemplate(){return this.templates.find(t=>t.id===this.template)}get template(){return this._template}set template(t){this.listing=!1,this._template=t||"default-template",this.propagateChange(this._template)}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){}setDisabledState(t){}writeValue(t){void 0!==t&&(this.template=t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(E.s))},o.\u0275cmp=e.Xpm({type:o,selectors:[["template-picker"]],hostVars:4,hostBindings:function(t,n){2&t&&e.ekj("is-listing",n.listing)("template-picker",n.cssClass)},features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}])],decls:3,vars:2,consts:[[3,"description",4,"ngIf","ngIfElse"],["theListing",""],[3,"description"],["class","item",3,"is-active","click",4,"ngFor","ngForOf"],[1,"item",3,"click"],[1,"icon",3,"src","alt"],[1,"details"],[1,"name"],[1,"credit"],["target","_blank",3,"href"],["class","chip -primary","translate","",4,"ngIf"],["translate","",1,"chip","-primary"]],template:function(t,n){if(1&t&&(e.YNc(0,Kn,2,3,"loading-state",0),e.YNc(1,no,1,1,"ng-template",null,1,e.W1O)),2&t){const i=e.MAs(2);e.Q6J("ngIf",!n.currentTemplate)("ngIfElse",i)}},directives:[c.O5,ee.X,c.sg,p.Pi],pipes:[p.X$],encapsulation:2}),o})();const io=function(o){return{background:o}},ro=function(o){return{color:o}},so=function(o,s){return{background:o,color:s}};function ao(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4,"colorize"),e.qZA(),e.TgZ(5,"input",4),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().color.base=i}),e.qZA()(),e.TgZ(6,"div",5),e.NdJ("mouseenter",function(){return e.CHM(t),e.MAs(8).innerText="colorize"})("mouseleave",function(){return e.CHM(t),e.MAs(8).innerText="invert_colors"}),e.TgZ(7,"div",6,7),e._uU(9,"invert_colors"),e.qZA(),e.TgZ(10,"input",4),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().color.contrast=i}),e.qZA()(),e.TgZ(11,"input",8),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().color.base=i}),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(6,io,t.color.base)),e.xp6(1),e.Q6J("ngStyle",e.VKq(8,ro,t.color.contrast)),e.xp6(2),e.Q6J("ngModel",t.color.base),e.xp6(1),e.Q6J("ngStyle",e.WLB(10,so,t.color.contrast,t.color.base)),e.xp6(4),e.Q6J("ngModel",t.color.contrast),e.xp6(1),e.Q6J("ngModel",t.color.base)}}let Xe=(()=>{class o{constructor(){this.name="",this.propagateChange=t=>{}}get color(){return this._color}set color(t){this._color=t,this.propagateChange(this._color)}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){}setDisabledState(t){}writeValue(t){void 0!==t&&(this.color=t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["custom-color-picker"]],inputs:{name:"name"},features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"color-builder"],[1,"base",3,"ngStyle"],[1,"icon","material-icons",3,"ngStyle"],["type","color",3,"ngModel","ngModelChange"],[1,"contrast",3,"ngStyle","mouseenter","mouseleave"],[1,"icon","material-icons"],["contrastIcon",""],["type","text","autocomplete","off","spellcheck","false",1,"input",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&e.YNc(0,ao,12,13,"ng-container",0),2&t&&e.Q6J("ngIf",n.color)},directives:[c.O5,c.PC,l.Fj,l.JJ,l.On],encapsulation:2}),o})();const lo=function(){return{action:"survey-design-size",target:"small"}},Y=function(o){return[o]},co=function(){return{action:"survey-design-size",target:"regular"}},po=function(){return{action:"survey-design-size",target:"medium"}},uo=function(){return{action:"survey-design-size",target:"large"}},go=function(){return{action:"survey-design-spacing",target:"compact"}},_o=function(){return{action:"survey-design-spacing",target:"normal"}},mo=function(){return{action:"survey-design-spacing",target:"comfortable"}},ho=function(){return{action:"survey-design-roundness",target:"sharp"}},fo=function(){return{action:"survey-design-roundness",target:"rounded"}},xo=function(){return{action:"survey-design-reset",target:"surveys"}};let bo=(()=>{class o{constructor(t,n){this.editor=t,this.config=n,this.settings=this.editor.survey.settings.design,this.SIZE_SMALL="small",this.SIZE_REGULAR="regular",this.SIZE_MEDIUM="medium",this.SIZE_LARGE="large",this.SPACING_COMPACT="compact",this.SPACING_NORMAL="normal",this.SPACING_COMFORTABLE="comfortable",this.RADIUS_SHARP="sharp",this.RADIUS_ROUNDED="rounded",this.reset=!1,this.cssClass=!0}setSize(t){this.settings.size=t}isSize(t){return this.settings.size===t}setSpacing(t){this.settings.space=t}isSpacing(t){return this.settings.space===t}setRadius(t){this.settings.radius=t}isRadius(t){return this.settings.radius===t}resetToDefaults(){this.editor.survey.settings.design=(0,h.Ee)({},this.config.defaults.settings.design),this.settings=this.editor.survey.settings.design,this.reset=!0,setTimeout(()=>this.reset=!1,1500)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(P.l))},o.\u0275cmp=e.Xpm({type:o,selectors:[["design"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("design-customizer-wrapper",n.cssClass)},decls:103,vars:83,consts:[["screen","design-survey"],[1,"design-customizer"],[1,"row"],[1,"col-md-4",3,"name"],[3,"ngModel","ngModelChange"],[1,"form-group"],[1,"col-6"],["translate","",1,"label"],[3,"ngModel","name","ngModelChange"],[1,"button-group","-attached"],["type","button",1,"button","-preset",3,"clickTracker","ngClass","click"],[1,"icon","material-icons"],["translate","",1,"text"],[1,"form-group","-last"],[1,"button","-alt","-wide",3,"clickTracker","click"],["name","Custom CSS",1,"col-md-4","custom-css"],[1,"input","-transparent",3,"ngModel","placeholder","ngModelChange"]],template:function(t,n){1&t&&(e._UZ(0,"screen-tracker",0),e.TgZ(1,"div",1)(2,"div",2)(3,"card",3),e.ALo(4,"translate"),e.TgZ(5,"template-picker",4),e.NdJ("ngModelChange",function(r){return n.settings.template=r}),e.qZA()(),e.TgZ(6,"card",3),e.ALo(7,"translate"),e.TgZ(8,"div",5)(9,"div",2)(10,"div",6)(11,"label",7),e._uU(12,"Primary"),e.qZA(),e.TgZ(13,"custom-color-picker",8),e.NdJ("ngModelChange",function(r){return n.settings.colors.primary=r}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",6)(16,"label",7),e._uU(17,"Secondary"),e.qZA(),e.TgZ(18,"custom-color-picker",8),e.NdJ("ngModelChange",function(r){return n.settings.colors.secondary=r}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",6)(21,"label",7),e._uU(22,"Background"),e.qZA(),e.TgZ(23,"custom-color-picker",8),e.NdJ("ngModelChange",function(r){return n.settings.colors.background=r}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",6)(26,"label",7),e._uU(27,"Dark"),e.qZA(),e.TgZ(28,"custom-color-picker",8),e.NdJ("ngModelChange",function(r){return n.settings.colors.dark=r}),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",6)(31,"label",7),e._uU(32,"Error"),e.qZA(),e.TgZ(33,"custom-color-picker",8),e.NdJ("ngModelChange",function(r){return n.settings.colors.error=r}),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"div",6)(36,"label",7),e._uU(37,"Success"),e.qZA(),e.TgZ(38,"custom-color-picker",8),e.NdJ("ngModelChange",function(r){return n.settings.colors.success=r}),e.ALo(39,"translate"),e.qZA()()()(),e.TgZ(40,"div",5)(41,"label",7),e._uU(42,"Size"),e.qZA(),e.TgZ(43,"div",9)(44,"button",10),e.NdJ("click",function(){return n.setSize(n.SIZE_SMALL)}),e.TgZ(45,"span",11),e._uU(46,"crop_7_5"),e.qZA(),e.TgZ(47,"span",12),e._uU(48,"Small"),e.qZA()(),e.TgZ(49,"button",10),e.NdJ("click",function(){return n.setSize(n.SIZE_REGULAR)}),e.TgZ(50,"span",11),e._uU(51,"crop_16_9"),e.qZA(),e.TgZ(52,"span",12),e._uU(53,"Regular"),e.qZA()(),e.TgZ(54,"button",10),e.NdJ("click",function(){return n.setSize(n.SIZE_MEDIUM)}),e.TgZ(55,"span",11),e._uU(56,"crop_3_2"),e.qZA(),e.TgZ(57,"span",12),e._uU(58,"Medium"),e.qZA()(),e.TgZ(59,"button",10),e.NdJ("click",function(){return n.setSize(n.SIZE_LARGE)}),e.TgZ(60,"span",11),e._uU(61,"crop_din"),e.qZA(),e.TgZ(62,"span",12),e._uU(63,"Large"),e.qZA()()()(),e.TgZ(64,"div",5)(65,"label",7),e._uU(66,"Spacing"),e.qZA(),e.TgZ(67,"div",9)(68,"button",10),e.NdJ("click",function(){return n.setSpacing(n.SPACING_COMPACT)}),e.TgZ(69,"span",11),e._uU(70,"view_stream"),e.qZA(),e.TgZ(71,"span",12),e._uU(72,"Compact"),e.qZA()(),e.TgZ(73,"button",10),e.NdJ("click",function(){return n.setSpacing(n.SPACING_NORMAL)}),e.TgZ(74,"span",11),e._uU(75,"view_agenda"),e.qZA(),e.TgZ(76,"span",12),e._uU(77,"Normal"),e.qZA()(),e.TgZ(78,"button",10),e.NdJ("click",function(){return n.setSpacing(n.SPACING_COMFORTABLE)}),e.TgZ(79,"span",11),e._uU(80,"table_rows"),e.qZA(),e.TgZ(81,"span",12),e._uU(82,"Comfortable"),e.qZA()()()(),e.TgZ(83,"div",5)(84,"label",7),e._uU(85,"Roundness"),e.qZA(),e.TgZ(86,"div",9)(87,"button",10),e.NdJ("click",function(){return n.setRadius(n.RADIUS_SHARP)}),e.TgZ(88,"span",11),e._uU(89,"border_style"),e.qZA(),e.TgZ(90,"span",12),e._uU(91,"Sharp"),e.qZA()(),e.TgZ(92,"button",10),e.NdJ("click",function(){return n.setRadius(n.RADIUS_ROUNDED)}),e.TgZ(93,"span",11),e._uU(94,"rounded_corner"),e.qZA(),e.TgZ(95,"span",12),e._uU(96,"Rounded"),e.qZA()()()(),e.TgZ(97,"div",13)(98,"button",14),e.NdJ("click",function(){return n.resetToDefaults()}),e._uU(99),e.qZA()()(),e.TgZ(100,"card",15)(101,"textarea",16),e.NdJ("ngModelChange",function(r){return n.settings.customCss=r}),e.ALo(102,"translate"),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("name",e.lcZ(4,37,"Template")),e.xp6(2),e.Q6J("ngModel",n.settings.template),e.xp6(1),e.Q6J("name",e.lcZ(7,39,"Settings")),e.xp6(7),e.Q6J("ngModel",n.settings.colors.primary)("name",e.lcZ(14,41,"Primary")),e.xp6(5),e.Q6J("ngModel",n.settings.colors.secondary)("name",e.lcZ(19,43,"Secondary")),e.xp6(5),e.Q6J("ngModel",n.settings.colors.background)("name",e.lcZ(24,45,"Background")),e.xp6(5),e.Q6J("ngModel",n.settings.colors.dark)("name",e.lcZ(29,47,"Dark")),e.xp6(5),e.Q6J("ngModel",n.settings.colors.error)("name",e.lcZ(34,49,"Error")),e.xp6(5),e.Q6J("ngModel",n.settings.colors.success)("name",e.lcZ(39,51,"Success")),e.xp6(6),e.Q6J("clickTracker",e.DdM(55,lo))("ngClass",e.VKq(56,Y,n.isSize(n.SIZE_SMALL)?"-primary is-active":"")),e.xp6(5),e.Q6J("clickTracker",e.DdM(58,co))("ngClass",e.VKq(59,Y,n.isSize(n.SIZE_REGULAR)?"-primary is-active":"")),e.xp6(5),e.Q6J("clickTracker",e.DdM(61,po))("ngClass",e.VKq(62,Y,n.isSize(n.SIZE_MEDIUM)?"-primary is-active":"")),e.xp6(5),e.Q6J("clickTracker",e.DdM(64,uo))("ngClass",e.VKq(65,Y,n.isSize(n.SIZE_LARGE)?"-primary is-active":"")),e.xp6(9),e.Q6J("clickTracker",e.DdM(67,go))("ngClass",e.VKq(68,Y,n.isSpacing(n.SPACING_COMPACT)?"-primary is-active":"")),e.xp6(5),e.Q6J("clickTracker",e.DdM(70,_o))("ngClass",e.VKq(71,Y,n.isSpacing(n.SPACING_NORMAL)?"-primary is-active":"")),e.xp6(5),e.Q6J("clickTracker",e.DdM(73,mo))("ngClass",e.VKq(74,Y,n.isSpacing(n.SPACING_COMFORTABLE)?"-primary is-active":"")),e.xp6(9),e.Q6J("clickTracker",e.DdM(76,ho))("ngClass",e.VKq(77,Y,n.isRadius(n.RADIUS_SHARP)?"-primary is-active":"")),e.xp6(5),e.Q6J("clickTracker",e.DdM(79,fo))("ngClass",e.VKq(80,Y,n.isRadius(n.RADIUS_ROUNDED)?"-primary is-active":"")),e.xp6(6),e.Q6J("clickTracker",e.DdM(82,xo)),e.xp6(1),e.hij(" ",n.reset?"Settings were been reset!":"Reset to defaults"," "),e.xp6(2),e.Q6J("ngModel",n.settings.customCss)("placeholder",e.lcZ(102,53,"Custom CSS...")))},directives:[F.h,D.A,oo,l.JJ,l.On,p.Pi,Xe,S.g,c.mk,l.Fj],pipes:[p.X$],encapsulation:2}),o})();function vo(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"label",2),e._uU(3,"Name"),e.qZA(),e.TgZ(4,"input",3),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.name=i}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",1)(7,"label",4),e._uU(8,"Description"),e.qZA(),e.TgZ(9,"textarea",5),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.description=i}),e.ALo(10,"translate"),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("placeholder",e.lcZ(5,4,""))("ngModel",t.survey.name),e.xp6(5),e.Q6J("placeholder",e.lcZ(10,6,""))("ngModel",t.survey.description)}}let Co=(()=>{class o{constructor(){this.propagateChange=t=>{}}get survey(){return this._survey}set survey(t){this._survey=t,this.propagateChange(this._survey)}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){}setDisabledState(t){}writeValue(t){void 0!==t&&(this.survey=t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["configuration-general"]],features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"form-group"],["for","widget_name","translate","",1,"label"],["type","text","id","widget_name",1,"input",3,"placeholder","ngModel","ngModelChange"],["for","widget_description","translate","",1,"label"],["id","widget_description","name","widget_description","rows","4",1,"input",3,"placeholder","ngModel","ngModelChange"]],template:function(t,n){1&t&&e.YNc(0,vo,11,8,"ng-container",0),2&t&&e.Q6J("ngIf",n.survey)},directives:[c.O5,p.Pi,l.Fj,l.JJ,l.On],pipes:[p.X$],encapsulation:2}),o})();var W=g(8252);function yo(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"label",5)(2,"input",9),e.NdJ("change",function(i){const a=e.CHM(t).$implicit;return e.oxw(3).limitations.authentication.options.roles[a.id]=i.target.checked}),e.qZA(),e.TgZ(3,"span",10),e._uU(4),e.qZA()()()}if(2&o){const t=s.$implicit,n=e.oxw(3);e.xp6(2),e.Q6J("checked",n.limitations.authentication.options.roles[t.id]),e.xp6(2),e.Oqu(t.name)}}function ko(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"hr"),e.YNc(2,yo,5,2,"div",8),e.BQk()),2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.config.roles)}}function To(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"feature-switch",3),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limitations.authentication.enabled=i}),e.ALo(4,"translate"),e.TgZ(5,"div",4)(6,"label",5)(7,"input",6),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limitations.authentication.options.specificRoles=i}),e.qZA(),e.TgZ(8,"span",7),e._uU(9,"Allow specific roles"),e.qZA()()(),e.YNc(10,ko,3,1,"ng-container",0),e.qZA()()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("description",e.lcZ(4,4,"Control the access to this survey"))("ngModel",t.limitations.authentication.enabled),e.xp6(4),e.Q6J("ngModel",t.limitations.authentication.options.specificRoles),e.xp6(3),e.Q6J("ngIf",t.limitations.authentication.options.specificRoles)}}let wo=(()=>{class o{constructor(t){this.config=t,this.propagateChange=n=>{}}get limitations(){return this._limitations}set limitations(t){this._limitations=t,this.propagateChange(this._limitations)}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){}setDisabledState(t){}writeValue(t){void 0!==t&&(this.limitations=t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(P.l))},o.\u0275cmp=e.Xpm({type:o,selectors:[["configuration-limitations"]],features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-md-6"],["icon","person","name","Authentication",3,"description","ngModel","ngModelChange"],[1,"form-group"],[1,"labeled-switch"],["type","checkbox",1,"switch",3,"ngModel","ngModelChange"],["translate","",1,"label"],["class","form-group",4,"ngFor","ngForOf"],["type","checkbox",1,"switch",3,"checked","change"],[1,"label"]],template:function(t,n){1&t&&e.YNc(0,To,11,6,"ng-container",0),2&t&&e.Q6J("ngIf",n.limitations)},directives:[c.O5,W.v,l.JJ,l.On,l.Wl,p.Pi,c.sg],pipes:[p.X$],encapsulation:2}),o})();function Zo(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"feature-switch",3),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().contents.welcome.enabled=i}),e.ALo(4,"translate"),e.TgZ(5,"div",4)(6,"label",5),e._uU(7,"BlockContent"),e.qZA(),e.TgZ(8,"textarea",6),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().contents.welcome.content=i}),e.ALo(9,"translate"),e.qZA()()()(),e.TgZ(10,"div",2)(11,"feature-switch",7),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().contents.thankyou.enabled=i}),e.ALo(12,"translate"),e.TgZ(13,"div",4)(14,"label",8),e._uU(15,"BlockContent"),e.qZA(),e.TgZ(16,"textarea",9),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().contents.thankyou.content=i}),e.ALo(17,"translate"),e.qZA()()()()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("description",e.lcZ(4,8,"Welcome message"))("ngModel",t.contents.welcome.enabled),e.xp6(5),e.Q6J("placeholder",e.lcZ(9,10,""))("ngModel",t.contents.welcome.content),e.xp6(3),e.Q6J("description",e.lcZ(12,12,"Thank you message"))("ngModel",t.contents.thankyou.enabled),e.xp6(5),e.Q6J("placeholder",e.lcZ(17,14,""))("ngModel",t.contents.thankyou.content)}}let Ao=(()=>{class o{constructor(){this.propagateChange=t=>{}}get contents(){return this._contents}set contents(t){this._contents=t,this.propagateChange(this._contents)}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){}setDisabledState(t){}writeValue(t){void 0!==t&&(this.contents=t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["configuration-messages"]],features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-md-6"],["icon","flag","name","Welcome",3,"description","ngModel","ngModelChange"],[1,"form-group"],["for","welcome_content","translate","",1,"label"],["id","welcome_content","name","welcome_content","rows","4",1,"input",3,"placeholder","ngModel","ngModelChange"],["icon","done","name","Thank you",3,"description","ngModel","ngModelChange"],["for","thank_you_content","translate","",1,"label"],["id","thank_you_content","name","thank_you_content","rows","4",1,"input",3,"placeholder","ngModel","ngModelChange"]],template:function(t,n){1&t&&e.YNc(0,Zo,18,16,"ng-container",0),2&t&&e.Q6J("ngIf",n.contents)},directives:[c.O5,W.v,l.JJ,l.On,p.Pi,l.Fj],pipes:[p.X$],encapsulation:2}),o})(),Mo=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["configuration-redirection"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"configuration-redirection works!"),e.qZA())},styles:[""]}),o})();function qo(o,s){if(1&o&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.matches)}}function Jo(o,s){if(1&o&&(e.TgZ(0,"div",8)(1,"span",9),e._uU(2),e.qZA(),e.TgZ(3,"span",10),e._uU(4),e.qZA(),e.YNc(5,qo,2,1,"span",11),e.qZA()),2&o){const t=s.$implicit;e.Q6J("routerLink",t.route),e.xp6(2),e.Oqu(t.icon),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.matches)}}function So(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"configuration-general",13),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().editor.survey=i}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.editor.survey)}}function Uo(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"configuration-limitations",13),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().editor.survey.settings.limitations=i}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.editor.survey.settings.limitations)}}function No(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"configuration-messages",13),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().editor.survey.settings.contents=i}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.editor.survey.settings.contents)}}let Io=(()=>{class o{constructor(t,n){this.editor=t,this.route=n,this._searchQuery="",this.configurationTabs=[{name:"General",icon:"settings",route:"../general",keywords:"general name title description",matches:0},{name:"Limitations",icon:"lock",route:"../limitations",keywords:"limitations session survey timeout ip cookie user auth",matches:0},{name:"Messages",icon:"text_snippet",route:"../messages",keywords:"messages thank you welcome",matches:0}],console.log("Oh yeah")}get searchQuery(){return this._searchQuery}set searchQuery(t){this._searchQuery=t.trim(),this.configurationTabs.forEach(n=>{n.matches=0===this._searchQuery.length?0:(n.keywords.match(new RegExp(this._searchQuery,"gi"))||[]).length})}isTab(t){return this.tab===t}ngOnInit(){this.subscription=this.route.params.subscribe(this.watchTab.bind(this))}ngOnDestroy(){this.subscription.unsubscribe()}watchTab(t){this.tab=t.tab||"general"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(m.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["configuration"]],decls:12,vars:8,consts:[["screen","setup-survey"],[1,"settings-panel"],[1,"navigation"],["type","text",1,"settings-search",3,"placeholder","ngModel","ngModelChange"],[1,"settings-tabs"],["class","item","routerLinkActive","is-current",3,"routerLink",4,"ngFor","ngForOf"],[1,"content"],[3,"ngModel","ngModelChange",4,"ngIf"],["routerLinkActive","is-current",1,"item",3,"routerLink"],[1,"icon","material-icons"],[1,"name"],["class","matches chip -pill -highlight",4,"ngIf"],[1,"matches","chip","-pill","-highlight"],[3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e._UZ(0,"screen-tracker",0),e.TgZ(1,"div",1)(2,"div",2)(3,"input",3),e.NdJ("ngModelChange",function(r){return n.searchQuery=r}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,Jo,6,4,"div",5),e.qZA()(),e.TgZ(7,"div",6),e.YNc(8,So,1,1,"configuration-general",7),e.YNc(9,Uo,1,1,"configuration-limitations",7),e.YNc(10,No,1,1,"configuration-messages",7),e._UZ(11,"configuration-redirection"),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("placeholder",e.lcZ(4,6,"Search settings..."))("ngModel",n.searchQuery),e.xp6(3),e.Q6J("ngForOf",n.configurationTabs),e.xp6(2),e.Q6J("ngIf",n.isTab("general")),e.xp6(1),e.Q6J("ngIf",n.isTab("limitations")),e.xp6(1),e.Q6J("ngIf",n.isTab("messages")))},directives:[F.h,l.Fj,l.JJ,l.On,c.sg,m.Od,m.rH,c.O5,Co,wo,Ao,Mo],pipes:[p.X$],encapsulation:2}),o})(),Ke=(()=>{class o{constructor(t){this.httpClient=t,this.getting$=new w.j(!1),this.fetching$=new w.j(!1),this.exporting$=new w.j(!1),this.deleting$=new w.j(!1),this.activeEntry=null}get(t){return this.getting$.start(),this.httpClient.get(`admin/entry/${t}`).toPromise().finally(this.getting$.finish())}all(t,n){return this.fetching$.start(),this.httpClient.get("admin/entry",{params:{survey_uid:t,...n}}).toPromise().finally(this.fetching$.finish())}export(t,n="json",i={}){return this.exporting$.start(n),this.httpClient.post(`admin/entry/export/${n}`,{survey_uid:t,...i},{responseType:"blob",observe:"response"}).toPromise().then(r=>((0,h.$D)(r,`export.${n}`),r)).finally(this.exporting$.finish())}delete(t){return this.deleting$.start(),this.httpClient.delete(`admin/entry/${t}`).toPromise().finally(this.deleting$.finish())}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(O.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Fo=["filtersComponent"];function Eo(o,s){1&o&&(e.TgZ(0,"button",25),e._UZ(1,"loading-indicator"),e.qZA())}const Qo=function(){return{action:"reset-entries",target:"entries"}};function Oo(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().resetSurvey()}),e.ALo(1,"translate"),e.ALo(2,"isCapable"),e.TgZ(3,"span",15),e._uU(4,"delete_sweep"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",!e.lcZ(2,5,"delete_entries")||t.entries.length<1)("clickTracker",e.DdM(7,Qo)),e.uIk("data-tooltip",e.lcZ(1,3,"Reset survey"))}}function Lo(o,s){1&o&&e._UZ(0,"loading-indicator")}function Bo(o,s){if(1&o&&e._UZ(0,"img",33),2&o){const t=e.oxw().$implicit;e.Q6J("src",t.user.avatar,e.LSH)("alt",t.user.name)}}function Ho(o,s){1&o&&(e.TgZ(0,"div",34),e._uU(1,"?"),e.qZA())}function Po(o,s){if(1&o&&(e.TgZ(0,"span"),e._uU(1," \u2022 "),e.TgZ(2,"span",35),e._uU(3),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.AsE("",t.data.category.title," (Weight: ",t.data.category.totalWeight||0,")")}}function Do(o,s){if(1&o&&e.GkF(0,36),2&o){const t=s.$implicit,n=e.oxw().$implicit,i=e.oxw();e.Q6J("ngComponentOutlet",t)("ngComponentOutletInjector",i.entryInjector(n))}}const Yo=function(o){return[o]};function Ro(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"a",27),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().setActive(r)}),e.YNc(1,Bo,1,2,"img",28),e.YNc(2,Ho,2,0,"ng-template",null,29,e.W1O),e.TgZ(4,"div",30)(5,"h6",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"small",31)(9,"span",5),e._uU(10,"Entry #"),e.qZA(),e._uU(11),e.ALo(12,"relativeTime"),e.YNc(13,Po,4,2,"span",18),e.YNc(14,Do,1,2,"ng-container",32),e.qZA()()()}if(2&o){const t=s.$implicit,n=e.MAs(3),i=e.oxw();e.ekj("is-active",i.isActive(t)||i.activeEntry.id===t.id),e.Q6J("id","entry-"+t.id+"-"+t.uid)("routerLink",e.VKq(16,Yo,t.uid)),e.xp6(1),e.Q6J("ngIf",t.user)("ngIfElse",n),e.xp6(5),e.Oqu((null==t.user?null:t.user.name)||e.lcZ(7,12,"Anonymous")),e.xp6(2),e.Q6J("title",t.created_at),e.xp6(3),e.AsE("",t.id," \u2022 ",e.lcZ(12,14,t.created_at)," "),e.xp6(2),e.Q6J("ngIf",t.data.category),e.xp6(1),e.Q6J("ngForOf",i.editor.slots.get("entry-item-details"))}}function jo(o,s){if(1&o&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&o){const t=s.index;e.xp6(1),e.Oqu(t+1)}}const zo=function(){return[]};function Vo(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"span",5),e._uU(3,"Showing from"),e.qZA(),e._uU(4),e.TgZ(5,"span",5),e._uU(6,"to"),e.qZA(),e._uU(7),e.TgZ(8,"span",5),e._uU(9,"of"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"div",39)(12,"button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().previousPage()}),e._uU(13," Previous "),e.qZA(),e.TgZ(14,"select",41),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().goToPage(i)}),e.YNc(15,jo,2,1,"option",42),e.qZA(),e.TgZ(16,"button",43),e.NdJ("click",function(){return e.CHM(t),e.oxw().nextPage()}),e._uU(17," Next "),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(4),e.hij(" ",t.showingFrom," "),e.xp6(3),e.hij(" ",t.showingTo," "),e.xp6(3),e.hij(" ",t.showingTotal," "),e.xp6(2),e.Q6J("disabled",!t.hasPreviousPage()),e.xp6(2),e.Q6J("ngModel",t.page),e.xp6(1),e.Q6J("ngForOf",e.DdM(7,zo).constructor(t.pagination.pages)),e.xp6(1),e.Q6J("disabled",!t.hasNextPage())}}function $o(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().closePopup()}),e._uU(2,"close"),e.qZA(),e.TgZ(3,"div",46)(4,"div",47)(5,"span",48),e._uU(6,"keyboard"),e.qZA(),e.TgZ(7,"div",5),e._uU(8,"Keyboard "),e._UZ(9,"br"),e._uU(10," Shortcuts"),e.qZA()(),e.TgZ(11,"div",49)(12,"span",48),e._uU(13,"keyboard_arrow_left"),e.qZA(),e.TgZ(14,"div")(15,"small",5),e._uU(16,"Left arrow"),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"span",5),e._uU(19,"Previous entry"),e.qZA()()(),e.TgZ(20,"div",50)(21,"span",48),e._uU(22,"keyboard_arrow_right"),e.qZA(),e.TgZ(23,"div")(24,"small",5),e._uU(25,"Right arrow"),e.qZA(),e._UZ(26,"br"),e.TgZ(27,"span",5),e._uU(28,"Next entry"),e.qZA()()()()()}}const Go=function(){return{action:"filter-entries",target:"entries"}};let Ie=(()=>{class o{constructor(t,n,i,r,a,d,_,x){this.editor=t,this.injector=n,this.route=i,this.router=r,this.entriesService=a,this.surveysService=d,this.statusService=_,this.hostElement=x,this._page=1,this.IS_FETCHING=this.entriesService.fetching$,this.IS_DELETING=this.entriesService.deleting$,this.entries=[],this.pagination={total:0,current:0,per_page:0,pages:0,found:0},this.cssClass=!0,this.activeEntry=null,this.IS_RESET=this.surveysService.deleting$}ngOnInit(){this.subscription=this.route.firstChild?.params.subscribe(this.watchQueryParams.bind(this))}watchQueryParams(t){var n=this;return(0,f.Z)(function*(){t.entryUid&&!n.activeEntry&&(n.activeEntry=(yield n.entriesService.get(t.entryUid)).data)})()}ngOnDestroy(){this.subscription?.unsubscribe()}set page(t){this._page=t,this.filtersComponent.setPage(t).then(null)}get page(){return this._page}entryInjector(t){return e.zs3.create({providers:[{provide:qe,useValue:t}],parent:this.injector})}fetch(t={}){var n=this;return(0,f.Z)(function*(){n.entries=[];try{const i=yield n.entriesService.all(n.editor.survey.uid,t);n.pagination=i.data.pagination,n.page=n.pagination.current,n.entries=i.data.items,n.activeEntry||n.setActive(n.entries[0])}catch(i){n.statusService.error({message:(0,h.EF)(i)})}})()}hasPreviousPage(){return+this.page-1>0}hasNextPage(){return+this.page+1<=this.pagination.pages}previousPage(){this.hasPreviousPage()&&this.goToPage(+this.page-1)}nextPage(){this.hasNextPage()&&this.goToPage(+this.page+1)}goToPage(t){this.page=t}get showingFrom(){const t=(this.pagination.current-1)*this.pagination.per_page;return t>0?t:1}get showingTo(){const t=this.pagination.current*this.pagination.per_page;return t>this.pagination.total?this.pagination.total:t}get showingTotal(){return this.pagination.total}isActive(t){return this.activeEntry===t}setActive(t){this.activeEntry=t,this.activeEntry?this.router.navigate([this.activeEntry.uid],{relativeTo:this.route,queryParamsHandling:"preserve"}).then(null):this.router.navigate(["."],{relativeTo:this.route}).then(null)}removeEntry(t){var n=this;return(0,f.Z)(function*(){try{yield n.entriesService.delete(t.uid);const i=n.entries.indexOf(n.activeEntry);n.entries.splice(i,1),n.setActive(n.entries.length?n.entries[i-1>=0?i-1:0]:null)}catch(i){n.statusService.error({message:(0,h.EF)(i)})}})()}resetSurvey(){confirm("Are you sure you want to delete all entries? this action is irreversible!")&&(this.surveysService.reset(this.editor.survey.uid).then(null),this.entries=[],this.pagination={total:0,current:0,per_page:0,pages:0,found:0},this.setActive(null))}onNext(t){if("BODY"===t.target.tagName||t.path.find(n=>"ASIDE"===n.tagName)){const n=this.entries.indexOf(this.activeEntry);this.entries[n+1]?this.setActive(this.entries[n+1]):this.pagination.current<this.pagination.pages?this.nextPage():this.entries[0]&&this.setActive(this.entries[0]),setTimeout(this.scrollToActiveEntry.bind(this),10)}}onPrevious(t){if("BODY"===t.target.tagName||t.path.find(n=>"ASIDE"===n.tagName)){const n=this.entries.indexOf(this.activeEntry);0!==n&&this.entries[n-1]?this.setActive(this.entries[n-1]):this.pagination.current>1?this.previousPage():this.entries[this.entries.length-1]&&this.setActive(this.entries[this.entries.length-1]),setTimeout(this.scrollToActiveEntry.bind(this),10)}}scrollToActiveEntry(){this.activeEntry&&this.hostElement.nativeElement.querySelector(`#entry-${this.activeEntry.id}-${this.activeEntry.uid}`).scrollIntoView({behavior:"smooth"})}closePopup(){this.isOpened=!1}get isOpened(){const t=localStorage.getItem("keyboardPopup");return null==t||!!Number(t)}set isOpened(t){localStorage.setItem("keyboardPopup",Number(t).toString())}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(e.zs3),e.Y36(m.gz),e.Y36(m.F0),e.Y36(Ke),e.Y36(A),e.Y36(J.B),e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["entries"]],viewQuery:function(t,n){if(1&t&&e.Gf(Fo,5),2&t){let i;e.iGM(i=e.CRH())&&(n.filtersComponent=i.first)}},hostVars:2,hostBindings:function(t,n){1&t&&e.NdJ("keydown.arrowRight",function(r){return n.onNext(r)},!1,e.evT)("keydown.arrowLeft",function(r){return n.onPrevious(r)},!1,e.evT),2&t&&e.ekj("entries-wrapper",n.cssClass)},decls:39,vars:26,consts:[["screen","browse-entries"],[1,"entries-browser"],[1,"side"],[1,"header"],[1,"title"],["translate",""],[1,"counter"],[3,"onApply"],["filtersComponent",""],[3,"filters"],["exportComponent",""],[1,"button-group","-attached"],["class","button -alt",4,"ngIf","ngIfElse"],["resetButton",""],["data-tooltip-bottom","",1,"button","-alt",3,"disabled","click"],[1,"icon","material-icons"],["data-tooltip-bottom","",1,"button","-alt",3,"clickTracker","click"],[1,"body"],[4,"ngIf"],["class","entry-item","queryParamsHandling","preserve",3,"id","routerLink","is-active","click",4,"ngFor","ngForOf"],[1,"footer"],["class","pagination-navigation",4,"ngIf"],[1,"content"],[3,"entry","onRemove"],["class","keyboard-popup",4,"ngIf"],[1,"button","-alt"],["data-tooltip-bottom","",1,"button","-alt",3,"disabled","clickTracker","click"],["queryParamsHandling","preserve",1,"entry-item",3,"id","routerLink","click"],["class","avatar",3,"src","alt",4,"ngIf","ngIfElse"],["letterAvatar",""],[1,"details"],[1,"meta",3,"title"],[3,"ngComponentOutlet","ngComponentOutletInjector",4,"ngFor","ngForOf"],[1,"avatar",3,"src","alt"],[1,"avatar"],[1,"entry-badge"],[3,"ngComponentOutlet","ngComponentOutletInjector"],[1,"pagination-navigation"],[1,"text"],[1,"buttons"],["type","button","translate","",1,"button","-alt","-left-attach",3,"disabled","click"],[1,"input","-middle-attach",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["type","button","translate","",1,"button","-alt","-right-attach",3,"disabled","click"],[1,"keyboard-popup"],[1,"close","material-icons",3,"click"],[1,"row"],[1,"col-auto","keyboard"],[1,"material-icons"],[1,"col-auto","left-arrow"],[1,"col-auto","right-arrow"]],template:function(t,n){if(1&t){const i=e.EpF();e._UZ(0,"screen-tracker",0),e.TgZ(1,"div",1)(2,"aside",2)(3,"header",3)(4,"h5",4)(5,"span",5),e._uU(6,"Entries"),e.qZA(),e.TgZ(7,"div",6),e._uU(8),e.ALo(9,"number"),e.TgZ(10,"span",5),e._uU(11,"Items"),e.qZA()()(),e.TgZ(12,"entries-filter",7,8),e.NdJ("onApply",function(a){return n.fetch(a)}),e.qZA(),e._UZ(14,"entries-export",9,10),e.TgZ(16,"div",11),e.YNc(17,Eo,2,0,"button",12),e.ALo(18,"async"),e.YNc(19,Oo,5,8,"ng-template",null,13,e.W1O),e.TgZ(21,"button",14),e.NdJ("click",function(){return e.CHM(i),e.MAs(15).toggle()}),e.ALo(22,"translate"),e.TgZ(23,"span",15),e._uU(24,"cloud_download"),e.qZA()(),e.TgZ(25,"button",16),e.NdJ("click",function(){return e.CHM(i),e.MAs(13).toggle()}),e.ALo(26,"translate"),e.TgZ(27,"span",15),e._uU(28,"filter_alt"),e.qZA()()()(),e.TgZ(29,"div",17),e.YNc(30,Lo,1,0,"loading-indicator",18),e.ALo(31,"async"),e.YNc(32,Ro,15,18,"a",19),e.qZA(),e.TgZ(33,"div",20),e.YNc(34,Vo,18,8,"div",21),e.ALo(35,"async"),e.qZA()(),e.TgZ(36,"main",22)(37,"entry",23),e.NdJ("onRemove",function(){return n.removeEntry(n.activeEntry)}),e.qZA(),e.YNc(38,$o,29,0,"div",24),e.qZA()()}if(2&t){const i=e.MAs(13),r=e.MAs(20);e.xp6(8),e.hij("",e.lcZ(9,13,n.pagination.total)," "),e.xp6(6),e.Q6J("filters",i.filtersForApply),e.xp6(3),e.Q6J("ngIf",e.lcZ(18,15,n.IS_RESET))("ngIfElse",r),e.xp6(4),e.Q6J("disabled",n.entries.length<1),e.uIk("data-tooltip",e.lcZ(22,17,"Export entries")),e.xp6(4),e.Q6J("clickTracker",e.DdM(25,Go)),e.uIk("data-tooltip",e.lcZ(26,19,"Filters")),e.xp6(5),e.Q6J("ngIf",e.lcZ(31,21,n.IS_FETCHING)),e.xp6(2),e.Q6J("ngForOf",n.entries),e.xp6(2),e.Q6J("ngIf",n.pagination&&n.pagination.pages>1&&!e.lcZ(35,23,n.IS_FETCHING)),e.xp6(3),e.Q6J("entry",n.activeEntry),e.xp6(1),e.Q6J("ngIf",n.isOpened)}},encapsulation:2}),o})();var Wo=g(6009);let et=(()=>{class o{transform(t){return t.replace(/(<([^>]+)>)/gi,"").replace("&nbsp;"," ")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"stripHTML",type:o,pure:!0}),o})();function Xo(o,s){if(1&o&&(e.TgZ(0,"span",5),e._uU(1,"\xa0\xa0|\xa0\xa0"),e.TgZ(2,"span",4),e._uU(3,"Last edit:"),e.qZA(),e._uU(4),e.qZA()),2&o){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.entry.data.meta.updated_at,"")}}function Ko(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"span",9),e._uU(2,"category"),e.qZA(),e._uU(3),e.BQk()),2&o){const t=e.oxw(2);e.xp6(3),e.AsE(" ",t.entry.data.category.title," (Weight: ",t.entry.data.category.totalWeight||0,") ")}}function ei(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"span",9),e._uU(2,"language"),e.qZA(),e._uU(3),e.BQk()),2&o){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.language," ")}}function ti(o,s){1&o&&e._UZ(0,"loading-indicator")}function ni(o,s){1&o&&(e.TgZ(0,"span",14),e._uU(1,"delete_forever"),e.qZA(),e.TgZ(2,"span",15),e._uU(3,"Delete"),e.qZA())}function oi(o,s){if(1&o&&e.GkF(0,19),2&o){const t=s.$implicit,n=e.oxw(2);e.Q6J("ngComponentOutlet",t)("ngComponentOutletInjector",n.parent.entryInjector(n.entry))}}function ii(o,s){if(1&o&&(e.TgZ(0,"span",27),e._uU(1),e.TgZ(2,"span",4),e._uU(3,"points"),e.qZA()()),2&o){const t=e.oxw().$implicit,n=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(1),e.hij("",(null==i.entry.data.scoring||null==i.entry.data.scoring.sections[n.uid]?null:i.entry.data.scoring.sections[n.uid].blocks[t.uid])||0," ")}}function ri(o,s){if(1&o&&(e.TgZ(0,"span",27),e._uU(1),e.TgZ(2,"span",4),e._uU(3,"points"),e.qZA()()),2&o){const t=e.oxw().$implicit,n=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(1),e.hij("",i.entry.data.category.weightByQuestion[n.uid+":"+t.uid]||0," ")}}function si(o,s){if(1&o&&(e.TgZ(0,"dl",23)(1,"dt",24),e._uU(2),e.ALo(3,"stripHTML"),e.YNc(4,ii,4,1,"span",25),e.YNc(5,ri,4,1,"span",25),e.qZA(),e.TgZ(6,"dd",26),e.GkF(7,19),e.qZA()()),2&o){const t=s.$implicit,n=s.index,i=e.oxw(2).$implicit,r=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,5,t.title)||"Question #"+(n+1)," "),e.xp6(2),e.Q6J("ngIf",r.entry.data.scoring),e.xp6(1),e.Q6J("ngIf",r.entry.data.category&&r.entry.data.category.weightByQuestion[i.uid+":"+t.uid]),e.xp6(2),e.Q6J("ngComponentOutlet",r.viewComponentOf(t))("ngComponentOutletInjector",r.viewComponentInjectorOf(t))}}function ai(o,s){if(1&o&&(e.TgZ(0,"section",21)(1,"h4",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,si,8,7,"dl",22),e.qZA()),2&o){const t=e.oxw(),n=t.$implicit,i=t.index;e.xp6(2),e.hij(" ",n.title||e.lcZ(3,2,"Section #")+(i+1)," "),e.xp6(2),e.Q6J("ngForOf",n.blocks)}}function li(o,s){if(1&o&&(e.ynx(0),e.YNc(1,ai,5,4,"section",20),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.blocks.length)}}const ci=function(){return{action:"delete-entry",target:"entries"}};function pi(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"header",2)(2,"h3",3)(3,"span",4),e._uU(4,"Entry #"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"p",5),e._uU(7),e.YNc(8,Xo,5,1,"span",6),e.qZA(),e.TgZ(9,"p",7),e.YNc(10,Ko,4,2,"ng-container",8),e.TgZ(11,"span",9),e._uU(12,"desktop_windows"),e.qZA(),e._uU(13),e.ALo(14,"platform"),e.TgZ(15,"span",9),e._uU(16,"home"),e.qZA(),e._uU(17),e.YNc(18,ei,4,1,"ng-container",8),e.qZA(),e.TgZ(19,"div",10)(20,"button",11),e.NdJ("click",function(i){return e.CHM(t),e.oxw().remove(i)}),e.ALo(21,"isCapable"),e.ALo(22,"async"),e.YNc(23,ti,1,0,"loading-indicator",0),e.ALo(24,"async"),e.YNc(25,ni,4,0,"ng-template",null,12,e.W1O),e.qZA(),e.TgZ(27,"a",13)(28,"span",14),e._uU(29,"open_in_new"),e.qZA(),e.TgZ(30,"span",15),e._uU(31,"View entry"),e.qZA()()()(),e.TgZ(32,"main",16),e.YNc(33,oi,1,2,"ng-container",17),e.YNc(34,li,2,1,"ng-container",18),e.qZA(),e.BQk()}if(2&o){const t=e.MAs(26),n=e.oxw();e.xp6(5),e.Oqu(n.entry.id),e.xp6(2),e.Oqu(n.entry.created_at),e.xp6(1),e.Q6J("ngIf",n.entry.data.meta.updated_at),e.xp6(2),e.Q6J("ngIf",n.entry.data.category),e.xp6(3),e.hij(" ",e.lcZ(14,14,n.entry.agent)," "),e.xp6(4),e.hij(" ",n.entry.ip," "),e.xp6(1),e.Q6J("ngIf",n.language),e.xp6(2),e.Q6J("clickTracker",e.DdM(22,ci))("disabled",!e.lcZ(21,16,"delete_entries")||e.lcZ(22,18,n.parent.IS_DELETING)),e.xp6(3),e.Q6J("ngIf",e.lcZ(24,20,n.parent.IS_DELETING))("ngIfElse",t),e.xp6(4),e.Q6J("href",n.entry.url,e.LSH),e.xp6(6),e.Q6J("ngForOf",n.parent.editor.slots.get("entry-details")),e.xp6(1),e.Q6J("ngForOf",n.entry.data.sections)}}function di(o,s){1&o&&e._UZ(0,"empty-state")}let tt=(()=>{class o{constructor(t,n,i,r,a){this.parent=t,this.config=n,this.registry=i,this.injector=r,this.componentFactoryResolver=a,this.cssClass=!0,this.onRemove=new e.vpe}ngOnInit(){}remove(t){(0,h.fJ)(t)&&this.onRemove.emit(this.entry)}isArray(t){return Array.isArray(t)}viewComponentOf(t){return this.registry.viewComponentOf(t.typeId)}viewComponentInjectorOf(t){return e.zs3.create({providers:[{provide:ve,useValue:t}],parent:this.injector})}get language(){return this.config.languages.find(t=>t.code===this.entry.data.meta?.language)?.name}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Ie),e.Y36(q),e.Y36(M),e.Y36(e.zs3),e.Y36(e._Vd))},o.\u0275cmp=e.Xpm({type:o,selectors:[["entry"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("entry",n.cssClass)},inputs:{entry:"entry"},outputs:{onRemove:"onRemove"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noEntry",""],[1,"header"],[1,"title"],["translate",""],[1,"date"],["class","date",4,"ngIf"],[1,"meta"],[4,"ngIf"],[1,"material-icons"],[1,"entry-buttons"],["tabindex","0",1,"button","-outline","-attention",3,"clickTracker","disabled","click"],["removeButton",""],["target","_blank","tabindex","1",1,"button","-outline","-secondary",3,"href"],[1,"icon","material-icons"],["translate","",1,"text"],[1,"body"],[3,"ngComponentOutlet","ngComponentOutletInjector",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"ngComponentOutlet","ngComponentOutletInjector"],["class","section",4,"ngIf"],[1,"section"],["class","field",4,"ngFor","ngForOf"],[1,"field"],[1,"name"],["class","chip -pill",4,"ngIf"],[1,"value"],[1,"chip","-pill"]],template:function(t,n){if(1&t&&(e.YNc(0,pi,35,23,"ng-container",0),e.YNc(1,di,1,0,"ng-template",null,1,e.W1O)),2&t){const i=e.MAs(2);e.Q6J("ngIf",n.entry)("ngIfElse",i)}},directives:[c.O5,p.Pi,S.g,$.Q,c.sg,c.$G,K.s],pipes:[Wo.y,ae.m,c.Ov,p.X$,et],encapsulation:2}),o})();function ui(o,s){1&o&&(e.TgZ(0,"button",21),e.ALo(1,"translate"),e._uU(2," warning "),e.qZA()),2&o&&e.uIk("data-tooltip",e.lcZ(1,1,"Missing references"))}function gi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.setView(i.WELCOME_VIEW)})("keydown.enter",function(){e.CHM(t);const i=e.oxw();return i.setView(i.WELCOME_VIEW)}),e.TgZ(1,"span",3),e._uU(2,"home"),e.qZA(),e.TgZ(3,"span",9),e._uU(4,"Welcome"),e.qZA(),e.YNc(5,ui,3,3,"button",20),e.qZA()}if(2&o){const t=e.oxw();e.ekj("is-active",t.isView(t.WELCOME_VIEW)),e.xp6(5),e.Q6J("ngIf",!t.hasValidReferences(t.survey.settings.contents.welcome))}}function _i(o,s){1&o&&e._UZ(0,"span")}function mi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",30,31),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().jumpToSkipLogic(i)}),e.ALo(2,"translate"),e.ALo(3,"translate"),e._uU(4),e.qZA()}if(2&o){const t=e.MAs(1),n=e.oxw().$implicit,i=e.oxw();e.ekj("has-errors",!i.hasValidSkipLogic(n)),e.uIk("data-tooltip","submit"===n.action?e.lcZ(2,4,"Submits the survey"):e.lcZ(3,6,"Has skip logic")),e.xp6(4),e.hij(" ",t.classList.contains("has-errors")?"error_outline":"submit"===n.action?"last_page":"alt_route"," ")}}function hi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().activate(i)}),e.ALo(1,"translate"),e._uU(2," warning "),e.qZA()}2&o&&e.uIk("data-tooltip",e.lcZ(1,1,"Missing references"))}function fi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(i){e.CHM(t);const r=e.oxw().$implicit;return e.oxw().remove(r,i)}),e.ALo(1,"translate"),e._uU(2," delete_forever "),e.qZA()}2&o&&e.uIk("data-tooltip",e.lcZ(1,1,"Delete section"))}function xi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",22),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().activate(r)})("keydown.enter",function(){const r=e.CHM(t).$implicit;return e.oxw().activate(r)}),e.YNc(1,_i,1,0,"span",23),e.TgZ(2,"span",24),e.ALo(3,"translate"),e._uU(4,"drag_indicator"),e.qZA(),e.TgZ(5,"span",25),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,mi,5,8,"button",26),e.YNc(9,hi,3,3,"button",27),e.YNc(10,fi,3,3,"button",28),e.TgZ(11,"button",29),e.NdJ("click",function(i){const a=e.CHM(t).$implicit,d=e.oxw();return i.stopPropagation(),d.duplicate(a)}),e.ALo(12,"translate"),e._uU(13," filter_none "),e.qZA()()}if(2&o){const t=s.$implicit,n=s.index,i=e.oxw();e.ekj("is-active",i.isActive(t)),e.xp6(2),e.uIk("data-tooltip",e.lcZ(3,8,"Re-order")),e.xp6(4),e.Oqu(t.title||e.lcZ(7,10,"Section #")+(n+1)),e.xp6(2),e.Q6J("ngIf",i.hasSkipLogic(t)),e.xp6(1),e.Q6J("ngIf",!i.hasValidReferences(t)),e.xp6(1),e.Q6J("ngIf",i.sections.length>1),e.xp6(1),e.uIk("data-tooltip",e.lcZ(12,12,"Duplicate"))}}function bi(o,s){1&o&&(e.TgZ(0,"button",21),e.ALo(1,"translate"),e._uU(2," warning "),e.qZA()),2&o&&e.uIk("data-tooltip",e.lcZ(1,1,"Missing references"))}function vi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.setView(i.THANK_YOU_VIEW)})("keydown.enter",function(){e.CHM(t);const i=e.oxw();return i.setView(i.THANK_YOU_VIEW)}),e.TgZ(1,"span",3),e._uU(2,"assignment_turned_in"),e.qZA(),e.TgZ(3,"span",9),e._uU(4,"Thank you"),e.qZA(),e.YNc(5,bi,3,3,"button",20),e.qZA()}if(2&o){const t=e.oxw();e.ekj("is-active",t.isView(t.THANK_YOU_VIEW)),e.xp6(5),e.Q6J("ngIf",!t.hasValidReferences(t.survey.settings.contents.thankyou))}}function Ci(o,s){1&o&&(e.TgZ(0,"button",21),e.ALo(1,"translate"),e._uU(2," warning "),e.qZA()),2&o&&e.uIk("data-tooltip",e.lcZ(1,1,"Missing references"))}function yi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",22),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).activateGrade(r)})("keydown.enter",function(){const r=e.CHM(t).$implicit;return e.oxw(2).activateGrade(r)}),e.TgZ(1,"span",3),e._uU(2,"grade"),e.qZA(),e.TgZ(3,"span",34),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,Ci,3,3,"button",20),e.qZA()}if(2&o){const t=s.$implicit,n=s.index,i=e.oxw(2);e.ekj("is-active",i.isActiveGrade(t)),e.xp6(1),e.Udp("color",t.color),e.xp6(3),e.hij(" ",t.label||e.lcZ(5,6,"Grade ")+n,""),e.xp6(2),e.Q6J("ngIf",!i.hasValidReferences(t.content))}}function ki(o,s){if(1&o&&(e.ynx(0),e.YNc(1,yi,7,8,"div",12),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.survey.settings.scoring.grades)}}function Ti(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",22),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).activateCategory(r)})("keydown.enter",function(){const r=e.CHM(t).$implicit;return e.oxw(2).activateCategory(r)}),e.TgZ(1,"span",3),e._uU(2,"category"),e.qZA(),e.TgZ(3,"span",34),e._uU(4),e.ALo(5,"translate"),e.qZA()()}if(2&o){const t=s.$implicit,n=s.index,i=e.oxw(2);e.ekj("is-active",i.isActiveCategory(t)),e.xp6(4),e.hij(" ",t.title||e.lcZ(5,3,"Category ")+n,"")}}function wi(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Ti,6,5,"div",12),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.survey.settings.categories.items)}}function Zi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().insert()}),e.ALo(1,"translate"),e._uU(2," check "),e.qZA()}2&o&&e.uIk("data-tooltip",e.lcZ(1,1,"Insert section"))}function Ai(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",45)(1,"label",46)(2,"input",63),e.NdJ("change",function(i){const a=e.CHM(t).$implicit;return e.oxw(3).survey.settings.limitations.authentication.options.roles[a.id]=i.target.checked}),e.qZA(),e.TgZ(3,"span",64),e._uU(4),e.qZA()()()}if(2&o){const t=s.$implicit,n=e.oxw(3);e.xp6(2),e.Q6J("checked",n.survey.settings.limitations.authentication.options.roles[t.id]),e.xp6(2),e.Oqu(t.name)}}function Mi(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"hr"),e.YNc(2,Ai,5,2,"div",62),e.BQk()),2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.config.roles)}}function qi(o,s){if(1&o&&e._UZ(0,"option",65),2&o){const t=s.$implicit;e.Q6J("label",t.name)("value",t.code)}}function Ji(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"main",36)(2,"section",37)(3,"div",38)(4,"header",5)(5,"h2",39),e.NdJ("keydown.enter",function(i){return i.preventDefault()})("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.name=i}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p",40),e.NdJ("keydown.enter",function(i){return i.preventDefault()})("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.description=i}),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"main",36)(10,"div",41)(11,"feature-switch",42),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.settings.contents.welcome.enabled=i}),e.ALo(12,"translate"),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"feature-switch",43),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.settings.contents.thankyou.enabled=i}),e.ALo(15,"translate"),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"feature-switch",44),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.settings.limitations.authentication.enabled=i}),e.ALo(18,"translate"),e.ALo(19,"translate"),e.TgZ(20,"div",45)(21,"label",46)(22,"input",47),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.settings.limitations.authentication.options.specificRoles=i}),e.qZA(),e.TgZ(23,"span",48),e._uU(24,"Allow specific roles"),e.qZA()()(),e.YNc(25,Mi,3,1,"ng-container",13),e.qZA(),e._UZ(26,"date-settings")(27,"limitations-settings"),e.TgZ(28,"feature-switch",49),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.settings.redirection.enabled=i}),e.ALo(29,"translate"),e.ALo(30,"translate"),e.TgZ(31,"div",41)(32,"div",50)(33,"label",51),e._uU(34,"URL"),e.qZA(),e.TgZ(35,"input",52),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().setHttpUrl(i)}),e.ALo(36,"translate"),e.qZA()()(),e.TgZ(37,"div",41)(38,"div",53)(39,"label",54)(40,"input",55),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.settings.redirection.blank_target=i}),e.qZA(),e.TgZ(41,"span",48),e._uU(42,"Open in a new tab"),e.qZA()()()()(),e.TgZ(43,"feature-switch",56),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.settings.can_view_entry.enabled=i}),e.ALo(44,"translate"),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"feature-switch",57),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.settings.can_edit_entry.enabled=i}),e.ALo(47,"translate"),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"feature-switch",44),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.settings.language_switcher.enabled=i}),e.ALo(50,"translate"),e.ALo(51,"translate"),e.TgZ(52,"div",45)(53,"label",58),e._uU(54,"Languages to show"),e.qZA(),e.TgZ(55,"select",59),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.settings.language_switcher.languages=i}),e.YNc(56,qi,1,2,"option",60),e.qZA(),e._UZ(57,"br")(58,"br"),e.TgZ(59,"div",61),e._uU(60,"Hold ctrl/command to select multiple languages."),e.qZA()()()()()()()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.survey.name),e.uIk("placeholder",e.lcZ(6,32,"Survey title...")),e.xp6(2),e.Q6J("ngModel",t.survey.description),e.uIk("placeholder",e.lcZ(8,34,"Survey description...")),e.xp6(4),e.Q6J("name",e.lcZ(12,36,"Welcome"))("description",e.lcZ(13,38,"Custom welcome message"))("ngModel",t.survey.settings.contents.welcome.enabled),e.xp6(3),e.Q6J("name",e.lcZ(15,40,"Thank you"))("description",e.lcZ(16,42,"Custom thank you message"))("ngModel",t.survey.settings.contents.thankyou.enabled),e.xp6(3),e.Q6J("name",e.lcZ(18,44,"Authentication"))("description",e.lcZ(19,46,"Control the access to this survey"))("ngModel",t.survey.settings.limitations.authentication.enabled),e.xp6(5),e.Q6J("ngModel",t.survey.settings.limitations.authentication.options.specificRoles),e.xp6(3),e.Q6J("ngIf",t.survey.settings.limitations.authentication.options.specificRoles),e.xp6(3),e.Q6J("name",e.lcZ(29,48,"Redirection"))("description",e.lcZ(30,50,"Redirect survey-takers to a specific URL"))("ngModel",t.survey.settings.redirection.enabled),e.xp6(7),e.Q6J("placeholder",e.lcZ(36,52,"URL..."))("ngModel",t.survey.settings.redirection.url),e.xp6(5),e.Q6J("ngModel",t.survey.settings.redirection.blank_target),e.xp6(3),e.Q6J("name",e.lcZ(44,54,"View entry"))("ngModel",t.survey.settings.can_view_entry.enabled)("description",e.lcZ(45,56,"Allow survey takers to see and print their entry")),e.xp6(3),e.Q6J("name",e.lcZ(47,58,"Edit entry"))("description",e.lcZ(48,60,"Allow your users to edit their entries"))("ngModel",t.survey.settings.can_edit_entry.enabled),e.xp6(3),e.Q6J("name",e.lcZ(50,62,"Language switcher"))("description",e.lcZ(51,64,"Show a language switcher to survey takers"))("ngModel",t.survey.settings.language_switcher.enabled),e.xp6(6),e.Q6J("ngModel",t.survey.settings.language_switcher.languages),e.xp6(1),e.Q6J("ngForOf",t.config.languages)}}function Si(o,s){1&o&&e.GkF(0)}function Ui(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"main",36)(2,"section-editor",66,67),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.settings.contents.welcome=i}),e.qZA()(),e.TgZ(4,"aside",68)(5,"div",69)(6,"header",5)(7,"h5",6),e._uU(8,"Settings"),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return e.CHM(t),e.MAs(3).setActiveBlock(null)}),e.ALo(10,"translate"),e._uU(11," switch_left "),e.qZA()(),e.TgZ(12,"main",70),e.YNc(13,Si,1,0,"ng-container",71),e.qZA()()(),e.BQk()}if(2&o){const t=e.MAs(3),n=e.oxw();e.xp6(2),e.Q6J("ngModel",n.survey.settings.contents.welcome),e.xp6(2),e.ekj("is-open",t.settingsTemplate),e.xp6(5),e.uIk("data-tooltip",e.lcZ(10,5,"Toggle settings pane")),e.xp6(4),e.Q6J("ngTemplateOutlet",t.settingsTemplate)}}function Ni(o,s){1&o&&e.GkF(0)}function Ii(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"main",36)(2,"section-editor",72,67),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().activeSection=i}),e.qZA()(),e.TgZ(4,"aside",68)(5,"div",69)(6,"header",5)(7,"h5",6),e._uU(8,"Settings"),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return e.CHM(t),e.MAs(3).setActiveBlock(null)}),e.ALo(10,"translate"),e._uU(11," switch_left "),e.qZA()(),e.TgZ(12,"main",70),e.YNc(13,Ni,1,0,"ng-container",71),e.qZA()()(),e.BQk()}if(2&o){const t=e.MAs(3),n=e.oxw();e.xp6(2),e.Q6J("ngModel",n.activeSection)("hasSkipLogic",n.canHaveSkipLogic(n.activeSection)),e.xp6(2),e.ekj("is-open",t.settingsTemplate),e.xp6(5),e.uIk("data-tooltip",e.lcZ(10,6,"Toggle settings pane")),e.xp6(4),e.Q6J("ngTemplateOutlet",t.settingsTemplate)}}function Fi(o,s){1&o&&e.GkF(0)}function Ei(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"main",36)(2,"section-editor",66,67),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().survey.settings.contents.thankyou=i}),e.qZA()(),e.TgZ(4,"aside",68)(5,"div",69)(6,"header",5)(7,"h5",6),e._uU(8,"Settings"),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return e.CHM(t),e.MAs(3).setActiveBlock(null)}),e.ALo(10,"translate"),e._uU(11," switch_left "),e.qZA()(),e.TgZ(12,"main",70),e.YNc(13,Fi,1,0,"ng-container",71),e.qZA()()(),e.BQk()}if(2&o){const t=e.MAs(3),n=e.oxw();e.xp6(2),e.Q6J("ngModel",n.survey.settings.contents.thankyou),e.xp6(2),e.ekj("is-open",t.settingsTemplate),e.xp6(5),e.uIk("data-tooltip",e.lcZ(10,5,"Toggle settings pane")),e.xp6(4),e.Q6J("ngTemplateOutlet",t.settingsTemplate)}}function Qi(o,s){1&o&&e.GkF(0)}function Oi(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"main",36)(2,"section-editor",66,67),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().activeGrade.content=i}),e.qZA()(),e.TgZ(4,"aside",68)(5,"div",69)(6,"header",5)(7,"h5",6),e._uU(8,"Settings"),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return e.CHM(t),e.MAs(3).setActiveBlock(null)}),e.ALo(10,"translate"),e._uU(11," switch_left "),e.qZA()(),e.TgZ(12,"main",70),e.YNc(13,Qi,1,0,"ng-container",71),e.qZA()()(),e.BQk()}if(2&o){const t=e.MAs(3),n=e.oxw();e.xp6(2),e.Q6J("ngModel",n.activeGrade.content),e.xp6(2),e.ekj("is-open",t.settingsTemplate),e.xp6(5),e.uIk("data-tooltip",e.lcZ(10,5,"Toggle settings pane")),e.xp6(4),e.Q6J("ngTemplateOutlet",t.settingsTemplate)}}function Li(o,s){1&o&&e.GkF(0)}function Bi(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"main",36)(2,"section-editor",66,67),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().activeCategory.content=i}),e.qZA()(),e.TgZ(4,"aside",68)(5,"div",69)(6,"header",5)(7,"h5",6),e._uU(8,"Settings"),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return e.CHM(t),e.MAs(3).setActiveBlock(null)}),e.ALo(10,"translate"),e._uU(11," switch_left "),e.qZA()(),e.TgZ(12,"main",70),e.YNc(13,Li,1,0,"ng-container",71),e.qZA()()(),e.BQk()}if(2&o){const t=e.MAs(3),n=e.oxw();e.xp6(2),e.Q6J("ngModel",n.activeCategory.content),e.xp6(2),e.ekj("is-open",t.settingsTemplate),e.xp6(5),e.uIk("data-tooltip",e.lcZ(10,5,"Toggle settings pane")),e.xp6(4),e.Q6J("ngTemplateOutlet",t.settingsTemplate)}}const Hi=function(){return{standalone:!0}};let B=(()=>{class o{constructor(t,n,i,r,a,d,_,x,C){this.surveysService=t,this.blockTypes=n,this.editor=i,this.hostElement=r,this.statusService=a,this.config=d,this.slots=_,this.route=x,this.router=C,this.newSectionName="",this.url_redirection="",this.survey=this.editor.survey,this.sections=this.survey.sections,this.navigationOpen=!0,this.SETTINGS_VIEW="settings",this.WELCOME_VIEW="welcome",this.SECTION_VIEW="section",this.THANK_YOU_VIEW="thank-you",this.GRADE_VIEW="grade",this.CATEGORY_VIEW="category",this.currentView=this.SETTINGS_VIEW,this.cssClass=!0,this.lastDrop=null}ngOnInit(){this.subscription=this.route.firstChild?.params.subscribe(this.watchQueryParams.bind(this))}watchQueryParams(t){var n=this;return(0,f.Z)(function*(){if([n.WELCOME_VIEW,n.THANK_YOU_VIEW].includes(t.sectionUid))n.setView(t.sectionUid);else{if(t.sectionUid){const i=n.sections.find(r=>r.uid===t.sectionUid);i?n.activate(i):n.setView(n.SECTION_VIEW)}if(t.gradeUid){const i=n.survey.settings.scoring.grades.find(r=>r.uid===t.gradeUid);i?n.activateGrade(i):n.setView(n.GRADE_VIEW)}if(t.categoryUid){const i=n.survey.settings.categories.items.find(r=>r.uid===t.categoryUid);i?n.activateCategory(i):n.setView(n.CATEGORY_VIEW)}}})()}ngOnDestroy(){this.subscription?.unsubscribe()}setView(t){this.currentView=t,this.currentView!==this.SECTION_VIEW&&(this.activeSection=null);let n=[t];this.currentView===this.SECTION_VIEW&&(n=[this.activeSection?.uid]),this.currentView===this.GRADE_VIEW&&(n=["grade",this.activeGrade?.uid]),this.currentView===this.CATEGORY_VIEW&&(n=["category",this.activeCategory?.uid]),this.router.navigate(n,{relativeTo:this.route,queryParamsHandling:"preserve"})}isView(t){return this.currentView===t}activate(t){this.activeSection=t,this.setView(this.SECTION_VIEW)}isActive(t){return this.isView(this.SECTION_VIEW)&&this.activeSection===t}activateGrade(t){this.activeGrade=t,this.setView(this.GRADE_VIEW)}isActiveGrade(t){return this.isView(this.GRADE_VIEW)&&this.activeGrade===t}activateCategory(t){this.activeCategory=t,this.setView(this.CATEGORY_VIEW)}isActiveCategory(t){return this.isView(this.CATEGORY_VIEW)&&this.activeCategory===t}insert(){const t=this.surveysService.getFreshSection(this.newSectionName);this.sections.push(t),this.newSectionName=null,this.activate(t)}remove(t,n){if((0,h.fJ)(n)){const i=this.sections.indexOf(t);t===this.activeSection&&this.activate(i-1>=0?this.sections[i-1]:this.sections[i+1]?this.sections[i+1]:this.sections[0]?this.sections[0]:null),this.sections.splice(i,1),this.stabilizeConditions(t)}}duplicate(t){const n=this.surveysService.duplicateSection(t);this.sections.push(n),this.activate(n)}setHttpUrl(t){try{this.survey.settings.redirection.url=new URL(t)}catch{this.survey.settings.redirection.url="",this.statusService.error({message:" Invalid URL "})}}stabilizeConditions(t){let n=0;this.sections.forEach(i=>{i.conditions=i.conditions.filter(d=>"section"!==d.action||d.next_section_uid!==t.uid||(n++,!1));const a="section"===i.action&&i.next_section_uid===t.uid;("conditions"===i.action&&0===i.conditions.length||a)&&(n+=a?1:0,i.action="next",i.next_section_uid=null)}),n>0&&this.statusService.error({message:`${n} related conditions were been removed`})}drop(t){this.lastDrop={from:t.previousIndex,to:t.currentIndex},(0,v.bA)(this.sections,t.previousIndex,t.currentIndex);const n=this.sections[t.previousIndex],i=this.sections[t.currentIndex],r=this.hasValidSkipLogic(n),a=this.hasValidSkipLogic(i);(!r||!a)&&(confirm("Skip logic contains invalid conditions, do you want to proceed with errors? if so, you will need to fix invalid conditions.")?this.jumpToSkipLogic(r?i:n):this.undoDrop())}undoDrop(){this.lastDrop&&(0,v.bA)(this.sections,this.lastDrop.to,this.lastDrop.from)}isNavigationOpen(){return this.navigationOpen}openNavigation(){this.navigationOpen=!0}closeNavigation(){this.navigationOpen=!1}canHaveSkipLogic(t){return this.sections.length>1&&this.sections.indexOf(t)!==this.sections.length-1}hasSkipLogic(t){return("submit"===t.action||"section"===t.action&&t.next_section_uid||"conditions"===t.action&&t.conditions.length>0)&&this.canHaveSkipLogic(t)}hasValidSkipLogic(t){const n=this.sections.indexOf(t),i=this.sections.filter((r,a)=>a<n).map(r=>r.uid);return"section"===t.action?!i.includes(t.next_section_uid):"conditions"!==t.action||0===t.conditions.filter(a=>i.includes(a.next_section_uid)).length}jumpToSkipLogic(t){this.hasSkipLogic(t)&&(this.activate(t),setTimeout(this.scrollToSkipLogic.bind(this),200))}scrollToSkipLogic(){this.hostElement.nativeElement.querySelector("skip-logic").scrollIntoView({behavior:"smooth"})}hasValidReferences(t){const n=[];this.survey.sections.forEach(i=>{i.blocks.forEach(r=>{n.push(r.uid),-1!==r.typeId.indexOf("matrix")&&r.field.options?.rows?.forEach(a=>n.push(a.uid))})});for(const i of t.blocks){if(Array.isArray(i.title_raw)&&i.title_raw.length>0)for(const r of i.title_raw[0].children)if(r.type&&"mention"===r.type&&!n.includes(r._uid))return!1;if(i.content&&Array.isArray(i.content.value_raw)&&i.content.value_raw.length>0)for(const r of i.content.value_raw[0].children)if(r.type&&"mention"===r.type&&!r._uid.startsWith("scoring")&&!n.includes(r._uid))return!1}return!0}get availableBlocks(){let t=[],n=[];return this.editor.survey.sections.forEach((i,r)=>{const a=""!==i.title?i.title:`Section #${r+1}`;i.blocks.forEach(d=>{const _=this.blockTypes.get(d.typeId).icon;if("question"===d.category){let x=d.title.trim();const C=n.filter(y=>y===x).length;0!==C&&(1===C&&(t=t.map(y=>(y.label===x&&(y.label=`${x} (1)`),y))),x=`${x} (${C+1})`),n.push(d.title.trim()),-1!==d.typeId.indexOf("matrix")?(t.push({label:`${x} - All criteria`,uid:d.uid,group:a,icon:_}),d.field.options?.rows?.forEach((y,z)=>t.push({label:`${x} - ${""!==y.label?y.label:`Criteria #${z+1}`}`,uid:y.uid,group:a,icon:_}))):t.push({label:x,uid:d.uid,group:a,icon:_})}}),n=[]}),this.currentView===this.GRADE_VIEW&&[{name:"score",icon:"score"},{name:"percentage",icon:"percent"},{name:"grade",icon:"grade"},{name:"badge",icon:"badge"},{name:"total",icon:"functions"}].forEach(({name:r,icon:a})=>{t.push({label:r.charAt(0).toUpperCase()+r.slice(1),uid:`scoring:${r}`,group:"Scoring variables",icon:a})}),t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A),e.Y36(M),e.Y36(Z),e.Y36(e.SBq),e.Y36(J.B),e.Y36(P.l),e.Y36(ge),e.Y36(m.gz),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["setup"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("sections",n.cssClass)},decls:39,vars:26,consts:[["screen","edit-survey"],[1,"navigation",3,"keydown.control.v","keydown.meta.v"],[1,"button","-compact","-transparent","-icon","trigger",3,"click"],[1,"icon","material-icons"],["translate","",1,"text"],[1,"header"],["translate","",1,"title"],["data-tooltip-left","",1,"button","-compact","-transparent","-icon","material-icons",3,"click"],["role","button",1,"section-item",3,"click","keydown.enter"],["translate","",1,"name"],["cdkDropList","","cdkDropListOrientation","vertical",1,"body",3,"cdkDropListDropped"],["role","button","class","section-item",3,"is-active","click","keydown.enter",4,"ngIf"],["class","section-item","cdkDragLockAxis","y","tabindex","0","role","button","cdkDrag","",3,"is-active","click","keydown.enter",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"footer",3,"keydown"],[1,"section-item"],["type","text",1,"input","-transparent",3,"placeholder","ngModel","ngModelOptions","ngModelChange","keyup.enter"],["class","add button -plain -icon material-icons","data-tooltip-left","",3,"click",4,"ngIf"],[1,"pane"],[3,"ngTemplateOutlet"],["class","button -plain -icon material-icons has-errors","data-tooltip-left","",4,"ngIf"],["data-tooltip-left","",1,"button","-plain","-icon","material-icons","has-errors"],["cdkDragLockAxis","y","tabindex","0","role","button","cdkDrag","",1,"section-item",3,"click","keydown.enter"],[4,"cdkDragPreview"],["data-tooltip-right","","cdkDragHandle","",1,"handle","material-icons"],["cdkDragHandle","",1,"name"],["class","button -plain -icon material-icons","data-tooltip-left","",3,"has-errors","click",4,"ngIf"],["class","button -plain -icon material-icons has-errors","data-tooltip-left","",3,"click",4,"ngIf"],["class","remove button -plain -icon material-icons","data-tooltip-left","",3,"click",4,"ngIf"],["type","button","data-tooltip-left","",1,"duplicate","button","-plain","-icon","material-icons",3,"click"],["data-tooltip-left","",1,"button","-plain","-icon","material-icons",3,"click"],["skipLogic",""],["data-tooltip-left","",1,"button","-plain","-icon","material-icons","has-errors",3,"click"],["data-tooltip-left","",1,"remove","button","-plain","-icon","material-icons",3,"click"],[1,"name"],["data-tooltip-left","",1,"add","button","-plain","-icon","material-icons",3,"click"],[1,"content"],[1,"settings"],[1,"container"],["contenteditable","",1,"title",3,"ngModel","keydown.enter","ngModelChange"],["contenteditable","",1,"description",3,"ngModel","keydown.enter","ngModelChange"],[1,"row"],["icon","home",1,"col-12",3,"name","description","ngModel","ngModelChange"],["icon","assignment_turned_in",1,"col-12",3,"name","description","ngModel","ngModelChange"],["icon","person",1,"col-12",3,"name","description","ngModel","ngModelChange"],[1,"form-group"],[1,"labeled-switch"],["type","checkbox",1,"switch",3,"ngModel","ngModelChange"],["translate","",1,"label"],["icon","link","pro-badge","limitations-extension",1,"col-12",3,"name","description","ngModel","ngModelChange"],[1,"col-12"],["for","url_redirection","translate","",1,"label"],["id","url_redirection","name","url_redirection","type","url",1,"input",3,"placeholder","ngModel","ngModelChange"],[1,"col-12",2,"margin-top","18px"],["for","blank_target",1,"labeled-switch"],["id","blank_target","type","checkbox",1,"switch",3,"ngModel","ngModelChange"],["icon","visibility","pro-badge","limitations-extension",1,"col-12",3,"name","ngModel","description","ngModelChange"],["icon","edit",1,"col-12",3,"name","description","ngModel","ngModelChange"],["for","languages_list","translate","",1,"label"],["id","languages_list","multiple","",1,"input",2,"height","200px","background","none",3,"ngModel","ngModelChange"],[3,"label","value",4,"ngFor","ngForOf"],["translate",""],["class","form-group",4,"ngFor","ngForOf"],["type","checkbox",1,"switch",3,"checked","change"],[1,"label"],[3,"label","value"],["context","content",3,"ngModel","ngModelChange"],["sectionEditor",""],[1,"sidebar-wrapper"],[1,"sidebar"],[1,"body"],[4,"ngTemplateOutlet"],[3,"ngModel","hasSkipLogic","ngModelChange"]],template:function(t,n){1&t&&(e._UZ(0,"screen-tracker",0),e.TgZ(1,"nav",1),e.NdJ("keydown.control.v",function(){return n.duplicate(n.activeSection)})("keydown.meta.v",function(){return n.duplicate(n.activeSection)}),e.TgZ(2,"button",2),e.NdJ("click",function(){return n.openNavigation()}),e.TgZ(3,"span",3),e._uU(4,"switch_left"),e.qZA(),e.TgZ(5,"div",4),e._uU(6,"Sections"),e.qZA()(),e.TgZ(7,"header",5)(8,"h5",6),e._uU(9,"Survey"),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return n.closeNavigation()}),e.ALo(11,"translate"),e._uU(12," switch_left "),e.qZA()(),e.TgZ(13,"div",8),e.NdJ("click",function(){return n.setView(n.SETTINGS_VIEW)})("keydown.enter",function(){return n.setView(n.SETTINGS_VIEW)}),e.TgZ(14,"span",3),e._uU(15,"settings"),e.qZA(),e.TgZ(16,"span",9),e._uU(17,"Settings"),e.qZA()(),e.TgZ(18,"main",10),e.NdJ("cdkDropListDropped",function(r){return n.drop(r)}),e.YNc(19,gi,6,3,"div",11),e.YNc(20,xi,14,14,"div",12),e.YNc(21,vi,6,3,"div",11),e.YNc(22,ki,2,1,"ng-container",13),e.YNc(23,wi,2,1,"ng-container",13),e.qZA(),e.TgZ(24,"footer",14),e.NdJ("keydown",function(r){return r.stopPropagation()}),e.TgZ(25,"label",15)(26,"span",3),e._uU(27,"add"),e.qZA(),e.TgZ(28,"input",16),e.NdJ("ngModelChange",function(r){return n.newSectionName=r})("keyup.enter",function(){return n.insert()}),e.ALo(29,"translate"),e.qZA(),e.YNc(30,Zi,3,3,"button",17),e.qZA()()(),e.YNc(31,Ji,61,66,"ng-container",13),e.YNc(32,Ui,14,7,"ng-container",13),e.YNc(33,Ii,14,8,"ng-container",13),e.YNc(34,Ei,14,7,"ng-container",13),e.YNc(35,Oi,14,7,"ng-container",13),e.YNc(36,Bi,14,7,"ng-container",13),e.TgZ(37,"aside",18),e.GkF(38,19),e.qZA()),2&t&&(e.xp6(1),e.ekj("is-open",n.isNavigationOpen()),e.xp6(9),e.uIk("data-tooltip",e.lcZ(11,21,"Toggle navigation pane")),e.xp6(3),e.ekj("is-active",n.isView(n.SETTINGS_VIEW)),e.xp6(6),e.Q6J("ngIf",n.survey.settings.contents.welcome.enabled),e.xp6(1),e.Q6J("ngForOf",n.sections),e.xp6(1),e.Q6J("ngIf",n.survey.settings.contents.thankyou.enabled),e.xp6(1),e.Q6J("ngIf",null==n.survey.settings.scoring?null:n.survey.settings.scoring.enabled),e.xp6(1),e.Q6J("ngIf",null==n.survey.settings.categories?null:n.survey.settings.categories.enabled),e.xp6(5),e.Q6J("placeholder",e.lcZ(29,23,"New section..."))("ngModel",n.newSectionName)("ngModelOptions",e.DdM(25,Hi)),e.xp6(2),e.Q6J("ngIf",n.newSectionName),e.xp6(1),e.Q6J("ngIf",n.isView(n.SETTINGS_VIEW)),e.xp6(1),e.Q6J("ngIf",n.isView(n.WELCOME_VIEW)),e.xp6(1),e.Q6J("ngIf",n.activeSection),e.xp6(1),e.Q6J("ngIf",n.isView(n.THANK_YOU_VIEW)),e.xp6(1),e.Q6J("ngIf",n.isView(n.GRADE_VIEW)),e.xp6(1),e.Q6J("ngIf",n.isView(n.CATEGORY_VIEW)),e.xp6(2),e.Q6J("ngTemplateOutlet",n.sidebarTemplate))},encapsulation:2}),o})();var te=g(8499),ye=g(7172),u=(()=>{return(o=u||(u={})).EQUALS="equals",o.NOT_EQUALS="not equals",o.GREATER_THAN="greater than",o.LESS_THAN="less than",o.IN="in",o.NOT_IN="not in",o.CONTAINS="contains",o.NOT_CONTAINS="not contains",u;var o})();let ke=(()=>{class o{constructor(){this.operatorsMap={text:[u.EQUALS,u.NOT_EQUALS,u.CONTAINS,u.NOT_CONTAINS],paragraph:[u.EQUALS,u.NOT_EQUALS,u.CONTAINS,u.NOT_CONTAINS],textarea:[u.EQUALS,u.NOT_EQUALS,u.CONTAINS,u.NOT_CONTAINS],radio:[u.EQUALS,u.NOT_EQUALS,u.IN,u.NOT_IN],choices:[u.EQUALS,u.NOT_EQUALS,u.IN,u.NOT_IN],checkbox:[u.EQUALS,u.NOT_EQUALS,u.IN,u.NOT_IN],"multiple-choices":[u.EQUALS,u.NOT_EQUALS,u.IN,u.NOT_IN],select:[u.EQUALS,u.NOT_EQUALS,u.IN,u.NOT_IN],dropdown:[u.EQUALS,u.NOT_EQUALS,u.IN,u.NOT_IN],scale:[u.EQUALS,u.NOT_EQUALS,u.GREATER_THAN,u.LESS_THAN],number:[u.EQUALS,u.NOT_EQUALS,u.GREATER_THAN,u.LESS_THAN],date:[u.EQUALS,u.NOT_EQUALS,u.GREATER_THAN,u.LESS_THAN]}}addOperators(t,n){this.operatorsMap[t]=n}getOperators(t){return this.operatorsMap[t]||[]}hasOperator(t,n){return this.getOperators(t).includes(n)}hasType(t){return this.operatorsMap.hasOwnProperty(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Fe=g(8930);function Pi(o,s){if(1&o&&e._UZ(0,"option",20),2&o){const t=s.$implicit;e.Q6J("value",t.id)("label",t.label)}}function Di(o,s){if(1&o&&(e._UZ(0,"option",36),e.ALo(1,"translate")),2&o){const t=s.$implicit,n=s.index;e.Q6J("label",t.title||e.lcZ(1,2,"Section #")+(n+1))("value",t.uid)}}function Yi(o,s){if(1&o&&(e._UZ(0,"option",37),e.ALo(1,"translate")),2&o){const t=s.$implicit,n=s.index,i=e.oxw(3);e.Q6J("label",t.title||e.lcZ(1,3,"Question #")+(n+1))("value",t.uid)("disabled",!i.getSupportedOperatorsFromQuestion(t).length)}}function Ri(o,s){1&o&&(e.TgZ(0,"option",38),e._uU(1,"Equals"),e.qZA())}function ji(o,s){if(1&o&&(e.TgZ(0,"option",40),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}function zi(o,s){if(1&o&&e.YNc(0,ji,3,4,"option",39),2&o){const t=e.oxw().$implicit,n=e.oxw(2);e.Q6J("ngForOf",n.getSupportedOperatorsFromCondition(t))}}function Vi(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"multiple-input",44),e.BQk()),2&o){const t=e.oxw(3).$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("values",t.value)("suggestions",n.fieldValues(t))}}function $i(o,s){if(1&o&&e._UZ(0,"option",47),2&o){const t=s.$implicit;e.Q6J("label",t.label)("ngValue",t.uid)}}const Gi=function(){return[]};function Wi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"select",45),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).$implicit.value[0]=i}),e.YNc(1,$i,1,2,"option",46),e.qZA()}if(2&o){const t=e.oxw(3).$implicit,n=e.oxw(2);e.Q6J("ngModel",t.value[0]),e.xp6(1),e.Q6J("ngForOf",(null==n.getQuestion(t).field?null:n.getQuestion(t).field.options.choices)||e.DdM(2,Gi))}}function Xi(o,s){if(1&o&&(e.YNc(0,Vi,2,2,"ng-container",42),e.YNc(1,Wi,2,3,"ng-template",null,43,e.W1O)),2&o){const t=e.MAs(2),n=e.oxw(2).$implicit;e.Q6J("ngIf","in"===n.operator||"not in"===n.operator)("ngIfElse",t)}}function Ki(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",48),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).$implicit.value=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.Q6J("placeholder",e.lcZ(1,2,"Answer"))("ngModel",t.value)}}function er(o,s){if(1&o&&(e.YNc(0,Xi,3,2,"ng-template",32),e.YNc(1,Ki,2,4,"ng-template",null,41,e.W1O)),2&o){const t=e.MAs(2),n=e.oxw().$implicit,i=e.oxw(2);e.Q6J("ngIf",i.hasDefinedValues(n))("ngIfElse",t)}}function tr(o,s){1&o&&(e._UZ(0,"input",49),e.ALo(1,"translate")),2&o&&e.Q6J("placeholder",e.lcZ(1,1,"Answer"))}function nr(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22)(2,"select",23),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.sectionUid=i})("ngModelChange",function(){const r=e.CHM(t).$implicit;return e.oxw(2).resetCondition(r)}),e.TgZ(3,"option",24),e._uU(4,"Choose a section"),e.qZA(),e.YNc(5,Di,2,4,"option",25),e.qZA()(),e.TgZ(6,"div",26)(7,"select",27),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.questionUid=i}),e.TgZ(8,"option",24),e._uU(9,"Choose a question"),e.qZA(),e.YNc(10,Yi,2,5,"option",28),e.qZA()(),e.TgZ(11,"div",22)(12,"select",27),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.operator=i}),e.YNc(13,Ri,2,0,"option",29),e.YNc(14,zi,1,1,"ng-template",null,30,e.W1O),e.qZA()(),e.TgZ(16,"div",31),e.YNc(17,er,3,2,"ng-template",32),e.YNc(18,tr,2,3,"ng-template",null,33,e.W1O),e.qZA(),e.TgZ(20,"div",34)(21,"button",35),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw(2).removeCondition(a,i)}),e.ALo(22,"translate"),e._uU(23," delete "),e.qZA()()()}if(2&o){const t=s.$implicit,n=e.MAs(15),i=e.MAs(19),r=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t.sectionUid),e.xp6(3),e.Q6J("ngForOf",r.sections),e.xp6(2),e.Q6J("ngModel",t.questionUid),e.xp6(3),e.Q6J("ngForOf",r.sectionQuestions(t.sectionUid)),e.xp6(2),e.Q6J("ngModel",t.operator),e.xp6(1),e.Q6J("ngIf",!t.questionUid)("ngIfElse",n),e.xp6(4),e.Q6J("ngIf",t.questionUid)("ngIfElse",i),e.xp6(4),e.uIk("data-tooltip",e.lcZ(22,10,"Remove"))}}function or(o,s){if(1&o&&e._UZ(0,"option",20),2&o){const t=s.$implicit;e.Q6J("value",t.id)("label",t.label)}}function ir(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4),e.qZA()(),e.TgZ(5,"div",4)(6,"h5",5),e._uU(7,"Status"),e.qZA(),e.TgZ(8,"small",6),e._uU(9,"The status of this rule"),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().rule.enabled=!0}),e._uU(13," Enabled "),e.qZA(),e.TgZ(14,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().rule.enabled=!1}),e._uU(15," Disabled "),e.qZA()()()(),e._UZ(16,"hr"),e.TgZ(17,"div",1)(18,"div",2)(19,"span",3),e._uU(20,"offline_pin"),e.qZA()(),e.TgZ(21,"div",4)(22,"h5",5),e._uU(23,"When"),e.qZA(),e.TgZ(24,"small",6),e._uU(25,"The trigger of this rule"),e.qZA()(),e.TgZ(26,"div",7)(27,"select",10),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().rule.event=i}),e.YNc(28,Pi,1,2,"option",11),e.qZA()()(),e._UZ(29,"hr"),e.TgZ(30,"div",1)(31,"div",2)(32,"span",3),e._uU(33,"build_circle"),e.qZA()(),e.TgZ(34,"div",4)(35,"h5",5),e._uU(36,"Where"),e.qZA(),e.TgZ(37,"small",6),e._uU(38,"The conditions to run this rule"),e.qZA()(),e.TgZ(39,"div",12),e.YNc(40,nr,24,12,"div",13),e.TgZ(41,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCondition()}),e.TgZ(42,"span",3),e._uU(43,"add"),e.qZA(),e.TgZ(44,"span",15),e._uU(45),e.ALo(46,"translate"),e.ALo(47,"translate"),e.qZA()()()(),e._UZ(48,"hr"),e.TgZ(49,"div",1)(50,"div",2)(51,"span",3),e._uU(52,"offline_bolt"),e.qZA()(),e.TgZ(53,"div",4)(54,"h5",5),e._uU(55,"Then"),e.qZA(),e.TgZ(56,"small",6),e._uU(57,"The task to run"),e.qZA()(),e.TgZ(58,"div",16)(59,"select",17),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().rule.task.id=i}),e.YNc(60,or,1,2,"option",11),e.qZA(),e.TgZ(61,"div",18),e.GkF(62,19),e.qZA()()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(4),e.Oqu(t.rule.enabled?"play_circle_filled":"pause_circle_filled"),e.xp6(8),e.ekj("-primary",t.rule.enabled),e.xp6(2),e.ekj("-attention",!t.rule.enabled),e.xp6(13),e.Q6J("ngModel",t.rule.event),e.xp6(1),e.Q6J("ngForOf",t.events),e.xp6(12),e.Q6J("ngForOf",t.rule.conditions),e.xp6(1),e.Q6J("disabled",!t.rule.event),e.xp6(4),e.Oqu(t.rule.conditions.length?e.lcZ(46,13,"And"):e.lcZ(47,15,"Add Condition")),e.xp6(14),e.Q6J("ngModel",t.rule.task.id),e.xp6(1),e.Q6J("ngForOf",t.tasks),e.xp6(2),e.Q6J("ngComponentOutlet",t.taskSettingsComponent)}}let _e=(()=>{class o{constructor(t,n,i,r,a){this.editor=t,this.workflows=n,this.operatorMapService=i,this.blockTypesRegistryService=r,this.config=a,this.sections=this.editor.survey.sections,this.events=this.config.workflows.events,this.tasks=this.config.workflows.tasks}get taskSettingsComponent(){return this.workflows.getTaskSettings(this.rule.task)}addCondition(){this.rule.conditions.push(this.workflows.getFreshCondition())}removeCondition(t,n){(0,h.fJ)(n)&&this.rule.conditions.splice(this.rule.conditions.indexOf(t),1)}sectionQuestions(t){const n=this.sections.find(i=>i.uid===t);return n?n.blocks.filter(i=>"question"===i.category):[]}getSupportedOperatorsFromQuestion(t){return this.blockTypesRegistryService.get(t.typeId)?.supportedOperators||[]}getSupportedOperatorsFromCondition(t){const i=this.sectionQuestions(t.sectionUid).find(r=>r.uid===t.questionUid);return i?this.getSupportedOperatorsFromQuestion(i):[]}getQuestion(t){return this.sectionQuestions(t.sectionUid).find(i=>i.uid===t.questionUid)}fieldValues(t){return this.getQuestion(t)?.field.options?.choices||[]}hasDefinedValues(t){const n=this.getQuestion(t);return n&&["radio","checkbox","select","choices","multiple-choices","dropdown"].includes(n.field.type)}resetCondition(t){t.questionUid=null,t.operator=null,t.value=[]}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(Ne),e.Y36(ke),e.Y36(M),e.Y36(q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["workflow-rule"]],inputs:{rule:"rule"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"row","workflow-rule"],[1,"col-auto","col-icon"],[1,"icon","material-icons"],[1,"col-2","col-details"],["translate","",1,"title"],["translate","",1,"description"],[1,"col-3","col-form"],[1,"button-group"],["type","button","translate","",1,"button",3,"click"],[1,"input",3,"ngModel","ngModelChange"],[3,"value","label",4,"ngFor","ngForOf"],[1,"col","col-form","conditions"],["class","row no-gutters condition",4,"ngFor","ngForOf"],["type","button",1,"add","button","-small","-alt",3,"disabled","click"],[1,"name"],[1,"col-7","col-form"],[1,"input","col-5",3,"ngModel","ngModelChange"],[1,"task"],[3,"ngComponentOutlet"],[3,"value","label"],[1,"row","no-gutters","condition"],[1,"col-md-2"],[1,"input","-left-attach",3,"ngModel","ngModelChange"],["value","","translate",""],[3,"label","value",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"input","-middle-attach",3,"ngModel","ngModelChange"],[3,"label","value","disabled",4,"ngFor","ngForOf"],["value","equals","translate","",4,"ngIf","ngIfElse"],["operators",""],[1,"col"],[3,"ngIf","ngIfElse"],["defaultValue",""],[1,"col-auto"],["type","button",1,"remove","button","-plain","-icon","material-icons",3,"click"],[3,"label","value"],[3,"label","value","disabled"],["value","equals","translate",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["rawValue",""],[4,"ngIf","ngIfElse"],["definedValue",""],["classes","-right-attach",3,"values","suggestions"],[1,"input","-right-attach",3,"ngModel","ngModelChange"],[3,"label","ngValue",4,"ngFor","ngForOf"],[3,"label","ngValue"],["type","text",1,"input","-right-attach",3,"placeholder","ngModel","ngModelChange"],["type","text","disabled","",1,"input","-middle-attach",3,"placeholder"]],template:function(t,n){1&t&&e.YNc(0,ir,63,17,"ng-container",0),2&t&&e.Q6J("ngIf",n.rule)},directives:[c.O5,p.Pi,l.EJ,l.JJ,l.On,c.sg,l.YN,l.Kr,Fe.d,l.Fj,c.$G],pipes:[p.X$,c.rS],encapsulation:2}),o})();function rr(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"empty-state",4),e.ALo(1,"translate"),e.TgZ(2,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().add()}),e._uU(3,"Create a Rule"),e.qZA()()}2&o&&e.Q6J("heading",e.lcZ(1,1,"Nothing yet."))}function sr(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).setCurrentRule(r)}),e.TgZ(1,"span",18),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",19),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).duplicate(r)}),e.ALo(5,"translate"),e._uU(6,"filter_none "),e.qZA(),e.TgZ(7,"button",20),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw(2).remove(a,i)}),e.ALo(8,"translate"),e._uU(9,"delete "),e.qZA()()}if(2&o){const t=s.$implicit,n=s.index,i=e.oxw(2);e.ekj("is-current",i.isCurrentRule(t)),e.xp6(2),e.Oqu(e.lcZ(3,5,"Rule #")+(n+1)),e.xp6(2),e.uIk("data-tooltip",e.lcZ(5,7,"Duplicate")),e.xp6(3),e.uIk("data-tooltip",e.lcZ(8,9,"Remove"))}}function ar(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"header",8)(3,"div",9)(4,"h5",10),e._uU(5,"Rules"),e.qZA(),e.TgZ(6,"small",11),e._uU(7,"Workflow rules"),e.qZA()(),e.TgZ(8,"div",12)(9,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().add()}),e._uU(10,"Add Rule"),e.qZA()()(),e.TgZ(11,"div",13),e.YNc(12,sr,10,11,"div",14),e.qZA()(),e.TgZ(13,"div",15),e._UZ(14,"workflow-rule",16),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(12),e.Q6J("ngForOf",t.rules),e.xp6(2),e.Q6J("rule",t.getCurrentRule())}}let lr=(()=>{class o{constructor(t,n,i){this.editor=t,this.moduleService=n,this.config=i,this.rules=this.editor.survey.settings.workflow.rules,this.events=this.config.workflows.events,this.tasks=this.config.workflows.tasks,this.cssClass=!0}ngOnInit(){!this.moduleService.isModuleActivated("workflow-builder-extension")||this.rules.length&&this.setCurrentRule(this.rules[0])}getFreshRule(){return{enabled:!0,event:"",conditions:[],task:{id:"",arguments:{}}}}add(){const t=this.getFreshRule();this.rules.push(t),this.setCurrentRule(t)}duplicate(t){const n=(0,h.Ee)({},t);this.rules.splice(this.rules.indexOf(t),0,n)}remove(t,n){if((0,h.fJ)(n)){const i=this.rules.indexOf(t);if(this.rules.splice(i,1),t===this.currentRule){let r=this.rules[i]??null;this.rules[i-1]?r=this.rules[i-1]:this.rules[i+1]&&(r=this.rules[i+1]),this.setCurrentRule(r)}}}isCurrentRule(t){return this.currentRule===t}setCurrentRule(t){this.currentRule=null,setTimeout(()=>this.currentRule=t,5)}getCurrentRule(){return this.currentRule}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(E.s),e.Y36(q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["workflow"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("workflow-editor",n.cssClass)},decls:6,vars:2,consts:[["module","workflow-builder-extension"],["screen","workflow-survey"],["icon","rule","description","('Start by creating a new workflow rule.' | translate)",3,"heading",4,"ngIf","ngIfElse"],["rulesEditor",""],["icon","rule","description","('Start by creating a new workflow rule.' | translate)",3,"heading"],["translate","",1,"button","-primary",3,"click"],[1,"settings-panel"],[1,"navigation"],[1,"header","row"],[1,"col"],["translate","",1,"title"],["translate","",1,"description"],[1,"col-auto"],[1,"settings-tabs"],["class","item",3,"is-current","click",4,"ngFor","ngForOf"],[1,"content"],[3,"rule"],[1,"item",3,"click"],[1,"name"],[1,"duplicate","button","-plain","-icon","material-icons",3,"click"],[1,"remove","button","-plain","-icon","material-icons",3,"click"]],template:function(t,n){if(1&t&&(e._UZ(0,"pro-overlay",0)(1,"module-activation",0)(2,"screen-tracker",1),e.YNc(3,rr,4,3,"empty-state",2),e.YNc(4,ar,15,2,"ng-template",null,3,e.W1O)),2&t){const i=e.MAs(5);e.xp6(3),e.Q6J("ngIf",0==n.events.length||0==n.tasks.length||0==n.rules.length)("ngIfElse",i)}},directives:[te.H,ye.j,F.h,c.O5,K.s,p.Pi,c.sg,_e],pipes:[p.X$],encapsulation:2}),o})(),cr=(()=>{class o{constructor(t){this.httpClient=t,this.fetching$=new w.j(!1),this.exporting$=new w.j(!1)}get(t,n){return this.fetching$.start(),this.httpClient.get(`admin/insights/${t}`,{params:this.filterParams(n)}).toPromise().finally(this.fetching$.finish())}export(t,n="json",i){return this.exporting$.start(),this.httpClient.get(`admin/insights/export/${t}/${n}`,{responseType:"blob",observe:"response",params:this.filterParams(i)}).toPromise().then(r=>((0,h.$D)(r,`export.${n}`),r)).finally(this.exporting$.finish())}filterParams(t){for(const n in t)null===t[n]&&delete t[n];return t}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(O.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var le=g(4368);const pr=["editorButtons"];function dr(o,s){1&o&&(e.TgZ(0,"div",4),e._UZ(1,"loading-state",5),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Q6J("description",e.lcZ(2,1,"Retrieving data...")))}function ur(o,s){if(1&o&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.title)}}function gr(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"select",39),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).section=i}),e.TgZ(1,"option",40),e._uU(2,"Choose section"),e.qZA(),e.YNc(3,ur,2,2,"option",41),e.qZA()}if(2&o){const t=e.oxw(3);e.Q6J("ngModel",t.section),e.xp6(1),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.insights.sections)}}function _r(o,s){1&o&&e._UZ(0,"loading-indicator")}function mr(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).exportData("json")}),e._uU(1,"JSON"),e.qZA(),e.TgZ(2,"button",43),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).exportData("csv")}),e._uU(3,"CSV"),e.qZA()}}const hr=function(){return["publish-insights"]},fr=function(o){return{overlay:o}},xr=function(o){return{outlets:o}},br=function(o){return["",o]},vr=function(o,s,t,n){return{survey:o,from:s,to:t,includeObsolete:n}};function Cr(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",9)(2,"header",10)(3,"div",11),e.YNc(4,gr,4,3,"select",12),e.qZA(),e.TgZ(5,"div",13)(6,"div",14)(7,"button",15),e.ALo(8,"translate"),e.TgZ(9,"span"),e._uU(10,"Publish"),e.qZA(),e.TgZ(11,"span",16),e._uU(12,"publish"),e.qZA()(),e.TgZ(13,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleFilters()}),e.ALo(14,"translate"),e.TgZ(15,"span",18),e._uU(16,"Filter"),e.qZA(),e.TgZ(17,"span",16),e._uU(18,"filter_alt"),e.qZA()(),e.TgZ(19,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleExport()}),e.ALo(20,"translate"),e.TgZ(21,"span",18),e._uU(22,"Export"),e.qZA(),e.TgZ(23,"span",16),e._uU(24,"cloud_download"),e.qZA()()()(),e.TgZ(25,"div",20,21)(27,"div",22)(28,"span",23),e._uU(29,"Export As"),e.qZA(),e.YNc(30,_r,1,0,"loading-indicator",7),e.ALo(31,"async"),e.TgZ(32,"div",24),e.YNc(33,mr,4,0,"ng-template",null,25,e.W1O),e.qZA()()(),e.TgZ(35,"div",26,27)(37,"div",22)(38,"div",28)(39,"div",29)(40,"div",30)(41,"div",28)(42,"label",23),e._uU(43,"From"),e.qZA(),e.TgZ(44,"input",31),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).filters.fromDate=i}),e.qZA()()(),e.TgZ(45,"div",30)(46,"div",28)(47,"label",23),e._uU(48,"To"),e.qZA(),e.TgZ(49,"input",32),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).filters.toDate=i}),e.qZA()()()(),e.TgZ(50,"div",29)(51,"div",30)(52,"div",28)(53,"label",33)(54,"input",34),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).filters.includeObsolete=i}),e.qZA(),e.TgZ(55,"span",35),e.ALo(56,"translate"),e._uU(57,"Include obsolete"),e.qZA()()()()()()(),e.TgZ(58,"div",36)(59,"button",37),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).resetFilters()}),e._uU(60,"Reset"),e.qZA(),e.TgZ(61,"button",38),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).applyFilters()}),e._uU(62,"Apply"),e.qZA()()()()()()}if(2&o){const t=e.MAs(34),n=e.oxw(2);e.xp6(4),e.Q6J("ngIf",n.insights),e.xp6(3),e.Q6J("routerLink",e.VKq(31,br,e.VKq(29,xr,e.VKq(27,fr,e.DdM(26,hr)))))("state",e.l5B(33,vr,n.survey,n.filters.fromDate,n.filters.toDate,n.filters.includeObsolete)),e.uIk("data-tooltip",e.lcZ(8,16,"Publish")),e.xp6(6),e.uIk("data-tooltip",e.lcZ(14,18,"Filters")),e.xp6(6),e.uIk("data-tooltip",e.lcZ(20,20,"Export entries")),e.xp6(6),e.ekj("is-open",n.exportComponentOpen),e.xp6(5),e.Q6J("ngIf",e.lcZ(31,22,n.IS_EXPORTING))("ngIfElse",t),e.xp6(5),e.ekj("is-open",n.filtersComponentOpen),e.xp6(9),e.Q6J("ngModel",n.filters.fromDate),e.xp6(5),e.Q6J("ngModel",n.filters.toDate),e.xp6(5),e.Q6J("ngModel",n.filters.includeObsolete),e.xp6(1),e.uIk("data-tooltip",e.lcZ(56,24,"Include removed sections and fields that were collected previously"))}}function yr(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"div",4)(2,"div",44)(3,"div",29)(4,"div",45),e._UZ(5,"sections",46),e.qZA(),e.TgZ(6,"div",45)(7,"div",29)(8,"div",45),e._UZ(9,"users",47),e.qZA(),e.TgZ(10,"div",45),e._UZ(11,"counter",47),e.qZA()(),e._UZ(12,"timeline",47),e.qZA()()()(),e.BQk()),2&o){const t=e.oxw(2);e.xp6(5),e.Q6J("current",t.section),e.xp6(4),e.Q6J("data",t.insights.users),e.xp6(2),e.Q6J("data",t.insights.count),e.xp6(1),e.Q6J("data",t.insights)}}function kr(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"empty-state",5),e.ALo(2,"translate"),e.TgZ(3,"button",48),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).resetFilters()}),e._uU(4,"Reset"),e.qZA()()()}2&o&&(e.xp6(1),e.Q6J("description",e.lcZ(2,1,"There are no insights for the selected date.")))}function Tr(o,s){if(1&o&&(e.YNc(0,Cr,63,38,"div",6),e.YNc(1,yr,13,4,"ng-container",7),e.YNc(2,kr,5,3,"ng-template",null,8,e.W1O)),2&o){const t=e.MAs(3),n=e.oxw();e.Q6J("ngIf",n.insights.count.total>0),e.xp6(1),e.Q6J("ngIf",n.insights.sections.length>0)("ngIfElse",t)}}let U=(()=>{class o{constructor(t,n,i,r){this.editor=t,this.insightsService=n,this.moduleService=i,this.promotionService=r,this.IS_FETCHING=this.insightsService.fetching$,this.IS_EXPORTING=this.insightsService.exporting$,this.exportComponentOpen=!1,this.filtersComponentOpen=!1,this.filters={fromDate:null,toDate:null,includeObsolete:!1},this.onOpen=new Ae.xQ,this.survey=this.editor.survey,this.surveyUid=this.editor.survey.uid}ngOnInit(){var t=this;return(0,f.Z)(function*(){t.promotionService.isUpgradedNeeded("insights-extension")||!t.moduleService.isModuleActivated("insights-extension")||(yield t.loadEntries())})()}ngAfterViewInit(){this.editor.toolbarButtons=this.editorButtons}ngOnDestroy(){this.editor.toolbarButtons=null}loadEntries(){var t=this;return(0,f.Z)(function*(){const n=yield t.insightsService.get(t.surveyUid,t.filters);t.insights=n.data,t.section=t.insights?.sections.length?t.insights.sections[0]:null})()}applyFilters(){var t=this;return(0,f.Z)(function*(){yield t.loadEntries()})()}toggleExport(){setTimeout(()=>{this.exportComponentOpen=!this.exportComponentOpen,this.onOpen.next(this.exportComponentOpen),this.filtersComponentOpen=this.filtersComponentOpen?!this.filtersComponentOpen:this.filtersComponentOpen},10)}toggleFilters(){setTimeout(()=>{this.filtersComponentOpen=!this.filtersComponentOpen,this.onOpen.next(this.filtersComponentOpen),this.exportComponentOpen=this.exportComponentOpen?!this.exportComponentOpen:this.exportComponentOpen},10)}resetFilters(){var t=this;return(0,f.Z)(function*(){t.filters={fromDate:null,toDate:null,includeObsolete:!1},yield t.applyFilters()})()}exportData(t){var n=this;return(0,f.Z)(function*(){yield n.insightsService.export(n.surveyUid,t,n.filters)})()}}return o.colors=["rgb(231,57,52)","rgb(255,129,42)","rgb(255,188,26)","rgb(153,183,44)","rgb(57,162,61)","rgba(103,58,183 ,1)","rgb(76,46,181)","rgb(3,118,176)","rgba(14,160,176, 1)","rgba(69,90,100 ,1)","rgba(96,125,139 ,1)","rgba(121,85,72 ,1)","rgba(71,82,141, 1)","rgba(69,90,100 ,1)","rgba(193,97,93, 1)"],o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(cr),e.Y36(E.s),e.Y36(le.q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["insights"]],viewQuery:function(t,n){if(1&t&&e.Gf(pr,5),2&t){let i;e.iGM(i=e.CRH())&&(n.editorButtons=i.first)}},decls:7,vars:4,consts:[["module","insights-extension"],[1,"row","no-gutters"],["class","col-md-12",4,"ngIf","ngIfElse"],["main",""],[1,"col-md-12"],[3,"description"],["class","col-md-12",4,"ngIf"],[4,"ngIf","ngIfElse"],["nodata",""],[1,"card"],[1,"header"],[1,"header-item"],["class","input insights-sections-list",3,"ngModel","ngModelChange",4,"ngIf"],[1,"header-right"],[1,"button-group","-attached"],["data-tooltip-bottom","",1,"button","-alt",3,"routerLink","state"],[1,"icon","material-icons"],["data-tooltip-bottom","",1,"button","-alt",3,"click"],["translate",""],["data-tooltip-bottom","",1,"button","-primary",3,"click"],[1,"dialog","export"],["exportComponent",""],[1,"body"],["translate","",1,"label"],[1,"header-item","button-group","-attached","-small"],["buttons",""],[1,"dialog","filters"],["filtersComponent",""],[1,"form-group"],[1,"row"],[1,"col"],["type","datetime-local","name","from",1,"input",3,"ngModel","ngModelChange"],["type","datetime-local","name","to",1,"input",3,"ngModel","ngModelChange"],[1,"labeled-switch"],["type","checkbox",1,"switch","include-obsolete",3,"ngModel","ngModelChange"],["data-tooltip-bottom","","translate","",1,"label"],[1,"footer"],["translate","",1,"button","-outline",3,"click"],["translate","",1,"button","-primary",3,"click"],[1,"input","insights-sections-list",3,"ngModel","ngModelChange"],["translate","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"button","-alt","-wide",3,"click"],[1,"container-fluid"],[1,"col-md-6"],[3,"current"],[3,"data"],["translate","",1,"button","-alt",3,"click"]],template:function(t,n){if(1&t&&(e._UZ(0,"pro-overlay",0)(1,"module-activation",0),e.TgZ(2,"div",1),e.YNc(3,dr,3,3,"div",2),e.ALo(4,"async"),e.YNc(5,Tr,4,3,"ng-template",null,3,e.W1O),e.qZA()),2&t){const i=e.MAs(6);e.xp6(3),e.Q6J("ngIf",!n.insights||e.lcZ(4,2,n.IS_FETCHING))("ngIfElse",i)}},encapsulation:2}),o})(),nt=(()=>{class o{constructor(t){this.question=null,t.onDeleteQuestion.subscribe(n=>{const i=this.scoring.sections.find(r=>r.uid===n.section);if(i){const r=i.blocks.findIndex(a=>a.uid===n.block);r>-1&&i.blocks.splice(r,1)}})}addQuestion(){null!==this.question&&(this.section.blocks.push({uid:this.question.uid,title:this.question.title,typeId:this.question.typeId,points:0,rules:[{operator:"equals",value:[],score:0}]}),this.question=null)}getQuestions(t){const n=this.survey.sections.find(r=>this.findSection(r,t));return this.scoring.sections.find(r=>this.findSection(r,t)),n.blocks.filter(r=>"question"===r.category)}getQuestion(t){return this.section.blocks.find(n=>n.uid===t)}getQuestionValues(t){const n=this._survey.sections.find(i=>i.uid===this.section.uid);return n&&n.blocks.filter(r=>"question"===r.category).find(r=>r.uid===t)?.field.options?.choices||[]}removeScoringQuestion(t){const n=this._section.blocks.indexOf(t);n>-1&&this._section.blocks.splice(n,1)}set survey(t){this._survey=t,this._survey.settings.hasOwnProperty("scoring")||this.init(),this.update()}get survey(){return this._survey}set section(t){this._section=t,this.question=null}get section(){return this._section}get scoring(){return this._survey.settings.scoring}get total(){let t=0;return this.scoring.sections.forEach(n=>{t+=this.getSectionPoints(n)}),this.scoring.score=t,this.scoring.score}getScoringSectionByUID(t){return this.scoring.sections.find(n=>n.uid===t)}getScoringQuestionByUID(t,n){const i=this.getScoringSectionByUID(t);return i?i.blocks.find(r=>r.uid===n):null}getSectionPoints(t){let n=0;return t.blocks.forEach(i=>{n+=this.getQuestionPoints(i)}),t.score=n,t.score}getQuestionPoints(t){if(0===t.rules.length)return 0;if(t.points=t.rules.reduce((n,i)=>i.score>n.score?i:n).score,"question:multiple-choices"===t.typeId){t.points=0;for(const n of t.rules)t.points+=n.score}return t.points}getSurveyQuestionsCount(){return this.survey.sections.map(t=>t.blocks.filter(n=>"question"===n.category).length).reduce((t,n)=>t+n)}init(){this._survey.settings.scoring={enabled:!1,score:100,sections:[],grades:[{uid:(0,b.Z)(),label:"Default",color:"#888888",min:0,max:50,content:{name:"Default ",content:"",blocks:[],enabled:!0}}]}}update(){this._survey.sections.forEach(t=>{!this.scoring.sections.some(i=>i.uid===t.uid)&&t.blocks.length&&this.scoring.sections.push({uid:t.uid,name:t.title,score:0,blocks:[]})}),this.scoring.sections=this.scoring.sections.filter(t=>this._survey.sections.some(n=>n.uid===t.uid))}findSection(t,n){return t.uid===n}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(A))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function wr(o,s){if(1&o&&(e.TgZ(0,"option",12),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&o){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}function Zr(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"multiple-input",13),e.BQk()),2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("values",t.value)("suggestions",n.scoringService.getQuestionValues(n.question.uid))}}function Ar(o,s){if(1&o&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("ngValue",t.uid),e.xp6(1),e.Oqu(t.label)}}function Mr(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"select",4),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).$implicit.value[0]=i}),e.YNc(1,Ar,2,2,"option",5),e.qZA()}if(2&o){const t=e.oxw(2).$implicit,n=e.oxw();e.Q6J("ngModel",t.value[0]),e.xp6(1),e.Q6J("ngForOf",n.scoringService.getQuestionValues(n.question.uid))}}function qr(o,s){if(1&o&&e.YNc(0,Mr,2,2,"select",14),2&o){const t=e.oxw().$implicit,n=e.MAs(9),i=e.oxw();e.Q6J("ngIf",("contains"!==t.operator||"not contains"!==t.operator)&&i.hasDefinedValues)("ngIfElse",n)}}function Jr(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",15),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.value=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("placeholder",e.lcZ(1,2,"Answer"))("ngModel",t.value)}}function Sr(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"select",4),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.operator=i}),e.YNc(3,wr,3,4,"option",5),e.qZA()(),e.TgZ(4,"td"),e.YNc(5,Zr,2,2,"ng-container",6),e.YNc(6,qr,1,2,"ng-template",null,7,e.W1O),e.YNc(8,Jr,2,4,"ng-template",null,8,e.W1O),e.qZA(),e.TgZ(10,"td")(11,"input",9),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.score=i}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"td")(14,"button",10),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw().removeRule(i,a)}),e._uU(15," delete "),e.qZA(),e.TgZ(16,"button",11),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().duplicateRule(r)}),e._uU(17," filter_none "),e.qZA()()()}if(2&o){const t=s.$implicit,n=e.MAs(7),i=e.oxw();e.xp6(2),e.Q6J("ngModel",t.operator),e.xp6(1),e.Q6J("ngForOf",i.operators),e.xp6(2),e.Q6J("ngIf","in"===t.operator||"not in"===t.operator)("ngIfElse",n),e.xp6(6),e.Q6J("placeholder",e.lcZ(12,6,"Score"))("ngModel",t.score)}}let Ur=(()=>{class o{constructor(t,n){this.scoringService=t,this.blockTypes=n,this.cssClass=!0}ngOnInit(){}addRule(){this.question.rules.push({operator:"equals",value:[],score:0})}removeRule(t,n){if((0,h.fJ)(t)){const i=this.question.rules.indexOf(n);i>-1&&this.question.rules.splice(i,1),0===this.question.rules.length&&this.scoringService.removeScoringQuestion(this.question)}}duplicateRule(t){this.question.rules.push(JSON.parse(JSON.stringify(t)))}get hasDefinedValues(){return this.operators.includes(u.IN)}get score(){return this.scoringService.getQuestionPoints(this.question)}get operators(){return this.blockTypes.get(this.question.typeId)?.supportedOperators||[]}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(nt),e.Y36(M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["question"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("scoring-question",n.cssClass)},inputs:{question:"question"},decls:20,vars:3,consts:[[1,"table"],["colspan","4"],[4,"ngFor","ngForOf"],[1,"button",3,"click"],[1,"input",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["definedValue",""],["rawValue",""],["type","number","min","0",1,"input",3,"placeholder","ngModel","ngModelChange"],["type","button",1,"button","remove","-icon","-plain","material-icons",3,"click"],["type","button",1,"button","-icon","-plain","material-icons",3,"click"],[3,"ngValue"],[3,"values","suggestions"],["class","input",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["type","text",1,"input",3,"placeholder","ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e._uU(4),e.qZA()(),e.TgZ(5,"tr")(6,"th"),e._uU(7,"Operator"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Value"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Score"),e.qZA(),e._UZ(12,"th"),e.qZA()(),e.TgZ(13,"tbody"),e.YNc(14,Sr,18,8,"tr",2),e.qZA(),e.TgZ(15,"tfoot")(16,"tr")(17,"th",1)(18,"button",3),e.NdJ("click",function(){return n.addRule()}),e._uU(19,"Add Rule"),e.qZA()()()()()),2&t&&(e.xp6(4),e.AsE("",n.question.title," (",n.score," points)"),e.xp6(10),e.Q6J("ngForOf",n.question.rules))},directives:[c.sg,l.EJ,l.JJ,l.On,l.YN,l.Kr,c.O5,Fe.d,l.Fj,l.qQ,l.wV],pipes:[c.rS,p.X$],encapsulation:2,changeDetection:0}),o})();var Ee=g(5359);function Nr(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(i){e.CHM(t);const r=e.oxw().$implicit;return e.oxw().removeGrade(i,r)}),e._uU(1," delete "),e.qZA()}}const Ir=function(o){return{"background-color":o}},Fr=function(o){return["..","setup","grade",o]};function Er(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"span",9),e._uU(4,"colorize"),e.qZA(),e.TgZ(5,"input",10),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.color=i}),e.qZA()(),e._UZ(6,"div",11),e.ALo(7,"translate"),e.TgZ(8,"div",12),e._uU(9),e.qZA(),e.YNc(10,Nr,2,0,"button",13),e.qZA(),e.TgZ(11,"div",14)(12,"div",15)(13,"label",16),e._uU(14,"Name"),e.qZA(),e.TgZ(15,"input",17),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.label=i}),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",15)(18,"label",16),e._uU(19,"Score percentage range (Inclusive)"),e.qZA(),e.TgZ(20,"div",18)(21,"ngx-slider",19),e.NdJ("valueChange",function(i){return e.CHM(t).$implicit.min=i})("highValueChange",function(i){return e.CHM(t).$implicit.max=i}),e.qZA()()(),e.TgZ(22,"div",15)(23,"a",20),e._uU(24,"Customize the message"),e.qZA()()()()}if(2&o){const t=s.$implicit,n=s.index,i=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(16,Ir,t.color)),e.xp6(3),e.Q6J("ngModel",t.color),e.xp6(1),e.Q6J("innerText",t.label||e.lcZ(7,12,"Grade #")+(n+1)),e.xp6(3),e.AsE("",t.min," to ",t.max,""),e.xp6(1),e.Q6J("ngIf",i.grades.length>1),e.xp6(5),e.Q6J("placeholder",e.lcZ(16,14,"Grade name..."))("ngModel",t.label),e.xp6(6),e.Q6J("options",i.rangeOptions)("value",t.min)("highValue",t.max),e.xp6(2),e.Q6J("routerLink",e.VKq(18,Fr,t.uid||""))}}let Qr=(()=>{class o{constructor(){this.rangeOptions={showSelectionBar:!0,floor:0,ceil:100,minRange:5,step:1,pushRange:!0,draggableRange:!0},this.classAttribute="grading panel",this.hover=!1}addGrade(){const t=this.grades[this.grades.length-1],n={uid:(0,b.Z)(),label:"Grade "+this.grades.length,color:"#ffaa00",min:t?.max||0,max:100,content:{name:"Grade "+this.grades.length,content:"",blocks:[],enabled:!0}};this.grades.push(n)}removeGrade(t,n){if((0,h.fJ)(t)){const i=this.grades.indexOf(n);i>-1&&this.grades.splice(i,1)}}addVariable(t,n){t.content+=" {{"+n+"}}"}onEnter(){this.hover=!0}onLeave(){this.hover=!1}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["gradings"]],hostVars:4,hostBindings:function(t,n){1&t&&e.NdJ("mouseenter",function(){return n.onEnter()})("mouseleave",function(){return n.onLeave()}),2&t&&(e.Tol(n.classAttribute),e.ekj("-active",n.hover))},inputs:{grades:"grades"},decls:8,vars:1,consts:[[1,"panel-header"],["translate","",1,"panel-title"],["translate","",1,"button","-small","-alt",3,"click"],[1,"panel-content"],[1,"grading-container"],["class","badge",4,"ngFor","ngForOf"],[1,"badge"],[1,"badge-header"],[1,"badge-color",3,"ngStyle"],[1,"icon","material-icons"],["type","color",3,"ngModel","ngModelChange"],[1,"badge-label",3,"innerText"],[1,"badge-scale"],["type","button","class","button remove -icon -plain material-icons",3,"click",4,"ngIf"],[1,"badge-content"],[1,"form-group"],["translate","",1,"label"],[1,"input",3,"placeholder","ngModel","ngModelChange"],[1,"badge-range"],[3,"options","value","highValue","valueChange","highValueChange"],["translate","",3,"routerLink"],["type","button",1,"button","remove","-icon","-plain","material-icons",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"header",0)(1,"h3",1),e._uU(2,"Gradings"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return n.addGrade()}),e._uU(4,"Add Grading"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4),e.YNc(7,Er,25,20,"div",5),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("ngForOf",n.grades))},directives:[p.Pi,c.sg,c.PC,l.Fj,l.JJ,l.On,c.O5,Ee.w5,m.yS],pipes:[p.X$],encapsulation:2,changeDetection:0}),o})();const Or=function(o){return["/surveys/editor",o,"setup"]};function Lr(o,s){if(1&o&&(e.TgZ(0,"empty-state",4),e.ALo(1,"translate"),e.TgZ(2,"a",5),e._uU(3,"Add Questions"),e.qZA()()),2&o){const t=e.oxw();e.Q6J("description",e.lcZ(1,2,"Consider adding some questions to enable scoring")),e.xp6(2),e.Q6J("routerLink",e.VKq(4,Or,t.scoringService.survey.uid))}}function Br(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"header",13)(1,"h3",14),e._uU(2,"Scoring"),e.qZA(),e.TgZ(3,"label",15)(4,"input",16),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).scoring.enabled=i}),e.qZA(),e.TgZ(5,"span",17),e._uU(6,"Enable"),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.scoring.enabled)}}const Hr=function(o){return{"is-active":o}};function Pr(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"li",31),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(3).scoringSection=r}),e._uU(1),e.TgZ(2,"small"),e._uU(3),e.ALo(4,"translate"),e.qZA()()}if(2&o){const t=s.$implicit,n=e.oxw(3);e.Q6J("ngClass",e.VKq(6,Hr,n.scoringSection.uid===t.uid)),e.xp6(1),e.hij(" ",t.name,""),e.xp6(2),e.AsE(" ",n.scoringService.getSectionPoints(t)," ",e.lcZ(4,4,"Points"),"")}}function Dr(o,s){1&o&&e._UZ(0,"question",32),2&o&&e.Q6J("question",s.$implicit)}function Yr(o,s){if(1&o&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.title)}}function Rr(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"ul",19),e.YNc(2,Pr,5,8,"li",20),e.TgZ(3,"li",21)(4,"small"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"div",22)(8,"div",23)(9,"div",24),e.YNc(10,Dr,1,1,"question",25),e.qZA(),e.TgZ(11,"div",6)(12,"div",7)(13,"select",26),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).scoringService.question=i}),e.TgZ(14,"option",27),e._uU(15,"Select Question"),e.qZA(),e.YNc(16,Yr,2,2,"option",28),e.qZA()(),e.TgZ(17,"div",29)(18,"button",30),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).scoringService.addQuestion()}),e._uU(19," Add Question "),e.qZA()()()()()()}if(2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.scoring.sections),e.xp6(3),e.AsE("",t.scoringService.total," ",e.lcZ(6,9,"points in total"),""),e.xp6(5),e.Q6J("ngForOf",t.scoringSection.blocks)("ngForTrackBy",t.trackQuestions),e.xp6(3),e.Q6J("ngModel",t.scoringService.question),e.xp6(1),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.scoringService.getQuestions(t.scoringSection.uid)),e.xp6(2),e.Q6J("disabled",!t.scoringService.question)}}function jr(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"empty-state",34),e.ALo(2,"translate"),e.TgZ(3,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).enable()}),e._uU(4,"Enable Scoring Feature"),e.qZA()()()}2&o&&(e.xp6(1),e.Q6J("description",e.lcZ(2,1,"Please enable this feature first to use it.")))}function zr(o,s){if(1&o&&(e.TgZ(0,"div",36),e._UZ(1,"gradings",37),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("grades",t.scoring.grades)}}function Vr(o,s){if(1&o&&(e.TgZ(0,"div",6)(1,"div",7)(2,"div",8),e.YNc(3,Br,7,1,"header",9),e.YNc(4,Rr,20,11,"div",10),e.YNc(5,jr,5,3,"ng-template",null,11,e.W1O),e.qZA()(),e.YNc(7,zr,2,1,"div",12),e.qZA()),2&o){const t=e.MAs(6),n=e.oxw();e.xp6(3),e.Q6J("ngIf",n.scoring.enabled),e.xp6(1),e.Q6J("ngIf",n.scoring.enabled)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",n.scoring.enabled)}}let $r=(()=>{class o{constructor(t,n,i,r){this.editor=t,this.moduleService=n,this.promotionService=i,this.scoringService=r,this.cssClass=!0}ngOnInit(){this.scoringService.survey=this.editor.survey,this.scoringService.section=this.scoringService.scoring.sections[0]||null,this.promotionService.isUpgradedNeeded("scoring-extension")&&(this.scoringService.scoring.enabled=!1)}trackQuestions(t,n){return n?n.uid:null}get scoring(){return this.scoringService.scoring}get scoringSection(){return this.scoringService.section}set scoringSection(t){this.scoringService.section=t}get survey(){return this.scoringService.survey}enable(){this.scoring.enabled=!0}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(E.s),e.Y36(le.q),e.Y36(nt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["score"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("scoring-editor",n.cssClass)},decls:6,vars:2,consts:[["module","scoring-extension"],["screen","scoring-survey"],["icon","grading","heading","No questions",3,"description",4,"ngIf","ngIfElse"],["enableScoring",""],["icon","grading","heading","No questions",3,"description"],[1,"button","-primary",3,"routerLink"],[1,"row"],[1,"col"],[1,"scoring","panel"],["class","panel-header",4,"ngIf"],["class","panel-container",4,"ngIf","ngIfElse"],["enableFirst",""],["class","col-md-4 col-lg-3",4,"ngIf"],[1,"panel-header"],["translate","",1,"panel-title"],[1,"labeled-switch"],["type","checkbox",1,"switch",3,"ngModel","ngModelChange"],["translate","",1,"label"],[1,"panel-container"],[1,"scoring-sidebar"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"scoring-total"],[1,"scoring-sections"],[1,"scoring-section"],[1,"scoring-section-container"],[3,"question",4,"ngFor","ngForOf","ngForTrackBy"],[1,"input",3,"ngModel","ngModelChange"],["translate","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-auto"],["type","button","translate","",1,"button","-primary",3,"disabled","click"],[3,"ngClass","click"],[3,"question"],[3,"ngValue"],["heading","Feature is disabled","icon","power_settings_new",3,"description"],["translate","",1,"button","-primary",3,"click"],[1,"col-md-4","col-lg-3"],[3,"grades"]],template:function(t,n){if(1&t&&(e._UZ(0,"pro-overlay",0)(1,"module-activation",0)(2,"screen-tracker",1),e.YNc(3,Lr,4,6,"empty-state",2),e.YNc(4,Vr,8,4,"ng-template",null,3,e.W1O)),2&t){const i=e.MAs(5);e.xp6(3),e.Q6J("ngIf",!n.scoringService.getSurveyQuestionsCount())("ngIfElse",i)}},directives:[te.H,ye.j,F.h,c.O5,K.s,m.yS,p.Pi,l.Wl,l.JJ,l.On,c.sg,c.mk,Ur,l.EJ,l.YN,l.Kr,Qr],pipes:[p.X$],encapsulation:2,changeDetection:0}),o})(),Gr=(()=>{class o{canDeactivate(t,n,i,r){return!t.hasPendingChanges()||confirm("WARNING: You have unsaved changes. Press Cancel to go back and save these changes, or OK to lose these changes.")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Wr=(()=>{class o{constructor(t,n){this.config=t,this.blockTypesRegistry=n}getExpressionsOfSurvey(t,n){const i=[];for(const r of this.config.translatables.survey)t[r]&&i.push(this.extractExpression(t,"Survey",r,n));for(const r in this.config.expressions)i.push(this.extractExpression(t.settings.expressions,"Interface texts",r,n,this.config.expressions[r],!1));return t.sections.forEach(r=>{for(const a of this.config.translatables.section)r[a]&&i.push(this.extractExpression(r,`Section: ${r.title}`,a,n));r.blocks.forEach(a=>{for(const d of this.config.translatables.block)a[d]&&i.push(this.extractExpression(a,`Block: ${a.title}`,d,n));i.push(...this.getExpressionsOfBlock(a,n))})}),t.settings.contents.welcome.enabled&&t.settings.contents.welcome.blocks.forEach(r=>{i.push(...this.getExpressionsOfBlock(r,n,"Welcome message"))}),t.settings.contents.thankyou.enabled&&t.settings.contents.thankyou.blocks.forEach(r=>{i.push(...this.getExpressionsOfBlock(r,n,"Thank you message"))}),t.settings.scoring&&t.settings.scoring.enabled&&t.settings.scoring.grades.forEach(r=>{i.push(this.extractExpression(r,`Grade: ${r.label}`,"label",n)),r.content.blocks.forEach(a=>{i.push(...this.getExpressionsOfBlock(a,n,`Grade: ${r.label}`))})}),i}getExpressionsOfBlock(t,n,i=""){const r=this.blockTypesRegistry.get(t.typeId).translatable,a=[],d=(_,x)=>{_[x]&&a.push(this.extractExpression(_,i||`Block: ${t.title}`,x,n))};for(const _ of r){const x=_.split(".");let C=t;for(const y in x){const z=x[y];if(Array.isArray(C))for(const He of C)d(He,z);else Number(y)===x.length-1&&d(C,z);C=C[z]}}return a}getTranslatedLanguagesOfSurvey(t){const n={};this.countTranslatedExpressions(t,n);for(const i of t.sections){this.countTranslatedExpressions(i,n);for(const r of i.blocks)this.countTranslatedExpressionsOfBlock(r,n)}return t.settings.contents.welcome.enabled&&t.settings.contents.welcome.blocks.forEach(i=>{this.countTranslatedExpressionsOfBlock(i,n)}),t.settings.contents.thankyou.enabled&&t.settings.contents.thankyou.blocks.forEach(i=>{this.countTranslatedExpressionsOfBlock(i,n)}),t.settings.scoring&&t.settings.scoring.enabled&&t.settings.scoring.grades.forEach(i=>{this.countTranslatedExpressions(i,n),i.content.blocks.forEach(r=>{this.countTranslatedExpressionsOfBlock(r,n)})}),n}assureTranslationsAttribute(t,n,i){(!t.hasOwnProperty("translations")||Array.isArray(t.translations))&&(t.translations={}),(!t.translations.hasOwnProperty(i)||Array.isArray(t.translations[i]))&&(t.translations[i]={}),t.translations[i][n]=t.translations[i][n]||""}extractExpression(t,n,i,r,a="",d=!0){return this.assureTranslationsAttribute(t,i,r),{attribute:i,content:t[i],group:n,source:t.translations[r],hint:d,title:a}}countTranslatedExpressions(t,n){for(const i in t.translations)n[i]=n[i]||0,n[i]+=Object.values(t.translations[i]).filter(r=>r.trim()).length;return n}countTranslatedExpressionsOfBlock(t,n){this.countTranslatedExpressions(t,n);const i=this.blockTypesRegistry.get(t.typeId).translatable,r=(a,d)=>{a.translations&&this.countTranslatedExpressions(a,n)};for(const a of i){const d=a.split(".");let _=t;for(const x in d){const C=d[x];if(Array.isArray(_))for(const y of _)r(y);else Number(x)===d.length-1&&r(_);_=_[C]}}return n}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(q),e.LFG(M))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Xr(o,s){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.hij(" (",n.languagesCounter[t.code].toFixed(0),"% translated) ")}}function Kr(o,s){if(1&o&&(e.TgZ(0,"option",13),e._uU(1),e.YNc(2,Xr,2,1,"ng-container",9),e.qZA()),2&o){const t=s.$implicit,n=e.oxw(2);e.Q6J("ngValue",t),e.xp6(1),e.hij("",t.name," "),e.xp6(1),e.Q6J("ngIf",n.languagesCounter[t.code])}}function es(o,s){if(1&o&&(e.TgZ(0,"optgroup",11),e.YNc(1,Kr,3,3,"option",12),e.qZA()),2&o){const t=s.$implicit;e.Q6J("label",t.label),e.xp6(1),e.Q6J("ngForOf",t.languages)}}function ts(o,s){if(1&o&&(e.TgZ(0,"option",13),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t.name," ")}}function ns(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"label",14),e._uU(3,"Filter by group"),e.qZA()(),e.TgZ(4,"div",4)(5,"select",15),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().groupFilter=i}),e.TgZ(6,"option",7),e._uU(7,"Pick a group"),e.qZA(),e.YNc(8,ts,2,2,"option",12),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.groupFilter),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",t.groupedExpressions)}}function os(o,s){if(1&o&&(e.TgZ(0,"small",25),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.title||t.attribute)}}function is(o,s){if(1&o&&(e.ynx(0),e.YNc(1,os,2,1,"small",24),e._uU(2),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.hint),e.xp6(1),e.hij(" ",t.content," ")}}function rs(o,s){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.title||t.attribute," ")}}function ss(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw(3).applyToAll(i)}),e._uU(1,"Apply to similar "),e.qZA()}}function as(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw(3).copyTranslation(i)}),e._uU(1,"Copy from similar "),e.qZA()}}function ls(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",20),e.YNc(2,is,3,2,"ng-container",9),e.YNc(3,rs,2,1,"ng-container",9),e.qZA(),e.TgZ(4,"td",21)(5,"input",22),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).$implicit;return a.source[a.attribute]=i}),e.qZA(),e.YNc(6,ss,2,0,"button",23),e.YNc(7,as,2,0,"button",23),e.qZA()()}if(2&o){const t=s.$implicit,n=e.oxw(3);e.xp6(2),e.Q6J("ngIf",t.content),e.xp6(1),e.Q6J("ngIf",!t.content),e.xp6(2),e.Q6J("placeholder",t.content)("ngModel",t.source[t.attribute])("dir",n.language.dir),e.xp6(1),e.Q6J("ngIf",n.isThereOtherSimilarExp(t)),e.xp6(1),e.Q6J("ngIf",n.isThereTranslatedSimilarExp(t))}}function cs(o,s){if(1&o&&(e.TgZ(0,"details",17)(1,"summary"),e._uU(2),e.qZA(),e.TgZ(3,"table",18)(4,"tbody",19),e.YNc(5,ls,8,7,"tr",10),e.qZA()()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(3),e.Q6J("ngForOf",t.expressions)}}function ps(o,s){if(1&o&&(e.ynx(0),e.YNc(1,cs,6,2,"details",16),e.BQk()),2&o){const t=s.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.groupFilter||t===n.groupFilter)}}let ds=(()=>{class o{constructor(t,n,i){this.config=t,this.translation=n,this.editor=i,this.groupFilter="",this.similarExpressions={}}get languagesCounter(){const t=this.translation.getTranslatedLanguagesOfSurvey(this.editor.survey),n={};for(const i in t){const r=this.translation.getExpressionsOfSurvey(this.editor.survey,i);n[i]=Number(100*t[i]/r.length)}return n}get languagesGroups(){return[{label:"Translated",languages:this.config.languages.filter(t=>this.languagesCounter[t.code]>0)},{label:"Untranslated",languages:this.config.languages.filter(t=>!this.languagesCounter[t.code]||0===this.languagesCounter[t.code])}]}loadExpressions(){const t=this.translation.getExpressionsOfSurvey(this.editor.survey,this.language.code),n={};this.similarExpressions={};for(const i of t)n[i.group]=n[i.group]||[],n[i.group].push(i),this.similarExpressions[i.content]=this.similarExpressions[i.content]||[],this.similarExpressions[i.content].push(i);this.groupedExpressions=Object.entries(n).map(i=>({name:i[0],expressions:i[1]}))}applyToAll(t){const n=t.source[t.attribute];this.similarExpressions[t.content].forEach(i=>i.source[i.attribute]=n)}copyTranslation(t){const n=this.similarExpressions[t.content].find(i=>i.source[i.attribute]);t.source[t.attribute]=n.source[n.attribute]}isThereOtherSimilarExp(t){return t.source[t.attribute]&&this.similarExpressions[t.content].length>1}isThereTranslatedSimilarExp(t){return!t.source[t.attribute]&&this.similarExpressions[t.content].some(n=>n.source[n.attribute])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q),e.Y36(Wr),e.Y36(Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["translations"]],decls:14,vars:5,consts:[["module","limitations-extension"],[1,"localization-groups"],[1,"header"],[1,"row"],[1,"col-auto"],["for","language","translate",""],["id","language",1,"input","-small",3,"ngModel","ngModelChange"],["translate","",3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["for","filter","translate",""],["id","filter",1,"input","-small",3,"ngModel","ngModelChange"],["class","group","open","",4,"ngIf"],["open","",1,"group"],[1,"localization-table"],[1,"body"],[1,"original"],[1,"translation"],["type","text",1,"input",3,"placeholder","ngModel","dir","ngModelChange"],["class","button -small -alt","translate","",3,"click",4,"ngIf"],["class","context",4,"ngIf"],[1,"context"],["translate","",1,"button","-small","-alt",3,"click"]],template:function(t,n){1&t&&(e._UZ(0,"pro-overlay",0),e.TgZ(1,"div",1)(2,"header",2)(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"Language"),e.qZA()(),e.TgZ(7,"div",4)(8,"select",6),e.NdJ("ngModelChange",function(r){return n.language=r})("ngModelChange",function(){return n.loadExpressions()}),e.TgZ(9,"option",7),e._uU(10,"Pick a language"),e.qZA(),e.YNc(11,es,2,2,"optgroup",8),e.qZA()(),e.YNc(12,ns,9,3,"ng-container",9),e.qZA()(),e.YNc(13,ps,2,1,"ng-container",10),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngModel",n.language),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.languagesGroups),e.xp6(1),e.Q6J("ngIf",n.groupedExpressions&&0!==n.groupedExpressions.length),e.xp6(1),e.Q6J("ngForOf",n.groupedExpressions))},directives:[te.H,p.Pi,l.EJ,l.JJ,l.On,l.YN,l.Kr,c.sg,c.O5,l.Fj],encapsulation:2}),o})();function us(o,s){1&o&&(e.TgZ(0,"p",38),e._uU(1,"This functionality will not work unless the survey is enabled."),e.qZA())}function gs(o,s){1&o&&(e.TgZ(0,"p",38),e._uU(1," No email is provided. "),e.qZA())}function _s(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",39)(1,"label",15)(2,"input",40,41),e.NdJ("change",function(){const r=e.CHM(t).$implicit,a=e.MAs(3);return e.oxw().toggleSection(r.uid,a.checked)}),e.qZA(),e.TgZ(4,"span",42),e._uU(5),e.qZA()()()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(2),e.Q6J("value",t.uid)("checked",n.isToggled(t.uid)),e.xp6(3),e.Oqu(t.title)}}function ms(o,s){1&o&&(e.TgZ(0,"p",38),e._uU(1," No sections were selected. "),e.qZA())}function hs(o,s){1&o&&(e.TgZ(0,"p",43),e._uU(1," No email is provided. "),e.qZA())}function fs(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",44)(1,"label",15)(2,"input",45,46),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).$implicit;return e.oxw().instantReport.sections[a.uid]=i}),e.qZA(),e.TgZ(4,"span",42),e._uU(5),e.qZA()()()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(2),e.Q6J("ngModel",n.instantReport.sections[t.uid]),e.xp6(3),e.Oqu(t.title)}}let xs=(()=>{class o{constructor(t,n,i){this.editor=t,this.surveyService=n,this.statusService=i,this.isSendingReport=!1,this.instantReport={email:"",from:"",to:"",sections:Object.fromEntries(this.editor.survey.sections.map(r=>[r.uid,!0]))}}ngOnInit(){}get sections(){return this.editor.survey.settings.reports.sections}isToggled(t){return this.sections.includes(t)}toggleSection(t,n){n?this.sections.push(t):this.sections.splice(this.sections.indexOf(t),1)}sendReport(){var t=this;return(0,f.Z)(function*(){try{t.isSendingReport=!0;const n=yield t.surveyService.sendReport({surveyUid:t.editor.survey.uid,...t.instantReport,sections:Object.keys(t.instantReport.sections).filter(i=>t.instantReport.sections[i])});t.statusService.success({message:"Report sent."}),confirm("Report sent. Would you like to preview the report?")&&window.open(n.data.url,"_blank")}catch(n){t.statusService.error({message:n.error.error})}finally{t.isSendingReport=!1}})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(A),e.Y36(J.B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["reports"]],decls:115,vars:24,consts:[["module","limitations-extension"],[1,"report-container"],[1,"row"],[1,"col"],[1,"panel"],[1,"panel-header"],["translate","",1,"panel-title"],[1,"report-content"],[1,"col-12","form-group"],[1,"labeled-switch"],["type","checkbox",1,"switch",3,"ngModel","ngModelChange"],["translate","",1,"label"],["class","message -attention -small","translate","",4,"ngIf"],["for","email","translate","",1,"label"],["type","text","id","email",1,"input",3,"placeholder","ngModel","ngModelChange"],[1,"checkbox"],["type","radio","value","0",3,"ngModel","ngModelChange"],["type","radio","value","7",3,"ngModel","ngModelChange"],["type","radio","value","30",3,"ngModel","ngModelChange"],[1,"col-12","form-group","section-options"],["for","sections","translate","",1,"label"],["id","sections","class","col-6",4,"ngFor","ngForOf"],[1,"col-12"],[1,"col-6"],[1,"col","form-group"],[1,"button","-primary",3,"disabled","click"],["for","instant-report-email","translate","",1,"label"],["type","text","id","instant-report-email",1,"input",3,"placeholder","ngModel","ngModelChange"],["class","message -attention -small",4,"ngIf"],["for","instant-report-from","translate","",1,"label"],["type","datetime-local","id","instant-report-from",1,"input",3,"ngModel","ngModelChange"],["for","instant-report-to","translate","",1,"label"],["type","datetime-local","id","instant-report-to",1,"input",3,"ngModel","ngModelChange"],["for","instant-report-sections","translate","",1,"label"],["id","instant-report-sections","class","col-6",4,"ngFor","ngForOf"],["translate","",1,"button","-primary",3,"disabled","click"],[1,"col-3"],["translate",""],["translate","",1,"message","-attention","-small"],["id","sections",1,"col-6"],["type","checkbox","name","sections",3,"value","checked","change"],["sectionCheckbox",""],[1,"label"],[1,"message","-attention","-small"],["id","instant-report-sections",1,"col-6"],["type","checkbox",3,"ngModel","ngModelChange"],["instantReportSection",""]],template:function(t,n){1&t&&(e._UZ(0,"pro-overlay",0),e.TgZ(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),e._uU(7,"Recurring report"),e.qZA()(),e.TgZ(8,"div",7)(9,"div",2)(10,"div",8)(11,"label",9)(12,"input",10),e.NdJ("ngModelChange",function(r){return n.editor.survey.settings.reports.enabled=r}),e.qZA(),e.TgZ(13,"span",11),e._uU(14,"Enabled"),e.qZA()(),e.YNc(15,us,2,0,"p",12),e.qZA(),e.TgZ(16,"div",8)(17,"label",13),e._uU(18,"Email"),e.qZA(),e.TgZ(19,"input",14),e.NdJ("ngModelChange",function(r){return n.editor.survey.settings.reports.email=r}),e.ALo(20,"translate"),e.qZA(),e.YNc(21,gs,2,0,"p",12),e.qZA(),e.TgZ(22,"div",8)(23,"label",11),e._uU(24,"Interval"),e.qZA(),e.TgZ(25,"label",15)(26,"input",16),e.NdJ("ngModelChange",function(r){return n.editor.survey.settings.reports.interval=r}),e.qZA(),e.TgZ(27,"span",11),e._uU(28,"Daily"),e.qZA()(),e.TgZ(29,"label",15)(30,"input",17),e.NdJ("ngModelChange",function(r){return n.editor.survey.settings.reports.interval=r}),e.qZA(),e.TgZ(31,"span",11),e._uU(32,"Weekly"),e.qZA()(),e.TgZ(33,"label",15)(34,"input",18),e.NdJ("ngModelChange",function(r){return n.editor.survey.settings.reports.interval=r}),e.qZA(),e.TgZ(35,"span",11),e._uU(36,"Monthly"),e.qZA()()(),e.TgZ(37,"div",19)(38,"label",20),e._uU(39,"Sections"),e.qZA(),e.TgZ(40,"div",2),e.YNc(41,_s,6,3,"div",21),e._UZ(42,"div",22),e.TgZ(43,"div",23),e.YNc(44,ms,2,0,"p",12),e.qZA()()(),e.TgZ(45,"div",24)(46,"button",25),e.NdJ("click",function(){return n.editor.save()}),e.ALo(47,"async"),e._uU(48," Save "),e.qZA()()()()()(),e.TgZ(49,"div",3)(50,"div",4)(51,"div",5)(52,"h3",6),e._uU(53,"Instant report"),e.qZA()(),e.TgZ(54,"div",7)(55,"div",2)(56,"div",8)(57,"label",26),e._uU(58,"Email "),e.qZA(),e.TgZ(59,"input",27),e.NdJ("ngModelChange",function(r){return n.instantReport.email=r}),e.ALo(60,"translate"),e.qZA(),e.YNc(61,hs,2,0,"p",28),e.qZA(),e.TgZ(62,"div",8)(63,"label",29),e._uU(64,"From"),e.qZA(),e.TgZ(65,"input",30),e.NdJ("ngModelChange",function(r){return n.instantReport.from=r}),e.qZA()(),e.TgZ(66,"div",8)(67,"label",31),e._uU(68,"To"),e.qZA(),e.TgZ(69,"input",32),e.NdJ("ngModelChange",function(r){return n.instantReport.to=r}),e.qZA()(),e.TgZ(70,"div",19)(71,"label",33),e._uU(72," Sections "),e.qZA(),e.TgZ(73,"div",2),e.YNc(74,fs,6,2,"div",34),e.qZA()(),e.TgZ(75,"div",8)(76,"button",35),e.NdJ("click",function(){return n.sendReport()}),e._uU(77,"Send"),e.qZA()()()()()(),e.TgZ(78,"div",36)(79,"div",4)(80,"div",5)(81,"h3",6),e._uU(82,"Instructions"),e.qZA()(),e.TgZ(83,"div",7)(84,"p")(85,"strong",37),e._uU(86,"What?"),e.qZA(),e._UZ(87,"br"),e.TgZ(88,"span",37),e._uU(89,"The reports feature allows you to receive recurring and instant reports of your survey via an email."),e.qZA()(),e.TgZ(90,"p")(91,"strong",37),e._uU(92,"How?"),e.qZA(),e._UZ(93,"br"),e.TgZ(94,"span",37),e._uU(95,"You need to set your email address, the frequency of the report and the select the sections to be included."),e.qZA()(),e.TgZ(96,"p")(97,"strong",37),e._uU(98,"Considerations?"),e.qZA(),e._UZ(99,"br"),e.TgZ(100,"span",37),e._uU(101,"The date range of the report is inclusive (based on the interval). Examples: "),e._UZ(102,"br")(103,"br"),e._uU(104," 1. A daily report is a report that includes the insights of each day from 00:00 until 23:59 "),e._UZ(105,"br")(106,"br"),e._uU(107," 2. A monthly report is a report that includes the insights of each month from the first day at 00:00 until the last day at 23:59"),e.qZA()(),e.TgZ(108,"p")(109,"strong",37),e._uU(110,"What's included?"),e.qZA(),e._UZ(111,"br"),e.TgZ(112,"span",37),e._uU(113,"The report includes only aggregatable fields such as choices, scale, rating, matrix, etc.. "),e.qZA(),e._UZ(114,"br"),e.qZA()()()()()()),2&t&&(e.xp6(12),e.Q6J("ngModel",n.editor.survey.settings.reports.enabled),e.xp6(3),e.Q6J("ngIf",!n.editor.survey.enabled),e.xp6(4),e.Q6J("placeholder",e.lcZ(20,18,"Email"))("ngModel",n.editor.survey.settings.reports.email),e.xp6(2),e.Q6J("ngIf",!n.editor.survey.settings.reports.email.trim()),e.xp6(5),e.Q6J("ngModel",n.editor.survey.settings.reports.interval),e.xp6(4),e.Q6J("ngModel",n.editor.survey.settings.reports.interval),e.xp6(4),e.Q6J("ngModel",n.editor.survey.settings.reports.interval),e.xp6(7),e.Q6J("ngForOf",n.editor.survey.sections),e.xp6(3),e.Q6J("ngIf",0===n.sections.length),e.xp6(2),e.Q6J("disabled",e.lcZ(47,20,n.editor.IS_UPDATING)),e.xp6(13),e.Q6J("placeholder",e.lcZ(60,22,"Email"))("ngModel",n.instantReport.email),e.xp6(2),e.Q6J("ngIf",!n.editor.survey.settings.reports.email.trim()),e.xp6(4),e.Q6J("ngModel",n.instantReport.from),e.xp6(4),e.Q6J("ngModel",n.instantReport.to),e.xp6(5),e.Q6J("ngForOf",n.editor.survey.sections),e.xp6(2),e.Q6J("disabled",n.isSendingReport))},directives:[te.H,p.Pi,l.Wl,l.JJ,l.On,c.O5,l.Fj,l._,c.sg],pipes:[p.X$,c.Ov],styles:[".report-container[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;padding:24px;height:100%}.report-container[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%]{min-height:100%}.report-content[_ngcontent-%COMP%]{padding:24px}.report-content[_ngcontent-%COMP%]   .section-options[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{display:flex;height:26px;margin-left:0}.report-content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:12px}"]}),o})();function bs(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"textarea",11),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().surveyAsString=i}),e.ALo(1,"translate"),e._uU(2,"    "),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("rows",9)("placeholder",e.lcZ(1,3,"Paste or drop survey's file here.."))("ngModel",t.surveyAsString)}}function vs(o,s){if(1&o&&(e.TgZ(0,"div",12)(1,"div",13),e._UZ(2,"div"),e.TgZ(3,"p",14),e._uU(4),e.qZA()()()),2&o){const t=e.oxw();e.xp6(2),e.Udp("width",t.progressBarImport.progressPercent),e.xp6(2),e.Oqu(t.progressBarImport.progressPercent)}}function Cs(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"label",22)(1,"input",23),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.checked=i})("change",function(i){const a=e.CHM(t).$implicit;return e.oxw(2).checkSurvey(i,a)}),e.qZA(),e.TgZ(2,"span",24),e._uU(3),e.qZA()()}if(2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.value)("ngModel",t.checked),e.xp6(2),e.Oqu(t.name)}}function ys(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"label",16)(2,"input",17),e.NdJ("change",function(i){return e.CHM(t),e.oxw().checkAllSurveys(i)}),e.qZA(),e.TgZ(3,"span",18),e._uU(4,"Select All"),e.qZA()(),e._UZ(5,"hr",19),e.TgZ(6,"div",20),e.YNc(7,Cs,4,3,"label",21),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngForOf",t.surveysOptionsToExport)}}function ks(o,s){if(1&o&&(e.TgZ(0,"div",12)(1,"div",13),e._UZ(2,"div"),e.TgZ(3,"p",14),e._uU(4),e.qZA()()()),2&o){const t=e.oxw();e.xp6(2),e.Udp("width",t.progressBarExport.progressPercent),e.xp6(2),e.Oqu(t.progressBarExport.progressPercent)}}function ws(o,s){1&o&&(e.TgZ(0,"small"),e._uU(1,"Weight"),e.qZA())}function Zs(o,s){1&o&&(e.TgZ(0,"small"),e._uU(1,"Scale multiplier"),e.qZA())}function As(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",32),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.weight=i}),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("ngModel",t.weight)}}function Ms(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",32),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.multiplier=i}),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("ngModel",t.multiplier)}}function qs(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",2)(2,"div",3),e._uU(3),e.qZA(),e.TgZ(4,"div",25)(5,"div",28)(6,"div",25),e.YNc(7,ws,2,0,"small",29),e.YNc(8,Zs,2,0,"small",29),e.qZA(),e.TgZ(9,"div",3),e.YNc(10,As,1,1,"input",30),e.YNc(11,Ms,1,1,"input",30),e.qZA()()(),e.TgZ(12,"div",25)(13,"button",31),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw().$implicit;return e.oxw().removeQuestion(r,a)}),e._uU(14,"Remove "),e.qZA()()()()}if(2&o){const t=s.$implicit,n=e.oxw(2);e.xp6(3),e.hij(" ",n.getQuestionTitle(t)," "),e.xp6(4),e.Q6J("ngIf",t.hasOwnProperty("weight")),e.xp6(1),e.Q6J("ngIf",t.hasOwnProperty("multiplier")),e.xp6(2),e.Q6J("ngIf",t.hasOwnProperty("weight")),e.xp6(1),e.Q6J("ngIf",t.hasOwnProperty("multiplier"))}}function Js(o,s){if(1&o&&e._UZ(0,"option",33),2&o){const t=s.$implicit;e.Q6J("label",t.title)("ngValue",t.uid)}}const Ss=function(){return{standalone:!0}};function Us(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",2)(2,"div",14)(3,"div",17)(4,"label",9),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"input",18),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.title=i}),e.qZA()(),e.TgZ(7,"div",17)(8,"button",19),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().removeItem(r)}),e._uU(9,"Remove"),e.qZA()()(),e.TgZ(10,"div",3)(11,"label",9),e._uU(12,"Question/choice weights"),e.qZA(),e.TgZ(13,"div",20),e.YNc(14,qs,15,5,"div",21),e.TgZ(15,"div",2)(16,"div",3)(17,"select",22),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.selectedOption=i}),e.TgZ(18,"option",23),e._uU(19,"Choose question to add"),e.qZA(),e.YNc(20,Js,1,2,"option",24),e.qZA()(),e.TgZ(21,"div",25)(22,"button",26),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().addQuestion(r)}),e._uU(23,"Add question "),e.qZA()()()()()()()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(6),e.Q6J("ngModel",t.title),e.xp6(8),e.Q6J("ngForOf",t.questions),e.xp6(3),e.Q6J("ngModel",t.selectedOption)("ngModelOptions",e.DdM(7,Ss)),e.xp6(1),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",n.options),e.xp6(2),e.Q6J("disabled",!t.selectedOption)}}const Ns=[{path:"import-export",pathMatch:"full",component:(()=>{class o{constructor(t,n,i){this.router=t,this.surveysService=n,this.statusService=i,this.surveyAsString="",this.isDragEvent=!1,this.isImporting=!1,this.isExporting=!1,this.isFetching=!1,this.surveysOptionsToExport=[],this.surveysOptionsChecked=[],this.progressBarImport={progress:0,progressPercent:"0%"},this.progressBarExport={progress:0,progressPercent:"0%"},this.reload=!1,this.cssClass=!0}ngOnInit(){var t=this;return(0,f.Z)(function*(){yield t.fetch()})()}fetch(){var t=this;return(0,f.Z)(function*(){t.isFetching=!0;let n=yield t.surveysService.all({});const i=n.data.pagination.pages;let r=n.data.items;t.surveysOptionsToExport=r.map(a=>({name:a.name,value:a,checked:!1}));for(let a=2;a<=i;a++)n=yield t.surveysService.all({page:a}),r=n.data.items,t.surveysOptionsToExport.push(...r.map(d=>({name:d.name,value:d,checked:!1})));t.isFetching=!1})()}updateProgressBar(t,n){t.progress=n,t.progressPercent=`${n<100?n:100}%`}task(t=5e3){return(0,f.Z)(function*(){return new Promise(n=>{setTimeout(n,Math.random()*t)})})()}setIsDragEvent(t){this.isDragEvent=t}getFileFromDropEvent(t){if(t&&t.dataTransfer.items&&t.dataTransfer.items.length){for(const n of Array.from(t.dataTransfer.items))if("file"===n.kind)return n.getAsFile();return null}return t.dataTransfer.files&&t.dataTransfer.files.length?t.dataTransfer.files[0]:null}isTextMimeType(t){if(t.startsWith("text/"))return!0;switch(t){case"application/json":case"application/x-json":return!0;default:return!1}}parseFile(t){t.preventDefault(),this.setIsDragEvent(!1);const n=this.getFileFromDropEvent(t);if(!n)return void this.statusService.error({message:"an error occurred when reading the file .."});if(!this.isTextMimeType(n.type))return void this.statusService.error({message:"an error occurred when reading the file .."});const i=new FileReader;i.readAsText(n),i.onload=()=>{this.surveyAsJson=JSON.parse(i.result?.toString()||""),this.surveyAsString=JSON.stringify(this.surveyAsJson,null,4)},i.onerror=()=>{this.statusService.error({message:"an error occurred when reading the file .."})}}importSurvey(){var t=this;return(0,f.Z)(function*(){try{let n=JSON.parse(t.surveyAsString||"");t.isImporting=!0,Array.isArray(n)||(n=[n]);let i=1;for(const r of n){const a=t.surveysService.copySurvey(r);yield t.surveysService.create(a),t.updateProgressBar(t.progressBarImport,Math.ceil(100*i/n.length)),i+=1}t.progressBarExport.progress<100&&(t.updateProgressBar(t.progressBarExport,100),yield t.task(300)),t.statusService.success({message:"Survey imported successfully."}),t.isImporting=!1,t.updateProgressBar(t.progressBarImport,0),t.surveyAsString="",t.surveyAsJson={},yield t.close()}catch(n){t.statusService.error({message:n.message||"Something went wrong, please try again."})}})()}checkAllSurveys(t){const n=t.currentTarget.checked;this.surveysOptionsToExport.map(i=>i.checked=n),n?this.surveysOptionsChecked.push(...this.surveysOptionsToExport):this.surveysOptionsChecked=[]}checkSurvey(t,n){t.currentTarget.checked?this.surveysOptionsChecked.push(n):this.surveysOptionsChecked=this.surveysOptionsChecked.filter(r=>r.value.uid!==n.value.uid)}exportSurveys(){var t=this;return(0,f.Z)(function*(){try{const n=t.surveysOptionsToExport.filter(i=>i.checked).map(i=>i.value);if(n.length>0){t.isExporting=!0;const i=new Array(50).fill(0).map(()=>t.task(300).then(()=>t.updateProgressBar(t.progressBarExport,t.progressBarExport.progress+10)));yield Promise.all(i),t.surveysService.exportSurvey(n),t.progressBarExport.progress<100&&t.task(300).then(()=>t.updateProgressBar(t.progressBarExport,100)),t.isExporting=!1,t.statusService.success({message:"Surveys exported successfully."}),t.updateProgressBar(t.progressBarExport,0)}}catch(n){throw new Error(n.message||"Something went wrong, please try again.")}})()}close(t){var n=this;return(0,f.Z)(function*(){yield n.router.navigate([{outlets:{overlay:null}}]),n.reload&&window.location.reload(),t&&t.preventDefault()})()}onDismiss(t){this.close(t)}onClick(t){t.target===t.currentTarget&&this.close(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.F0),e.Y36(A),e.Y36(J.B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["import-export"]],hostVars:2,hostBindings:function(t,n){1&t&&e.NdJ("keydown.escape",function(r){return n.onDismiss(r)},!1,e.evT)("click",function(r){return n.onClick(r)}),2&t&&e.ekj("import-export-overlay",n.cssClass)},decls:21,vars:11,consts:[[1,"import-export-container","row",3,"dragover","dragleave","drop"],[1,"close","material-icons",3,"click"],[1,"import-export-content","import-container","col-6"],["translate","",1,"title"],["class","form-control flex-fill box",3,"rows","placeholder","ngModel","ngModelChange",4,"ngIf"],["class","progress-bar-container",4,"ngIf"],[1,"button-ie"],["type","button","translate","",1,"button","-primary",3,"disabled","click"],[1,"import-export-content","export-container","col-6"],["class","box",4,"ngIf"],["type","button",1,"button","-primary",3,"disabled","click"],[1,"form-control","flex-fill","box",3,"rows","placeholder","ngModel","ngModelChange"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"progress-percent"],[1,"box"],[1,"checkbox"],["type","checkbox",3,"change"],["translate","",1,"label"],[1,"hr"],[1,"surveys"],["class","checkbox checkbox-surveys",4,"ngFor","ngForOf"],[1,"checkbox","checkbox-surveys"],["type","checkbox",3,"value","ngModel","ngModelChange","change"],[1,"label"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0),e.NdJ("dragover",function(){return n.setIsDragEvent(!0)})("dragleave",function(){return n.setIsDragEvent(!1)})("drop",function(r){return n.parseFile(r)}),e.TgZ(1,"a",1),e.NdJ("click",function(r){return n.close(r)}),e._uU(2,"close"),e.qZA(),e.TgZ(3,"div",2)(4,"h3",3),e._uU(5,"Import surveys"),e.qZA(),e.YNc(6,bs,3,5,"textarea",4),e.YNc(7,vs,5,3,"div",5),e.TgZ(8,"div",6)(9,"button",7),e.NdJ("click",function(){return n.importSurvey()}),e._uU(10,"Import surveys "),e.qZA()()(),e.TgZ(11,"div",8)(12,"h3",3),e._uU(13,"Export surveys"),e.qZA(),e.YNc(14,ys,8,1,"div",9),e.YNc(15,ks,5,3,"div",5),e.TgZ(16,"div",6)(17,"button",10),e.NdJ("click",function(){return n.exportSurveys()}),e._uU(18),e.ALo(19,"translate"),e.ALo(20,"translate"),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("ngIf",!n.isImporting),e.xp6(1),e.Q6J("ngIf",n.isImporting),e.xp6(2),e.Q6J("disabled",n.isImporting||!n.surveyAsString||n.isFetching),e.xp6(5),e.Q6J("ngIf",!n.isExporting),e.xp6(1),e.Q6J("ngIf",n.isExporting),e.xp6(2),e.Q6J("disabled",n.isExporting||0==n.surveysOptionsChecked.length||n.isFetching),e.xp6(1),e.hij("",n.isFetching?e.lcZ(19,7,"Fetching..."):e.lcZ(20,9,"Export surveys")," "))},directives:[p.Pi,c.O5,l.Fj,l.JJ,l.On,c.sg,l.Wl],pipes:[p.X$],encapsulation:2}),o})(),outlet:"overlay"},{path:"surveys",children:[{path:"",pathMatch:"full",component:Ce},{path:"editor/:surveyUid",component:Z,canDeactivate:[Gr],children:[{path:"",pathMatch:"full",redirectTo:"setup"},{path:"setup",children:[{path:"",component:B,children:[{path:"grade/:gradeUid",component:B},{path:"category/:categoryUid",component:B},{path:":sectionUid",component:B}]}]},{path:"configuration",children:[{path:"",pathMatch:"full",redirectTo:"general"},{path:":tab",component:Io}]},{path:"design",component:bo},{path:"integration",component:Xn},{path:"entries",component:Ie,children:[{path:":entryUid",component:tt}]},{path:"export",component:On},{path:"workflow",component:lr},{path:"insights",component:U},{path:"scoring",component:$r},{path:"categories",component:(()=>{class o{constructor(t,n,i){this.editor=t,this.surveyService=n,this.statusService=i}get items(){return this.editor.survey.settings.categories.items}get options(){const t=[];return this.editor.survey.sections.forEach(n=>{n.blocks.forEach(i=>{i.field.options.choices?i.field.options.choices.forEach(r=>{t.push({title:`${n.title} > ${i.title} [${r.label}]`,uid:`${n.uid}:${i.uid}:${r.uid}`,defaults:{weight:""}})}):["question:scale","question:rating","question:image-choice"].includes(i.typeId)&&t.push({title:`${n.title} > ${i.title}`,uid:`${n.uid}:${i.uid}`,defaults:{multiplier:""}})})}),t}ngOnInit(){const t=this.options;for(const n of this.editor.survey.settings.categories.items)for(const i of n.questions)t.find(r=>r.uid===i.uid)||n.questions.splice(n.questions.indexOf(i),1)}addNewCategory(){this.editor.survey.settings.categories.items.push({uid:(0,b.Z)(),title:"Category name",selectedOption:null,questions:[],content:{name:"Default",content:"",blocks:[],enabled:!0}})}addQuestion(t){const n=this.options.find(i=>i.uid===t.selectedOption);t.questions.push({uid:n.uid,...n.defaults}),t.selectedOption=null}removeQuestion(t,n){n.questions.splice(n.questions.indexOf(t),1)}removeItem(t){this.editor.survey.settings.categories.items.splice(this.editor.survey.settings.categories.items.indexOf(t),1)}getQuestionTitle(t){return this.options.find(n=>n.uid===t.uid)?.title||"N/A"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(A),e.Y36(J.B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["categories"]],decls:62,vars:2,consts:[["module","scoring-extension"],[1,"categories-container"],[1,"row"],[1,"col"],[1,"panel"],[1,"panel-header"],["translate","",1,"panel-title"],[1,"labeled-switch"],["type","checkbox",1,"switch",3,"ngModel","ngModelChange"],["translate","",1,"label"],[1,"panel-container"],["class","categories-item",4,"ngFor","ngForOf"],[1,"panel-footer"],["translate","",1,"button","-alt",3,"click"],[1,"col-3"],["translate",""],[1,"categories-item"],[1,"form-group"],["placeholder","Category name...",1,"input",3,"ngModel","ngModelChange"],["translate","",1,"button","-danger","-wide",3,"click"],[1,"gap-3"],["class","categories-question",4,"ngFor","ngForOf"],[1,"input",3,"ngModel","ngModelOptions","ngModelChange"],["translate","",3,"ngValue"],[3,"label","ngValue",4,"ngFor","ngForOf"],[1,"col-auto"],["translate","",1,"button","-wide",3,"disabled","click"],[1,"categories-question"],[1,"row",2,"align-items","center"],[4,"ngIf"],["type","number","class","input -small","placeholder","Default: 1",3,"ngModel","ngModelChange",4,"ngIf"],["translate","",1,"button","-attention","-outline","-small",3,"click"],["type","number","placeholder","Default: 1",1,"input","-small",3,"ngModel","ngModelChange"],[3,"label","ngValue"]],template:function(t,n){1&t&&(e._UZ(0,"pro-overlay",0),e.TgZ(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),e._uU(7,"Score & Categories"),e.qZA(),e._uU(8," \xa0\xa0\xa0 "),e.TgZ(9,"label",7)(10,"input",8),e.NdJ("ngModelChange",function(r){return n.editor.survey.settings.categories.enabled=r})("ngModelChange",function(r){return r?n.editor.survey.settings.scoring.enabled=!1:null}),e.qZA(),e.TgZ(11,"span",9),e._uU(12,"Enable"),e.qZA()()(),e.TgZ(13,"div",10)(14,"div"),e.YNc(15,Us,24,8,"div",11),e.qZA()(),e.TgZ(16,"div",12)(17,"button",13),e.NdJ("click",function(){return n.addNewCategory()}),e._uU(18,"Add Category"),e.qZA()()()(),e.TgZ(19,"div",14)(20,"div",4)(21,"div",5)(22,"h3",6),e._uU(23,"Instructions"),e.qZA()(),e.TgZ(24,"div",10)(25,"div")(26,"p")(27,"strong",15),e._uU(28,"What"),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"span",15),e._uU(31,"Assign categories to entries based on the weight you assign to answer choices. This allows you to create surveys that reveal user preferences or personalities."),e.qZA()(),e.TgZ(32,"p")(33,"strong",15),e._uU(34,"How"),e.qZA(),e._UZ(35,"br"),e.TgZ(36,"span",15),e._uU(37,"The weight assigned to an answer choice determines how much it contributes to a specific category. Positive weights move users towards a category, while negative weights move them away. For scale-based questions, the multiplier acts similarly, but is applied to the scale value itself."),e.qZA()(),e.TgZ(38,"p")(39,"strong",15),e._uU(40,"Create Categories"),e.qZA(),e._UZ(41,"br"),e.TgZ(42,"span",15),e._uU(43,'Define the categories you want users to be assigned to based on their survey answers (e.g., "Extrovert", "Introvert").'),e.qZA()(),e.TgZ(44,"p")(45,"strong",15),e._uU(46,"Non-Scale Questions"),e.qZA(),e._UZ(47,"br"),e.TgZ(48,"span",15),e._uU(49,"Assign a weight to each answer choice. Positive weights contribute to one category, while negative weights contribute to another."),e.qZA()(),e.TgZ(50,"p")(51,"strong",15),e._uU(52,"Scale-Based Questions"),e.qZA(),e._UZ(53,"br"),e.TgZ(54,"span",15),e._uU(55,"Assign a multiplier to each answer choice on the scale. The multiplier will be applied to the scale value to determine its contribution to a category."),e.qZA()(),e.TgZ(56,"p")(57,"strong",15),e._uU(58,"Considerations"),e.qZA(),e._UZ(59,"br"),e.TgZ(60,"span",15),e._uU(61,"If two categories share the same calculated score, a random one will be assigned."),e.qZA()()()()()()()()),2&t&&(e.xp6(10),e.Q6J("ngModel",n.editor.survey.settings.categories.enabled),e.xp6(5),e.Q6J("ngForOf",n.items))},directives:[te.H,p.Pi,l.Wl,l.JJ,l.On,c.sg,l.Fj,c.O5,l.wV,l.EJ,l.YN,l.Kr],styles:[".categories-container[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;padding:24px;height:100%}.categories-container[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%]{min-height:100%}.categories-content[_ngcontent-%COMP%]{padding:24px}.categories-content[_ngcontent-%COMP%]   .section-options[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{display:flex;height:26px;margin-left:0}.categories-content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:12px}.categories-container[_ngcontent-%COMP%]   .panel-container[_ngcontent-%COMP%]{padding:24px}.categories-container[_ngcontent-%COMP%]   .panel-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.categories-container[_ngcontent-%COMP%]   .gap-3[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.categories-question[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:8px 8px 8px 12px}.categories-question[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%]{align-items:center}.categories-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:48px;padding-bottom:48px;border-bottom:2px solid #DDDDDD}"]}),o})()},{path:"translations",component:ds},{path:"reports",component:xs}]}]}];let Is=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forChild(Ns)],m.Bz]}),o})(),Fs=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["skeleton-card"]],decls:3,vars:0,consts:[[1,"survey-card","-skeleton"],[1,"icon"],[1,"title"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1)(2,"div",2),e.qZA())},encapsulation:2}),o})();function Es(o,s){1&o&&e._UZ(0,"ng-component",17),2&o&&e.Q6J("ngComponentOutlet",s.$implicit)}function Qs(o,s){1&o&&(e.ynx(0),e._UZ(1,"loading-indicator"),e.TgZ(2,"p",20),e._uU(3,"One moment please..."),e.qZA(),e.BQk())}const ot=function(){return{action:"cancel-removal-survey",target:"surveys"}},Os=function(){return{action:"trash-survey",target:"surveys"}};function Ls(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",9),e._uU(2,"warning"),e.qZA(),e.TgZ(3,"p",20),e._uU(4,"You're going to trash this survey, are you sure?"),e.qZA(),e.TgZ(5,"div",21)(6,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).cancelRemoval()}),e._uU(7,"Cancel "),e.qZA(),e.TgZ(8,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).trash()}),e._uU(9,"I'm sure "),e.qZA()(),e.BQk()}2&o&&(e.xp6(6),e.Q6J("clickTracker",e.DdM(2,ot)),e.xp6(2),e.Q6J("clickTracker",e.DdM(3,Os)))}function Bs(o,s){1&o&&(e.ynx(0),e._UZ(1,"loading-indicator"),e.TgZ(2,"p",20),e._uU(3,"Okay, we're trashing it..."),e.qZA(),e.BQk())}const Hs=function(){return{action:"erase-survey",target:"surveys"}};function Ps(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",9),e._uU(2,"delete"),e.qZA(),e.TgZ(3,"p",20),e._uU(4,"Survey has been trashed."),e.qZA(),e.TgZ(5,"div",21)(6,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).remove()}),e._uU(7,"Erase "),e.qZA(),e.TgZ(8,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).undoRemoval()}),e._uU(9,"Undo "),e.qZA()(),e.BQk()}2&o&&(e.xp6(6),e.Q6J("clickTracker",e.DdM(2,Hs)),e.xp6(2),e.Q6J("clickTracker",e.DdM(3,ot)))}function Ds(o,s){1&o&&(e.ynx(0),e._UZ(1,"loading-indicator"),e.TgZ(2,"p",20),e._uU(3,"Getting the survey back..."),e.qZA(),e.BQk())}function Ys(o,s){1&o&&(e.ynx(0),e.TgZ(1,"span",24),e._uU(2,"\u{1f680}"),e.qZA(),e.TgZ(3,"p",20),e._uU(4,"Sending it to a black hole..."),e.qZA(),e.BQk())}function Rs(o,s){if(1&o&&(e.TgZ(0,"div",18),e.YNc(1,Qs,4,0,"ng-container",19),e.YNc(2,Ls,10,4,"ng-container",19),e.YNc(3,Bs,4,0,"ng-container",19),e.YNc(4,Ps,10,4,"ng-container",19),e.YNc(5,Ds,4,0,"ng-container",19),e.YNc(6,Ys,5,0,"ng-container",19),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isStatus(t.STATUS_UPDATING)),e.xp6(1),e.Q6J("ngIf",t.isStatus(t.STATUS_REQUESTED)),e.xp6(1),e.Q6J("ngIf",t.isStatus(t.STATUS_TRASHING)),e.xp6(1),e.Q6J("ngIf",t.isStatus(t.STATUS_TRASHED)),e.xp6(1),e.Q6J("ngIf",t.isStatus(t.STATUS_RESTORING)),e.xp6(1),e.Q6J("ngIf",t.isStatus(t.STATUS_REMOVING))}}const Qe=function(o){return{disabled:o}},js=function(){return{action:"delete-survey",target:"surveys"}},it=function(o){return["editor",o,"entries"]},zs=function(){return{action:"browse-entries",target:"entries"}},rt=function(o){return["editor",o]},Vs=function(){return{action:"edit-survey",target:"surveys"}},$s=function(){return{action:"preview-survey",target:"surveys"}},Gs=function(){return{action:"duplicate-survey",target:"surveys"}};let Oe=(()=>{class o{constructor(t,n,i,r){this.surveysComponent=t,this.surveysService=n,this.slots=i,this.statusService=r,this.onRemove=new e.vpe,this.STATUS_DEFAULT="default",this.STATUS_REQUESTED="requested",this.STATUS_TRASHING="trashing",this.STATUS_TRASHED="trashed",this.STATUS_RESTORING="restoring",this.STATUS_REMOVING="removing",this.STATUS_REMOVED="removed",this.STATUS_UPDATING="updating",this.status=this.STATUS_DEFAULT}isStatus(t){return this.status===t}requestRemoval(t){if(t.altKey)return this.trash();(0,h.fJ)(t)&&(this.status=this.STATUS_REQUESTED)}cancelRemoval(){this.status=this.STATUS_DEFAULT}trash(){var t=this;return(0,f.Z)(function*(){try{t.status=t.STATUS_TRASHING,t.status=(yield t.surveysService.trash(t.survey.uid)).success?t.STATUS_TRASHED:t.STATUS_TRASHING}catch(n){t.status=t.STATUS_DEFAULT,t.statusService.error({message:(0,h.EF)(n)})}})()}undoRemoval(){var t=this;return(0,f.Z)(function*(){t.status=t.STATUS_RESTORING,(yield t.surveysService.restore(t.survey.uid)).success&&(t.status=t.STATUS_DEFAULT)})()}remove(){var t=this;return(0,f.Z)(function*(){t.status=t.STATUS_REMOVING,(yield t.surveysService.delete(t.survey.uid)).success&&(t.status=t.STATUS_REMOVED,setTimeout(()=>{t.onRemove.emit(t.survey)},1e3))})()}duplicate(){var t=this;return(0,f.Z)(function*(){t.surveysService.duplicate(t.survey.uid).then(function(){var n=(0,f.Z)(function*(i){yield t.surveysComponent.router.navigate(["editor",i.data.uid],{relativeTo:t.surveysComponent.route})});return function(i){return n.apply(this,arguments)}}())})()}toggleEnabled(t){var n=this;return(0,f.Z)(function*(){n.status=n.STATUS_UPDATING;try{(yield n.surveysService.enabled(n.survey.uid,t.target.checked)).success&&(n.status=n.STATUS_DEFAULT)}catch(i){n.status=n.STATUS_DEFAULT,n.statusService.error({message:(0,h.EF)(i)})}})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Ce),e.Y36(A),e.Y36(ge),e.Y36(J.B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["survey-card"]],inputs:{survey:"survey"},outputs:{onRemove:"onRemove"},decls:52,vars:85,consts:[[1,"survey-card"],[1,"toolbar"],[1,"labeled-switch",3,"ngClass"],["type","checkbox",1,"switch",3,"ngModel","disabled","ngModelChange","change"],[1,"label"],["type","button",1,"button","-icon","-plain","material-icons",3,"clickTracker","disabled","click"],[1,"button","-icon","-plain","material-icons",3,"routerLink","clickTracker","ngClass"],["target","_blank",1,"button","-icon","-plain","material-icons",3,"href","clickTracker","click"],[1,"body",3,"routerLink"],[1,"icon","material-icons"],[1,"name"],[3,"ngComponentOutlet",4,"ngFor","ngForOf"],[1,"statistics",3,"routerLink"],[1,"segment"],[1,"value"],["translate","",1,"name"],["class","operation",4,"ngIf"],[3,"ngComponentOutlet"],[1,"operation"],[4,"ngIf"],["translate","",1,"description"],[1,"buttons"],["type","button","translate","",1,"button","-outline",3,"clickTracker","click"],["type","button","translate","",1,"button","-attention",3,"clickTracker","click"],[1,"icon"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e.ALo(3,"isCapable"),e.TgZ(4,"input",3),e.NdJ("ngModelChange",function(r){return n.survey.enabled=r})("change",function(r){return n.toggleEnabled(r)}),e.ALo(5,"isCapable"),e.qZA(),e.TgZ(6,"span",4),e._uU(7),e.ALo(8,"translate"),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"button",5),e.NdJ("click",function(r){return n.requestRemoval(r)}),e.ALo(11,"translate"),e.ALo(12,"isCapable"),e._uU(13,"delete "),e.qZA(),e.TgZ(14,"a",6),e.ALo(15,"translate"),e.ALo(16,"isCapable"),e._uU(17,"library_books"),e.qZA(),e.TgZ(18,"a",6),e.ALo(19,"translate"),e.ALo(20,"isCapable"),e._uU(21,"settings"),e.qZA(),e.TgZ(22,"a",7),e.NdJ("click",function(r){return r.stopPropagation()}),e.ALo(23,"translate"),e._uU(24,"open_in_new"),e.qZA(),e.TgZ(25,"button",5),e.NdJ("click",function(){return n.duplicate()}),e.ALo(26,"translate"),e.ALo(27,"isCapable"),e._uU(28,"content_copy "),e.qZA()(),e.TgZ(29,"div",8)(30,"div",9),e._uU(31,"wysiwyg"),e.qZA(),e.TgZ(32,"h4",10),e._uU(33),e.ALo(34,"translate"),e.qZA(),e._UZ(35,"date-notification"),e.YNc(36,Es,1,1,"ng-component",11),e.qZA(),e.TgZ(37,"div",12),e.ALo(38,"isCapable"),e.TgZ(39,"div",13)(40,"div",14),e._uU(41),e.ALo(42,"number"),e.qZA(),e.TgZ(43,"div",15),e._uU(44,"Entries"),e.qZA()(),e.TgZ(45,"div",13)(46,"div",14),e._uU(47),e.ALo(48,"number"),e.qZA(),e.TgZ(49,"div",15),e._uU(50,"Today"),e.qZA()()(),e.YNc(51,Rs,7,6,"div",16),e.qZA()),2&t&&(e.ekj("is-removed",n.isStatus(n.STATUS_REMOVED))("is-disabled",!n.survey.enabled),e.xp6(2),e.Q6J("ngClass",e.VKq(66,Qe,!e.lcZ(3,32,"update_survey"))),e.xp6(2),e.Q6J("ngModel",n.survey.enabled)("disabled",!e.lcZ(5,34,"update_survey")),e.xp6(3),e.Oqu(n.survey.enabled?e.lcZ(8,36,"Enabled"):e.lcZ(9,38,"Disabled")),e.xp6(3),e.Q6J("clickTracker",e.DdM(68,js))("disabled",!e.lcZ(12,42,"delete_survey")),e.uIk("data-tooltip",e.lcZ(11,40,"Delete")),e.xp6(4),e.Q6J("routerLink",e.VKq(69,it,n.survey.uid))("clickTracker",e.DdM(71,zs))("ngClass",e.VKq(72,Qe,!e.lcZ(16,46,"view_entries"))),e.uIk("data-tooltip",e.lcZ(15,44,"Browse entries")),e.xp6(4),e.Q6J("routerLink",e.VKq(74,rt,n.survey.uid))("clickTracker",e.DdM(76,Vs))("ngClass",e.VKq(77,Qe,!e.lcZ(20,50,"update_survey"))),e.uIk("data-tooltip",e.lcZ(19,48,"Edit")),e.xp6(4),e.Q6J("href",n.survey.url,e.LSH)("clickTracker",e.DdM(79,$s)),e.uIk("data-tooltip",e.lcZ(23,52,"Preview")),e.xp6(3),e.Q6J("clickTracker",e.DdM(80,Gs))("disabled",!e.lcZ(27,56,"create_survey")),e.uIk("data-tooltip",e.lcZ(26,54,"Duplicate")),e.xp6(4),e.Q6J("routerLink",e.VKq(81,rt,n.survey.uid)),e.xp6(4),e.Oqu(n.survey.name||e.lcZ(34,58,"Untitled #")+n.survey.id),e.xp6(3),e.Q6J("ngForOf",n.slots.get("card")),e.xp6(1),e.Q6J("routerLink",e.lcZ(38,60,"view_entries")?e.VKq(83,it,n.survey.uid):null),e.xp6(4),e.Oqu(e.lcZ(42,62,(null==n.survey.statistics?null:n.survey.statistics.total)||0)),e.xp6(6),e.Oqu(e.lcZ(48,64,(null==n.survey.statistics?null:n.survey.statistics.today)||0)),e.xp6(4),e.Q6J("ngIf",!n.isStatus(n.STATUS_DEFAULT)||n.isStatus(n.STATUS_UPDATING)))},encapsulation:2}),o})();var Q=g(2751);let Ws=(()=>{class o{constructor(t,n,i){this.surveys=t,this.route=n,this.router=i,this.onApply=new e.vpe,this.open=!1,this.filters={page:1,status:{open:!0,closed:!0}},this.cssClass=!0}get filtersForApply(){const t=(0,h.H4)(this.filters);if(t.status){delete t.status,t["status[]"]=[];for(const n in this.filters.status)this.filters.status[n]&&t["status[]"].push(n)}return t}apply(){var t=this;return(0,f.Z)(function*(){t.open=!1,yield t.router.navigate([],{relativeTo:t.route,queryParams:{filters:JSON.stringify((0,h.H4)(t.filters))}})})()}isOpen(){return this.open}toggle(){this.open=!this.open}setPage(t){this.filters.page=t,this.apply()}ngOnInit(){this.subscription=this.route.queryParams.subscribe(this.watchQueryParams.bind(this))}watchQueryParams(t){var n=this;return(0,f.Z)(function*(){n.filters={...n.filters,page:1,...JSON.parse(t.filters||"{}")},n.onApply.emit(n.filtersForApply)})()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t){t.stopPropagation()}onDismiss(t){this.open=!1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Ce),e.Y36(m.gz),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["surveys-filter"]],hostVars:2,hostBindings:function(t,n){1&t&&e.NdJ("click",function(r){return n.onClick(r)})("click",function(r){return n.onDismiss(r)},!1,e.evT),2&t&&e.ekj("surveys-filter",n.cssClass)},outputs:{onApply:"onApply"},decls:24,vars:4,consts:[[1,"button",3,"click"],[1,"icon","material-icons"],["translate",""],[1,"dialog"],[1,"body"],[1,"form-group"],["translate","",1,"label"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"footer"],["translate","",1,"button","-alt",3,"click"],["translate","",1,"button","-primary",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return n.toggle()}),e.TgZ(1,"span",1),e._uU(2,"filter_list"),e.qZA(),e.TgZ(3,"span",2),e._uU(4,"Filters"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"label",6),e._uU(9,"Status"),e.qZA(),e.TgZ(10,"div")(11,"label",7)(12,"input",8),e.NdJ("ngModelChange",function(r){return n.filters.status.open=r}),e.qZA(),e.TgZ(13,"span",2),e._uU(14,"Open"),e.qZA()(),e.TgZ(15,"label",7)(16,"input",8),e.NdJ("ngModelChange",function(r){return n.filters.status.closed=r}),e.qZA(),e.TgZ(17,"span",2),e._uU(18,"Closed"),e.qZA()()()()(),e.TgZ(19,"div",9)(20,"button",10),e.NdJ("click",function(){return n.toggle()}),e._uU(21,"Cancel"),e.qZA(),e.TgZ(22,"button",11),e.NdJ("click",function(){return n.apply()}),e._uU(23,"Apply"),e.qZA()()()),2&t&&(e.xp6(5),e.ekj("is-open",n.isOpen()),e.xp6(7),e.Q6J("ngModel",n.filters.status.open),e.xp6(4),e.Q6J("ngModel",n.filters.status.closed))},directives:[p.Pi,l.Wl,l.JJ,l.On],encapsulation:2}),o})();function Xs(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p",16),e.NdJ("keydown.enter",function(i){return i.preventDefault()})("ngModelChange",function(i){return e.CHM(t),e.oxw(2).section.description=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("ngModel",t.section.description),e.uIk("placeholder",e.lcZ(1,2,"Section description..."))}}function Ks(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(15).show()}),e.TgZ(1,"span",18),e._uU(2,"move_down"),e.qZA(),e.TgZ(3,"span",19),e._uU(4,"Re-order questions"),e.qZA()()}}function ea(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(15).hide()}),e.TgZ(1,"span",18),e._uU(2,"edit"),e.qZA(),e.TgZ(3,"span",19),e._uU(4,"Edit questions"),e.qZA()()}}function ta(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"inline-block-prompt",23),e.NdJ("onSelect",function(i){return e.CHM(t),e.oxw(3).addBlockFromPrompt(i)}),e.qZA()}if(2&o){const t=e.oxw(),n=t.$implicit,i=t.index,r=e.oxw(2);e.Q6J("section",r.section)("context",r.context)("block",n)("index",i)}}function na(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"block-editor",21),e.NdJ("onRemove",function(){const r=e.CHM(t).$implicit;return e.oxw(2).removeBlock(r)})("onDuplicate",function(){const r=e.CHM(t).$implicit;return e.oxw(2).duplicateBlock(r)})("onSetActive",function(i){return e.CHM(t),e.oxw(2).setActiveBlock(i)}),e.qZA(),e.YNc(2,ta,1,4,"inline-block-prompt",22),e.BQk()}if(2&o){const t=s.$implicit,n=s.index,i=s.last,r=e.oxw(2);e.xp6(1),e.Q6J("id","block-"+t.uid)("ngModel",t)("index",n)("active",t===r.activeBlock),e.xp6(1),e.Q6J("ngIf",!i)}}function oa(o,s){if(1&o&&e._UZ(0,"skip-logic",14),2&o){const t=e.oxw(3);e.Q6J("section",t.section)}}function ia(o,s){if(1&o&&(e.TgZ(0,"footer",24),e.YNc(1,oa,1,1,"skip-logic",25),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.hasSkipLogic)}}function ra(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2)(2,"header",3)(3,"h2",4),e.NdJ("keydown.enter",function(i){return i.preventDefault()})("ngModelChange",function(i){return e.CHM(t),e.oxw().section.title=i}),e.ALo(4,"translate"),e.qZA(),e.YNc(5,Xs,2,4,"p",5),e.qZA(),e.YNc(6,Ks,5,0,"button",6),e.YNc(7,ea,5,0,"button",7),e.qZA(),e.TgZ(8,"div",8)(9,"div",9)(10,"main",10),e.NdJ("cdkDropListDropped",function(i){return e.CHM(t),e.oxw().dropBlock(i)}),e.YNc(11,na,3,5,"ng-container",11),e.TgZ(12,"inline-block-prompt",12),e.NdJ("onSelect",function(i){return e.CHM(t),e.oxw().addBlockFromPrompt(i)}),e.qZA()(),e.YNc(13,ia,2,1,"footer",13),e.qZA()(),e._UZ(14,"reorder-blocks",14,15),e.BQk()}if(2&o){const t=e.MAs(15),n=e.oxw();e.xp6(3),e.Q6J("ngModel",n.section.title),e.uIk("placeholder",e.lcZ(4,11,"Section title...")),e.xp6(2),e.Q6J("ngIf",!n.isEditingContent()&&n.section.description),e.xp6(1),e.Q6J("ngIf",!t.visible),e.xp6(1),e.Q6J("ngIf",t.visible),e.xp6(4),e.Q6J("ngForOf",n.section.blocks),e.xp6(1),e.Q6J("section",n.section)("context",n.context)("isActive",!0),e.xp6(1),e.Q6J("ngIf",!n.isEditingContent()),e.xp6(1),e.Q6J("section",n.section)}}function sa(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",26)(1,"h6",27),e._uU(2,"Fields"),e.qZA(),e.TgZ(3,"div",28)(4,"block-types-grid",31),e.NdJ("onAddBlock",function(i){return e.CHM(t),e.oxw(2).addBlock(i)}),e.qZA()()()}}function aa(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",26)(1,"h6",27),e._uU(2,"Content"),e.qZA(),e.TgZ(3,"div",28)(4,"block-types-grid",29),e.NdJ("onAddBlock",function(i){return e.CHM(t),e.oxw().addBlock(i)}),e.qZA()()(),e.YNc(5,sa,5,0,"div",30)}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!t.isEditingContent())}}let me=(()=>{class o{constructor(t,n,i,r,a,d){this.surveysService=t,this.blockTypes=n,this.hostElement=i,this.statusService=r,this.moduleService=a,this.promotionService=d,this.propagateChange=_=>{},this.cssClass=!0,this.onActiveBlock=new e.vpe,this.activeBlock=null,this.hasSkipLogic=!1,this.toolbar=!0,this.context="all"}ngOnInit(){}get section(){return this._section}set section(t){this._section=t,this.propagateChange(this._section)}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){}setDisabledState(t){}writeValue(t){void 0!==t&&(this.section=t,this.activeBlock=null,this.settingsTemplate=null)}dropBlock(t){(0,v.bA)(this.section.blocks,t.previousIndex,t.currentIndex)}addBlockFromPrompt(t){this.setActiveBlock(null);const n=this.surveysService.getFreshBlockWith(t.blockType,t.args);null!==t.index?this.section.blocks.splice(t.index+1,0,n):this.section.blocks.push(n),this.scrollToBlock(n.uid),t.focusAfterInsertion&&this.focusOnBlock(n.uid)}addBlock(t,n=null){if(t.requiresUpgrade)return this.promotionService.upgradeNeeded();t.requiresActivation&&this.moduleService.activate(t.module).then(()=>{this.statusService.success({message:"An add-on has been automatically activated to enable this feature."})}),this.setActiveBlock(null);const i=this.surveysService.getFreshBlock(t);null!==n?this.section.blocks.splice(n+1,0,i):this.section.blocks.push(i),this.scrollToBlock(i.uid)}scrollToBlock(t){setTimeout(()=>{const n=this.hostElement.nativeElement.querySelector(`#block-${t}`);n?.scrollIntoView({behavior:"smooth",block:"start"}),n?.classList.add("is-highlighted"),setTimeout(()=>n?.classList.remove("is-highlighted"),1e3)},200)}focusOnBlock(t){setTimeout(()=>{const n=this.hostElement.nativeElement.querySelector(`#block-${t}`);n?.scrollIntoView({behavior:"smooth",block:"start"}),n?.querySelector("slate-editable")?.focus(),n?.querySelector("slate-editable")?.click()},200)}removeBlock(t){const n=this.section.blocks.indexOf(t);this.section.blocks.splice(n,1),this.setActiveBlock(null),this.stabilizeConditions(),this.surveysService.onDeleteQuestion.next({section:this.section.uid,question:t.uid})}duplicateBlock(t){const n=this.section.blocks.indexOf(t);let i=(0,h.Ee)(t,{});delete i.uid,i.hasOwnProperty("field")?delete i.field.uid:delete i.content.uid,i=this.surveysService.duplicateBlock(t),this.section.blocks.splice(n+1,0,i),this.setActiveBlock(null),this.scrollToBlock(i.uid)}stabilizeConditions(){const t=this.section.blocks.filter(r=>"question"===r.type).map(r=>r.uid),n=this.section.conditions.length;this.section.conditions=this.section.conditions.filter((r,a)=>t.includes(r.field));const i=this.section.conditions.length;i<n&&this.statusService.error({message:n-i+" related conditions were been removed"}),(0===this.section.conditions.length||this.section.blocks.length<1)&&(this.section.action="next",this.section.next_section_uid=null)}blur(){this.activeBlock=null,this.settingsTemplate=null}onBlurFromEscape(t){this.blur()}onBlurFromClick(t){const n=t.path||t.composedPath&&t.composedPath();n&&!n.splice(0,7).find(i=>i.classList.contains("question-editor"))&&this.blur()}setActiveBlock(t){this.settingsTemplate=t?.settingsTemplate,this.activeBlock=t?.block._block,this.onActiveBlock.emit(t)}isEditingContent(){return"content"===this.context}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A),e.Y36(M),e.Y36(e.SBq),e.Y36(J.B),e.Y36(E.s),e.Y36(le.q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["section-editor"]],hostVars:2,hostBindings:function(t,n){1&t&&e.NdJ("keydown.escape",function(r){return n.onBlurFromEscape(r)},!1,e.evT)("click",function(r){return n.onBlurFromClick(r)}),2&t&&e.ekj("section-editor",n.cssClass)},inputs:{hasSkipLogic:"hasSkipLogic",toolbar:"toolbar",context:"context"},outputs:{onActiveBlock:"onActiveBlock"},exportAs:["sectionEditor"],features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}])],decls:2,vars:1,consts:[[4,"ngIf"],["sidebar",""],[1,"section-toolbar"],[1,"header"],["contenteditable","",1,"title",3,"ngModel","keydown.enter","ngModelChange"],["class","description","contenteditable","",3,"ngModel","keydown.enter","ngModelChange",4,"ngIf"],["class","button -outline -secondary",3,"click",4,"ngIf"],["class","button -outline -primary",3,"click",4,"ngIf"],[1,"container-wrapper"],[1,"container"],["cdkDropList","","cdkDropListOrientation","vertical",1,"questions",3,"cdkDropListDropped"],[4,"ngFor","ngForOf"],[3,"section","context","isActive","onSelect"],["class","footer",4,"ngIf"],[3,"section"],["reorderBlocksComponent",""],["contenteditable","",1,"description",3,"ngModel","keydown.enter","ngModelChange"],[1,"button","-outline","-secondary",3,"click"],[1,"icon","material-icons"],["translate","",1,"text"],[1,"button","-outline","-primary",3,"click"],[3,"id","ngModel","index","active","onRemove","onDuplicate","onSetActive"],[3,"section","context","block","index","onSelect",4,"ngIf"],[3,"section","context","block","index","onSelect"],[1,"footer"],[3,"section",4,"ngIf"],[1,"question-settings"],["translate","",1,"title"],[1,"body"],["type","content",3,"onAddBlock"],["class","question-settings",4,"ngIf"],["type","question",3,"onAddBlock"]],template:function(t,n){1&t&&(e.YNc(0,ra,16,13,"ng-container",0),e.YNc(1,aa,6,1,"ng-template",1)),2&t&&e.Q6J("ngIf",n.section)},encapsulation:2}),o})(),N=(()=>{class o{constructor(){}rule(t,n,i={}){return t[n]?Array.isArray(t[n].options)&&(t[n].options={}):t[n]={enabled:!1,options:(0,h.Ee)({},i),messages:[]},t[n]}required(t){return this.rule(t,"required")}email(t){return this.rule(t,"email")}minLength(t){return this.rule(t,"minLength",{value:0})}maxLength(t){return this.rule(t,"maxLength",{value:0})}minValue(t){return this.rule(t,"minValue",{value:0})}maxValue(t){return this.rule(t,"maxValue",{value:0})}minSelection(t){return this.rule(t,"minSelection",{value:0})}maxSelection(t){return this.rule(t,"maxSelection",{value:0})}beforeDate(t){return this.rule(t,"beforeDate",{value:""})}afterDate(t){return this.rule(t,"afterDate",{value:""})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var R=g(8427),la=g(3550),ne=g(9094);const ca=["textMark",""];var oe=(()=>{return(o=oe||(oe={})).bold="bold",o.italic="italic",o.underline="underlined",o.strike="strike",o.code="code-line",oe;var o})();let pa=(()=>{class o extends ne.jq{constructor(t,n,i){super(t,i),this.elementRef=t,this.renderer2=n,this.attrValue="text",this.attributes=[]}applyTextMark(){this.attributes.forEach(t=>{this.renderer2.removeAttribute(this.elementRef.nativeElement,t)}),this.attributes=[];for(const t in this.text)if(Object.prototype.hasOwnProperty.call(this.text,t)&&"text"!==t){const n=`slate-${t}`;this.renderer2.setAttribute(this.elementRef.nativeElement,n,"true"),this.attributes.push(n)}}onContextChange(){super.onContextChange(),this.applyTextMark()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["span","textMark",""]],hostVars:1,hostBindings:function(t,n){2&t&&e.uIk("data-slate-node",n.attrValue)},features:[e.qOj],attrs:ca,decls:1,vars:2,consts:[[3,"context","viewContext"]],template:function(t,n){1&t&&e._UZ(0,"slate-leaves",0),2&t&&e.Q6J("context",n.context)("viewContext",n.viewContext)},directives:[ne.kU],encapsulation:2}),o})();const da=["heading_1"],ua=["heading_2"],ga=["heading_3"],_a=["blockquote"],ma=["ul"],ha=["ol"],fa=["li"],xa=["mention"],ba=["mentionsList"];function va(o,s){if(1&o&&e._UZ(0,"h1",12),2&o){const n=s.viewContext;e.Q6J("context",s.context)("viewContext",n)}}function Ca(o,s){if(1&o&&e._UZ(0,"h2",12),2&o){const n=s.viewContext;e.Q6J("context",s.context)("viewContext",n)}}function ya(o,s){if(1&o&&e._UZ(0,"h3",12),2&o){const n=s.viewContext;e.Q6J("context",s.context)("viewContext",n)}}function ka(o,s){if(1&o&&e._UZ(0,"blockquote",12),2&o){const n=s.viewContext;e.Q6J("context",s.context)("viewContext",n)}}function Ta(o,s){if(1&o&&e._UZ(0,"ul",12),2&o){const n=s.viewContext;e.Q6J("context",s.context)("viewContext",n)}}function wa(o,s){if(1&o&&e._UZ(0,"ol",12),2&o){const n=s.viewContext;e.Q6J("context",s.context)("viewContext",n)}}function Za(o,s){if(1&o&&e._UZ(0,"li",12),2&o){const n=s.viewContext;e.Q6J("context",s.context)("viewContext",n)}}function Aa(o,s){1&o&&(e.TgZ(0,"span",15),e._uU(1,"link_off"),e.qZA())}function Ma(o,s){if(1&o&&(e.TgZ(0,"span",13),e.YNc(1,Aa,2,0,"span",14),e._uU(2),e.qZA()),2&o){const t=s.context,n=s.viewContext,i=e.oxw();e.ekj("focus",t.selection)("not-found",!i.mentionsMap[t.element._uid]),e.Q6J("context",t)("viewContext",n),e.uIk("title",i.mentionsMap[t.element._uid]?"":"Reference not found"),e.xp6(1),e.Q6J("ngIf",!i.mentionsMap[t.element._uid]),e.xp6(1),e.hij(" @",i.mentionsMap[t.element._uid]||t.element.label," ")}}function qa(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"label",20)(2,"span",21),e._uU(3),e.qZA(),e._uU(4),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.icon,""),e.xp6(1),e.hij(" ",t.label," ")}}function Ja(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("mousedown",function(i){const a=e.CHM(t).$implicit;return e.oxw(2).mousedown(i,a)}),e.YNc(1,qa,5,2,"ng-container",19),e.qZA()}if(2&o){const t=s.$implicit,n=s.index,i=e.oxw().$implicit,r=e.oxw();e.ekj("active",n===r.activeIndex),e.Q6J("title",t.label),e.xp6(1),e.Q6J("ngIf",t.group===i.name)}}function Sa(o,s){if(1&o&&(e.TgZ(0,"div")(1,"span",16),e._uU(2),e.qZA(),e.YNc(3,Ja,2,4,"div",17),e.qZA()),2&o){const t=s.$implicit,n=e.oxw();e.xp6(2),e.hij("",t.name," "),e.xp6(1),e.Q6J("ngForOf",n.filteredMentions)}}let Le=(()=>{class o{constructor(t,n){this.renderer2=t,this.cdr=n,this.filteredMentions=[],this.mentions=[],this.classes=[],this.style="",this.searchText="",this.trigger="@",this._activeIndex=0,this._value=[],this.propagateChange=i=>{},this.editor=Ua((0,la.VC)((0,ne.G6)((0,R.Jh)()))),this.renderElement=i=>"heading-one"===i.type?this.headingOneTemplate:"heading-two"===i.type?this.headingTwoTemplate:"heading-three"===i.type?this.headingThreeTemplate:"block-quote"===i.type?this.blockquoteTemplate:"numbered-list"===i.type?this.olTemplate:"bulleted-list"===i.type?this.ulTemplate:"list-item"===i.type?this.liTemplate:"mention"===i.type?this.mentionTemplate:void 0,this.renderText=i=>i[oe.bold]||i[oe.italic]||i[oe.code]||i[oe.underline]?pa:null,this.onKeydown=i=>{if(this.target)switch(i.key){case"ArrowDown":i.preventDefault(),this.activeIndex===this.filteredMentions.length-1?this.activeIndex=0:this.activeIndex++,this.cdr.detectChanges();break;case"ArrowUp":i.preventDefault(),0===this.activeIndex?this.activeIndex=this.filteredMentions.length-1:this.activeIndex--,this.cdr.detectChanges();break;case"Tab":case"Enter":i.preventDefault(),this.removeSearchText(),st(this.editor,this.filteredMentions[this.activeIndex].label,{_uid:this.filteredMentions[this.activeIndex].uid,fallback:""}),this.cdr.detectChanges();break;case"Escape":i.preventDefault(),this.target=null,this.updateSuggestionsLocation(),this.cdr.detectChanges()}}}get mentionsMap(){return Object.fromEntries(this.mentions.map(t=>[t.uid,t.label]))}get groupedMentions(){let t=[];for(const n of this.mentions)t[n.group]=t[n.group]||[],t[n.group].push(n);return t=Object.entries(t).map(n=>({name:n[0],mentions:n[1]})),t}get allClasses(){return["slate-angular-editor",...this.classes]}get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t,setTimeout(this.refreshMentionsListPosition.bind(this),100)}get value(){return this._value}set value(t){this._value=t,this.propagateChange(this._value)}writeValue(t){void 0!==t&&("string"==typeof t&&(t=[{type:"paragraph",children:[{text:t}]}]),this.value=t)}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){}setDisabledState(t){}ngOnInit(){}valueChange(t){const{selection:n,operations:i}=this.editor;if("insert_text"===i[0].type&&i[0].text===this.trigger)return this.target={anchor:R.ML.before(this.editor,n.anchor),focus:n.focus},this.searchText="",this.activeIndex=0,void this.updateSuggestionsLocation();if(n&&R.e6.isCollapsed(n)&&this.target){const r=R.ML.range(this.editor,this.target.anchor,n.focus),a=R.ML.string(this.editor,r);if(a&&a.match(/^@(\w*)$/))return this.searchText=a.slice(1),this.activeIndex=0,void this.updateSuggestionsLocation()}this.target&&(this.target=null,this.updateSuggestionsLocation())}updateSuggestionsLocation(){if(this.filteredMentions=this.mentions.filter(t=>t.label.toLowerCase().includes(this.searchText.toLowerCase())),this.target&&this.filteredMentions.length){const n=ne.Jj.toDOMRange(this.editor,this.target).getBoundingClientRect();return this.renderer2.setStyle(this.mentionsList.nativeElement,"left",`${n.left+window.pageXOffset}px`),void this.renderer2.setStyle(this.mentionsList.nativeElement,"top",`${n.top+window.pageYOffset+25}px`)}this.renderer2.removeStyle(this.mentionsList.nativeElement,"left"),this.renderer2.removeStyle(this.mentionsList.nativeElement,"top")}mousedown(t,n){t.preventDefault(),this.removeSearchText(),st(this.editor,n.label,{_uid:n.uid,fallback:""})}removeSearchText(){R.YR.select(this.editor,{anchor:{path:this.editor.selection.anchor.path,offset:this.editor.selection.anchor.offset-this.searchText.length-1},focus:this.editor.selection.focus}),R.YR.delete(this.editor)}refreshMentionsListPosition(){this.mentionsList.nativeElement.querySelector(".active")?.scrollIntoView({behavior:"smooth"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.Qsj),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["inline-editor"]],viewQuery:function(t,n){if(1&t&&(e.Gf(da,7,e.Rgc),e.Gf(ua,7,e.Rgc),e.Gf(ga,7,e.Rgc),e.Gf(_a,7,e.Rgc),e.Gf(ma,7,e.Rgc),e.Gf(ha,7,e.Rgc),e.Gf(fa,7,e.Rgc),e.Gf(xa,7,e.Rgc),e.Gf(ba,7)),2&t){let i;e.iGM(i=e.CRH())&&(n.headingOneTemplate=i.first),e.iGM(i=e.CRH())&&(n.headingTwoTemplate=i.first),e.iGM(i=e.CRH())&&(n.headingThreeTemplate=i.first),e.iGM(i=e.CRH())&&(n.blockquoteTemplate=i.first),e.iGM(i=e.CRH())&&(n.ulTemplate=i.first),e.iGM(i=e.CRH())&&(n.olTemplate=i.first),e.iGM(i=e.CRH())&&(n.liTemplate=i.first),e.iGM(i=e.CRH())&&(n.mentionTemplate=i.first),e.iGM(i=e.CRH())&&(n.mentionsList=i.first)}},inputs:{mentions:"mentions",classes:"classes",style:"style"},features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}])],decls:21,vars:12,consts:[[3,"editor","ngClass","ngModel","renderElement","keydown","renderText","ngModelChange"],["heading_1",""],["heading_2",""],["heading_3",""],["blockquote",""],["ul",""],["ol",""],["li",""],["mention",""],[1,"mention-suggestion-list"],["mentionsList",""],[4,"ngFor","ngForOf"],["slateElement","",3,"context","viewContext"],["slateElement","",1,"mention-view",3,"context","viewContext"],["class","material-icons",4,"ngIf"],[1,"material-icons"],[2,"font-weight","bold"],[3,"active","title","mousedown",4,"ngFor","ngForOf"],[3,"title","mousedown"],[4,"ngIf"],[1,"hstack","mb-0"],[1,"icon","material-icons"]],template:function(t,n){1&t&&(e.TgZ(0,"slate-editable",0),e.NdJ("ngModelChange",function(r){return n.value=r})("ngModelChange",function(r){return n.valueChange(r)}),e.ALo(1,"translate"),e.YNc(2,va,1,2,"ng-template",null,1,e.W1O),e.YNc(4,Ca,1,2,"ng-template",null,2,e.W1O),e.YNc(6,ya,1,2,"ng-template",null,3,e.W1O),e.YNc(8,ka,1,2,"ng-template",null,4,e.W1O),e.YNc(10,Ta,1,2,"ng-template",null,5,e.W1O),e.YNc(12,wa,1,2,"ng-template",null,6,e.W1O),e.YNc(14,Za,1,2,"ng-template",null,7,e.W1O),e.qZA(),e.YNc(16,Ma,3,9,"ng-template",null,8,e.W1O),e.TgZ(18,"div",9,10),e.YNc(20,Sa,4,2,"div",11),e.qZA()),2&t&&(e.Akn(n.style),e.Q6J("editor",n.editor)("ngClass",n.allClasses)("ngModel",n.value)("renderElement",n.renderElement)("keydown",n.onKeydown)("renderText",n.renderText),e.uIk("placeholder",e.lcZ(1,10,"Question...")),e.xp6(20),e.Q6J("ngForOf",n.groupedMentions))},directives:[ne.jr,c.mk,l.JJ,l.On,ne.k9,c.O5,c.sg],pipes:[p.X$],encapsulation:2}),o})();const Ua=o=>{const{isVoid:s,isInline:t}=o;return o.isInline=n=>"mention"===n.type||t(n),o.isVoid=n=>"mention"===n.type||s(n),o},st=(o,s,t)=>{const n={type:"mention",label:s,...t,children:[{text:""}]};R.YR.insertNodes(o,n),R.YR.move(o)};class I{constructor(s){this.el=s}ngAfterContentInit(){this.el.nativeElement.setAttribute("contenteditable",I.isFirefox?"":"plaintext-only"),I.isFirefox&&this.el.nativeElement.addEventListener("drop",s=>s.preventDefault(),!1),this.el.nativeElement.addEventListener("paste",s=>{s.preventDefault();const t=s.clipboardData.getData("Text").trim().replaceAll(/<div>/gim,"__BREAKLINE__").replaceAll(/<(?!br\s*\/?)[^>]+>/gim,"").replaceAll("&nbsp;"," ").replaceAll("__BREAKLINE__","<br>");document.execCommand("inserttext",!1,t)},!1)}}function Na(o,s){1&o&&e._UZ(0,"div")}function Ia(o,s){if(1&o&&e.GkF(0,15),2&o){const t=e.oxw(2);e.Q6J("ngTemplateOutlet",t.toolbarTemplate)}}function Fa(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(i){e.CHM(t);const r=e.oxw(3);return i.stopPropagation(),r.toggleDescription()}),e.ALo(1,"translate"),e._uU(2," insert_comment "),e.qZA()}if(2&o){const t=e.oxw(3);e.ekj("is-active",t.isDescriptionVisible),e.uIk("data-tooltip",e.lcZ(1,3,"Description"))}}function Ea(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.YNc(1,Fa,3,5,"button",16),e.TgZ(2,"button",17),e.NdJ("click",function(i){e.CHM(t);const r=e.oxw(2);return i.stopPropagation(),r.toggleRequired()}),e.ALo(3,"translate"),e._uU(4," emergency "),e.qZA(),e._UZ(5,"span",18),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.block.description),e.xp6(1),e.ekj("is-required",t.isRequired()),e.uIk("data-tooltip",e.lcZ(3,4,"Required"))}}function Qa(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p",22),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).block.description=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(3);e.Q6J("ngModel",t.block.description),e.uIk("placeholder",e.lcZ(1,2,"Description..."))}}function Oa(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"inline-editor",20),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).block.title_raw=i})("ngModelChange",function(){e.CHM(t);const i=e.oxw(2);return i.updateTitle(i.block)}),e.qZA(),e.YNc(2,Qa,2,4,"p",21),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.block.title_raw)("mentions",t.availableBlocks),e.xp6(1),e.Q6J("ngIf",t.isDescriptionVisible)}}function La(o,s){if(1&o&&(e.TgZ(0,"p",23),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij("This question was created using ",(null==t.block.field||null==t.block.field.meta?null:t.block.field.meta.provider)||e.lcZ(2,1,"an extension"),", you need to enable it to continue editing this question. ")}}function Ba(o,s){}function Ha(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(){return e.CHM(t),e.oxw().setActive()})("keyup.escape",function(){return e.CHM(t),e.oxw().setInactive()}),e.YNc(1,Na,1,0,"div",2),e.TgZ(2,"header",3)(3,"span",4),e.ALo(4,"translate"),e._uU(5,"drag_indicator"),e.qZA(),e.TgZ(6,"span",5),e._uU(7),e.qZA(),e.YNc(8,Ia,1,1,"ng-container",6),e.YNc(9,Ea,6,6,"ng-container",7),e.TgZ(10,"button",8),e.NdJ("click",function(i){e.CHM(t);const r=e.oxw();return i.stopPropagation(),r.remove(i)}),e.ALo(11,"translate"),e._uU(12," delete_forever "),e.qZA(),e.TgZ(13,"button",9),e.NdJ("click",function(i){e.CHM(t);const r=e.oxw();return i.stopPropagation(),r.duplicate(i)}),e.ALo(14,"translate"),e._uU(15," filter_none "),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleActive()}),e.ALo(17,"translate"),e._uU(18," tune "),e.qZA()(),e.TgZ(19,"main",11),e.YNc(20,Oa,3,3,"ng-container",7),e.YNc(21,La,3,3,"p",12),e.YNc(22,Ba,0,0,"ng-template",13,14,e.W1O),e.qZA()()}if(2&o){const t=e.MAs(23),n=e.oxw();e.ekj("is-active",n.active),e.xp6(3),e.uIk("data-tooltip",e.lcZ(4,13,"Re-order")),e.xp6(4),e.Oqu(n.blockType.name),e.xp6(1),e.Q6J("ngIf",n.toolbarTemplate),e.xp6(1),e.Q6J("ngIf","question"===n.blockType.category),e.xp6(1),e.uIk("data-tooltip",e.lcZ(11,15,"Delete")),e.xp6(3),e.uIk("data-tooltip",e.lcZ(14,17,"Duplicate")),e.xp6(3),e.uIk("data-tooltip",e.lcZ(17,19,"Settings")),e.xp6(4),e.Q6J("ngIf","question"===n.blockType.category),e.xp6(1),e.Q6J("ngIf",!n.blockComponent)("ngIfElse",t),e.xp6(1),e.Q6J("ngComponentOutlet",n.blockComponent)}}I.isFirefox=navigator.userAgent.includes("Firefox"),I.\u0275fac=function(s){return new(s||I)(e.Y36(e.SBq))},I.\u0275dir=e.lG2({type:I,selectors:[["","contenteditable",""]]});let k=(()=>{class o{constructor(t,n,i,r,a){this.validations=t,this.blockTypes=n,this.surveysService=i,this.sectionEditor=r,this.editor=a,this.index=0,this.onRemove=new e.vpe,this.onDuplicate=new e.vpe,this.active=!1,this.onSetActive=new e.vpe,this.propagateChange=d=>{},this.cssClass=!0,this._isDescriptionVisible=!1}ngOnInit(){}get block(){return this._block}set block(t){this._block=t,this.propagateChange(this._block)}writeValue(t){void 0!==t&&(this._block=t,t&&(t.title_raw=t.title_raw||t.title,"content"===t.category&&(t.content.value_raw=t.content.value_raw||t.content.value||""),this._isDescriptionVisible=!!t.description?.length,this._block?.field&&Array.isArray(this._block.field.options)&&(this._block.field.options={})))}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){}setDisabledState(t){}toggleActive(){this.onSetActive.emit(this.active?null:this)}setActive(){this.onSetActive.emit(this)}setInactive(){this.onSetActive.emit(null)}remove(t){(0,h.fJ)(t)&&this.onRemove.emit(this.block)}duplicate(t){t.stopPropagation(),t.stopPropagation(),this.onDuplicate.emit(this.block)}get blockComponent(){return this.blockTypes.componentOf(this._block.typeId)}get blockType(){return this.blockTypes.get(this._block.typeId)}setAlignment(t){this.block.content.options.alignment=t}isAlignment(t){return this.block.content.options.alignment===t}isRequired(){return this._block.field.validations.required?.enabled}toggleRequired(){const t=this.validations.required(this._block.field.validations).enabled;this.validations.required(this._block.field.validations).enabled=!t}setTitle(t){this._block.title=t.target.innerHTML.trim().replaceAll(/<div>/gim,"__BREAKLINE__").replaceAll(/<(?!br\s*\/?)[^>]+>/gim,"").replaceAll("&nbsp;"," ").replaceAll("__BREAKLINE__","<br>")}get availableBlocks(){let t=[];const n=this.editor.survey.sections.findIndex(r=>r.uid===this.sectionEditor.section.uid);let i=[];return this.editor.survey.sections.forEach((r,a)=>{const d=""!==r.title?r.title:`Section #${a+1}`;r.blocks.forEach(_=>{if(a<=n&&"question"===_.category&&_.uid!==this.block.uid){let x=_.title.trim();const C=i.filter(y=>y===x).length;0!==C&&(1===C&&(t=t.map(y=>(y.label===x&&(y.label=`${x} (1)`),y))),x=`${x} (${C+1})`),i.push(_.title.trim()),-1!==_.typeId.indexOf("matrix")?(t.push({label:`${x} - All criteria`,uid:_.uid,group:d,icon:this.blockTypes.get(_.typeId).icon}),_.field.options.rows?.forEach((y,z)=>t.push({label:`${x} - ${""!==y.label?y.label:`Criteria #${z+1}`}`,uid:y.uid,group:d,icon:this.blockTypes.get(_.typeId).icon}))):t.push({label:x,uid:_.uid,group:d,icon:this.blockTypes.get(_.typeId).icon})}}),i=[]}),t}get isDescriptionVisible(){return this._isDescriptionVisible||this.block.description.length}set isDescriptionVisible(t){this._isDescriptionVisible=t}toggleDescription(){this.isDescriptionVisible=!this.isDescriptionVisible}updateTitle(t){t.title_raw&&(t.title=be.compileSlateBlocksToText(t.title_raw))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(N),e.Y36(M),e.Y36(A),e.Y36(me),e.Y36(Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["block-editor"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("question-editor",n.cssClass)},inputs:{index:"index",active:"active"},outputs:{onRemove:"onRemove",onDuplicate:"onDuplicate",onSetActive:"onSetActive"},features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}])],decls:1,vars:1,consts:[["class","question","cdkDrag","",3,"is-active","click","keyup.escape",4,"ngIf"],["cdkDrag","",1,"question",3,"click","keyup.escape"],[4,"cdkDragPreview"],[1,"toolbar"],["cdkDragHandle","",1,"handle","material-icons"],[1,"type"],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngIf"],["type","button",1,"remove","button","-plain","-icon","material-icons",3,"click"],["type","button",1,"duplicate","button","-plain","-icon","material-icons",3,"click"],["type","button",1,"settings","button","-plain","-icon","material-icons",3,"click"],[1,"content"],["class","message -attention","translate","translate",4,"ngIf","ngIfElse"],[3,"ngComponentOutlet"],["fieldSettings",""],[3,"ngTemplateOutlet"],["type","button","class","description button -plain -icon material-icons -toolbar",3,"is-active","click",4,"ngIf"],["type","button",1,"required","button","-plain","-icon","material-icons","-toolbar",3,"click"],[1,"separator"],["type","button",1,"description","button","-plain","-icon","material-icons","-toolbar",3,"click"],[1,"title",3,"ngModel","mentions","ngModelChange"],["class","description","contenteditable","",3,"ngModel","ngModelChange",4,"ngIf"],["contenteditable","",1,"description",3,"ngModel","ngModelChange"],["translate","translate",1,"message","-attention"]],template:function(t,n){1&t&&e.YNc(0,Ha,24,21,"div",0),2&t&&e.Q6J("ngIf",n.block)},directives:[c.O5,v.Zt,v.pV,v.Bh,c.tP,Le,l.JJ,l.On,Q.q,I,p.Pi,c.$G],pipes:[p.X$],encapsulation:2}),o})(),T=(()=>{class o{constructor(t,n){this.blockEditor=t,this.templateRef=n,t.settingsTemplate=n}ngOnDestroy(){this.blockEditor.settingsTemplate=null}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(e.Rgc))},o.\u0275dir=e.lG2({type:o,selectors:[["","block-settings",""]]}),o})();function Pa(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",20),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw(2);return r.validations.minLength(r.question.field.validations).options.value=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("placeholder",e.lcZ(1,2,"Value"))("ngModel",t.validations.minLength(t.question.field.validations).options.value)}}function Da(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",20),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw(2);return r.validations.maxLength(r.question.field.validations).options.value=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("placeholder",e.lcZ(1,2,"Value"))("ngModel",t.validations.maxLength(t.question.field.validations).options.value)}}function Ya(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",3)(1,"h6",4),e._uU(2,"Validations"),e.qZA(),e.TgZ(3,"div",5)(4,"label",6)(5,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.required(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(6,"span",8),e._uU(7,"Required"),e.qZA()(),e.TgZ(8,"label",6)(9,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.email(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(10,"span",8),e._uU(11,"Email Address"),e.qZA()(),e.TgZ(12,"label",6)(13,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.minLength(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(14,"span",8),e._uU(15,"Minimum length"),e.qZA(),e.YNc(16,Pa,2,4,"input",9),e.qZA(),e.TgZ(17,"label",6)(18,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.maxLength(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(19,"span",8),e._uU(20,"Maximum length"),e.qZA(),e.YNc(21,Da,2,4,"input",9),e.qZA()()(),e.TgZ(22,"section",3)(23,"h6",4),e._uU(24,"Options"),e.qZA(),e.TgZ(25,"div",5)(26,"div",10)(27,"label",11),e._uU(28,"Default value"),e.qZA(),e.TgZ(29,"input",12),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.defaultValue=i}),e.qZA()(),e.TgZ(30,"div",13)(31,"label",14),e._uU(32,"Placeholder"),e.qZA(),e.TgZ(33,"input",15),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.placeholder=i}),e.qZA()()()(),e.TgZ(34,"section",3)(35,"h6",4),e._uU(36,"Advanced"),e.qZA(),e.TgZ(37,"div",5)(38,"div",10)(39,"label",16),e._uU(40,"CSS Class"),e.qZA(),e.TgZ(41,"input",17),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.cssClass=i}),e.qZA()(),e.TgZ(42,"div",13)(43,"label",18),e._uU(44,"Admin label"),e.qZA(),e.TgZ(45,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.label=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.validations.required(t.question.field.validations).enabled),e.xp6(4),e.Q6J("ngModel",t.validations.email(t.question.field.validations).enabled),e.xp6(4),e.Q6J("ngModel",t.validations.minLength(t.question.field.validations).enabled),e.xp6(3),e.Q6J("ngIf",t.validations.minLength(t.question.field.validations).enabled),e.xp6(2),e.Q6J("ngModel",t.validations.maxLength(t.question.field.validations).enabled),e.xp6(3),e.Q6J("ngIf",t.validations.maxLength(t.question.field.validations).enabled),e.xp6(8),e.Q6J("ngModel",t.question.field.options.defaultValue),e.xp6(4),e.Q6J("ngModel",t.question.field.options.placeholder),e.xp6(8),e.Q6J("ngModel",t.question.field.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.question.label)}}let Ra=(()=>{class o{constructor(t,n){this.blockEditor=t,this.validations=n,this.question=this.blockEditor.block}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(N))},o.\u0275cmp=e.Xpm({type:o,selectors:[["text-field"]],decls:4,vars:3,consts:[["type","text",1,"input",3,"placeholder","input"],["preview",""],["block-settings",""],[1,"question-settings"],["translate","",1,"title"],[1,"body"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],["translate","",1,"label"],["type","text","class","input -small",3,"placeholder","ngModel","ngModelChange",4,"ngIf"],[1,"form-group"],["for","question_default_value","translate",""],["id","question_default_value","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_placeholder","translate",""],["id","question_placeholder","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["type","text",1,"input","-small",3,"placeholder","ngModel","ngModelChange"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"input",0,1),e.NdJ("input",function(){e.CHM(i);const a=e.MAs(1);return a.value?a.value="":null}),e.ALo(2,"translate"),e.qZA(),e.YNc(3,Ya,46,10,"ng-template",2)}2&t&&e.Q6J("placeholder",n.question.field.options.placeholder||e.lcZ(2,1,"Answer..."))},directives:[T,p.Pi,l.Wl,l.JJ,l.On,c.O5,l.Fj],pipes:[p.X$],encapsulation:2}),o})();function ja(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",22),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw(2);return r.validations.minLength(r.question.field.validations).options.value=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("placeholder",e.lcZ(1,2,"Value"))("ngModel",t.validations.minLength(t.question.field.validations).options.value)}}function za(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",22),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw(2);return r.validations.maxLength(r.question.field.validations).options.value=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("placeholder",e.lcZ(1,2,"Value"))("ngModel",t.validations.maxLength(t.question.field.validations).options.value)}}function Va(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",3)(1,"h6",4),e._uU(2,"Validations"),e.qZA(),e.TgZ(3,"div",5)(4,"label",6)(5,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.required(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(6,"span",8),e._uU(7,"Required"),e.qZA()(),e.TgZ(8,"label",6)(9,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.minLength(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(10,"span",8),e._uU(11,"Minimum length"),e.qZA(),e.YNc(12,ja,2,4,"input",9),e.qZA(),e.TgZ(13,"label",6)(14,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.maxLength(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(15,"span",8),e._uU(16,"Maximum length"),e.qZA(),e.YNc(17,za,2,4,"input",9),e.qZA()()(),e.TgZ(18,"section",3)(19,"h6",4),e._uU(20,"Options"),e.qZA(),e.TgZ(21,"div",5)(22,"div",10)(23,"label",11),e._uU(24,"Default value"),e.qZA(),e.TgZ(25,"textarea",12),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.defaultValue=i}),e.qZA()(),e.TgZ(26,"div",13)(27,"label",14),e._uU(28,"Number of rows"),e.qZA(),e.TgZ(29,"input",15),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.rows=i}),e.qZA()(),e.TgZ(30,"div",13)(31,"label",16),e._uU(32,"Placeholder"),e.qZA(),e.TgZ(33,"input",17),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.placeholder=i}),e.qZA()()()(),e.TgZ(34,"section",3)(35,"h6",4),e._uU(36,"Advanced"),e.qZA(),e.TgZ(37,"div",5)(38,"div",10)(39,"label",18),e._uU(40,"CSS Class"),e.qZA(),e.TgZ(41,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.cssClass=i}),e.qZA()(),e.TgZ(42,"div",13)(43,"label",20),e._uU(44,"Admin label"),e.qZA(),e.TgZ(45,"input",21),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.label=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.validations.required(t.question.field.validations).enabled),e.xp6(4),e.Q6J("ngModel",t.validations.minLength(t.question.field.validations).enabled),e.xp6(3),e.Q6J("ngIf",t.validations.minLength(t.question.field.validations).enabled),e.xp6(2),e.Q6J("ngModel",t.validations.maxLength(t.question.field.validations).enabled),e.xp6(3),e.Q6J("ngIf",t.validations.maxLength(t.question.field.validations).enabled),e.xp6(8),e.Q6J("ngModel",t.question.field.options.defaultValue),e.xp6(4),e.Q6J("ngModel",t.question.field.options.rows),e.xp6(4),e.Q6J("ngModel",t.question.field.options.placeholder),e.xp6(8),e.Q6J("ngModel",t.question.field.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.question.label)}}let $a=(()=>{class o{constructor(t,n){this.blockEditor=t,this.validations=n,this.question=this.blockEditor.block}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(N))},o.\u0275cmp=e.Xpm({type:o,selectors:[["paragraph-field"]],decls:4,vars:4,consts:[[1,"input",2,"resize","none",3,"rows","placeholder","input"],["preview",""],["block-settings",""],[1,"question-settings"],["translate","",1,"title"],[1,"body"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],["translate","",1,"label"],["type","text","class","input",3,"placeholder","ngModel","ngModelChange",4,"ngIf"],[1,"form-group"],["for","question_default_value","translate",""],["id","question_default_value","type","text","rows","2",1,"input",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_number_of_rows","translate",""],["id","question_number_of_rows","type","number","min","1","value","3",1,"input","-small",3,"ngModel","ngModelChange"],["for","question_placeholder","translate",""],["id","question_placeholder","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["type","text",1,"input",3,"placeholder","ngModel","ngModelChange"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"textarea",0,1),e.NdJ("input",function(){e.CHM(i);const a=e.MAs(1);return a.value?a.value="":null}),e.ALo(2,"translate"),e.qZA(),e.YNc(3,Va,46,10,"ng-template",2)}2&t&&e.Q6J("rows",n.question.field.options.rows||3)("placeholder",n.question.field.options.placeholder||e.lcZ(2,2,"User answer..."))},directives:[T,p.Pi,l.Wl,l.JJ,l.On,c.O5,l.Fj,l.qQ,l.wV],pipes:[p.X$],encapsulation:2}),o})();function Ga(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p",9),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw().index;return e.oxw().question.field.options.choices[r].description=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw().index,n=e.oxw();e.Q6J("ngModel",n.question.field.options.choices[t].description)("id","input-description-"+n.question.uid+"-"+t),e.uIk("placeholder",e.lcZ(1,3,"Choice description"))}}function Wa(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",4),e._UZ(1,"input",5),e.TgZ(2,"div",6)(3,"p",7),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).index;return e.oxw().question.field.options.choices[a].label=i})("keydown.enter",function(i){const a=e.CHM(t).index;return e.oxw().insertChoice(i,a)})("keydown.backspace",function(i){const a=e.CHM(t).$implicit;return e.oxw().removeChoice(a,i)})("keydown.delete",function(i){const a=e.CHM(t).$implicit;return e.oxw().removeChoice(a,i)}),e.ALo(4,"translate"),e.qZA(),e.YNc(5,Ga,2,5,"ng-template",8),e.qZA()()}if(2&o){const t=s.$implicit,n=s.index,i=e.oxw();e.xp6(1),e.Q6J("name",i.question.uid)("checked",t.uid==i.question.field.options.defaultValue),e.xp6(2),e.Q6J("ngModel",i.question.field.options.choices[n].label)("id","input-"+i.question.uid+"-"+n),e.uIk("placeholder",e.lcZ(4,6,"Choice label")),e.xp6(2),e.Q6J("ngIf",i.question.field.options.showDescriptions)}}function Xa(o,s){if(1&o&&(e.TgZ(0,"div",10),e._UZ(1,"input",11),e.TgZ(2,"p",12),e._uU(3,"Other"),e.qZA()()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("name",t.question.uid)}}function Ka(o,s){1&o&&e._UZ(0,"span")}function el(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"label",42),e.YNc(1,Ka,1,0,"span",43),e.TgZ(2,"button",44),e._uU(3,"drag_indicator "),e.qZA(),e.TgZ(4,"input",45),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).index;return e.oxw(3).question.field.options.choices[a].label=i}),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"button",46),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw(3).removeChoice(a,i)}),e.ALo(7,"translate"),e._uU(8," delete_forever "),e.qZA()()}if(2&o){const t=s.index,n=e.oxw(3);e.xp6(4),e.Q6J("placeholder",e.lcZ(5,4,"Item"))("ngModel",n.question.field.options.choices[t].label),e.xp6(2),e.Q6J("disabled",n.question.field.options.choices.length<=2),e.uIk("data-tooltip",e.lcZ(7,6,"Delete choice"))}}function tl(o,s){if(1&o&&e.YNc(0,el,9,8,"label",41),2&o){const t=e.oxw(2);e.Q6J("ngForOf",t.question.field.options.choices)("ngForTrackBy",t.trackByIndex)}}function nl(o,s){1&o&&e._UZ(0,"span")}function ol(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",48),e.YNc(1,nl,1,0,"span",43),e.TgZ(2,"label",17)(3,"button",44),e._uU(4,"drag_indicator "),e.qZA(),e.TgZ(5,"input",45),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).index;return e.oxw(3).question.field.options.choices[a].label=i}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",46),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw(3).removeChoice(a,i)}),e.ALo(8,"translate"),e._uU(9," delete_forever "),e.qZA()(),e.TgZ(10,"label",49)(11,"textarea",50),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).index;return e.oxw(3).question.field.options.choices[a].description=i}),e.ALo(12,"translate"),e.qZA()()()}if(2&o){const t=s.index,n=e.oxw(3);e.xp6(5),e.Q6J("placeholder",e.lcZ(6,6,"Item"))("ngModel",n.question.field.options.choices[t].label),e.xp6(2),e.Q6J("disabled",n.question.field.options.choices.length<=2),e.uIk("data-tooltip",e.lcZ(8,8,"Delete choice")),e.xp6(4),e.Q6J("ngModel",n.question.field.options.choices[t].description)("placeholder",e.lcZ(12,10,"Description"))}}function il(o,s){if(1&o&&e.YNc(0,ol,13,12,"div",47),2&o){const t=e.oxw(2);e.Q6J("ngForOf",t.question.field.options.choices)("ngForTrackBy",t.trackByIndex)}}function rl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",51)(1,"textarea",52),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).bulk.content=i}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",53),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).insertBulk()}),e._uU(4,"Insert"),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.bulk.content)("placeholder",e.lcZ(2,2,"One item per line..."))}}function sl(o,s){if(1&o&&e._UZ(0,"option",54),2&o){const t=s.$implicit;e.Q6J("label",t.label)("ngValue",t.uid)}}function al(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",13)(1,"h6",14),e._uU(2,"Choices"),e.qZA(),e.TgZ(3,"div",15)(4,"div",16),e.NdJ("cdkDropListDropped",function(i){return e.CHM(t),e.oxw().dropChoice(i)}),e.YNc(5,tl,1,2,"ng-template",8),e.YNc(6,il,1,2,"ng-template",8),e.TgZ(7,"label",17)(8,"input",18),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().newChoice=i})("keyup.enter",function(){return e.CHM(t),e.oxw().insertChoice()}),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().insertChoice()}),e.ALo(11,"translate"),e._uU(12,"add "),e.qZA()(),e.TgZ(13,"label",20)(14,"div",21)(15,"input",22),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.allowOther=i}),e.qZA(),e.TgZ(16,"span",23),e._uU(17,"Allow other value"),e.qZA()()(),e.TgZ(18,"label",20)(19,"div",21)(20,"input",22),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.showDescriptions=i}),e.qZA(),e.TgZ(21,"span",23),e._uU(22,"Show descriptions"),e.qZA()()()(),e.TgZ(23,"div",24)(24,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleBulk()}),e._uU(25,"Bulk insertion "),e.qZA(),e.TgZ(26,"button",26),e.NdJ("click",function(i){return e.CHM(t),e.oxw().removeAll(i)}),e._uU(27,"Remove all "),e.qZA()(),e.YNc(28,rl,5,4,"div",27),e.qZA()(),e.TgZ(29,"section",13)(30,"h6",14),e._uU(31,"Validations"),e.qZA(),e.TgZ(32,"div",15)(33,"label",21)(34,"input",22),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.required(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(35,"span",23),e._uU(36,"Required"),e.qZA()()()(),e.TgZ(37,"section",13)(38,"h6",14),e._uU(39,"Options"),e.qZA(),e.TgZ(40,"div",15)(41,"div",28)(42,"label",29),e._uU(43,"Default value"),e.qZA(),e.TgZ(44,"select",30),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.defaultValue=i}),e.TgZ(45,"option",31),e._uU(46,"None"),e.qZA(),e.YNc(47,sl,1,2,"option",32),e.qZA()()()(),e.TgZ(48,"section",13)(49,"h6",14),e._uU(50,"Advanced"),e.qZA(),e.TgZ(51,"div",15)(52,"div",28)(53,"label",33),e._uU(54,"Distribution"),e.qZA(),e.TgZ(55,"div",34)(56,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().setDistribution("vertical")}),e.ALo(57,"translate"),e._uU(58,"view_list "),e.qZA(),e.TgZ(59,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().setDistribution("horizontal")}),e.ALo(60,"translate"),e._uU(61,"view_column "),e.qZA()()(),e.TgZ(62,"div",28)(63,"label",36),e._uU(64,"CSS Class"),e.qZA(),e.TgZ(65,"input",37),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.cssClass=i}),e.qZA()(),e.TgZ(66,"div",38)(67,"label",39),e._uU(68,"Admin label"),e.qZA(),e.TgZ(69,"input",40),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.label=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!t.question.field.options.showDescriptions),e.xp6(1),e.Q6J("ngIf",t.question.field.options.showDescriptions),e.xp6(2),e.Q6J("placeholder",e.lcZ(9,21,"New choice..."))("ngModel",t.newChoice),e.xp6(2),e.uIk("data-tooltip",e.lcZ(11,23,"Insert choice")),e.xp6(5),e.Q6J("ngModel",t.question.field.options.allowOther),e.xp6(5),e.Q6J("ngModel",t.question.field.options.showDescriptions),e.xp6(8),e.Q6J("ngIf",t.bulk.visible),e.xp6(6),e.Q6J("ngModel",t.validations.required(t.question.field.validations).enabled),e.xp6(10),e.Q6J("ngModel",t.question.field.options.defaultValue),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",t.question.field.options.choices)("ngForTrackBy",t.trackByIndex),e.xp6(9),e.ekj("is-active",t.isDistribution("vertical")),e.uIk("data-tooltip",e.lcZ(57,25,"Vertical")),e.xp6(3),e.ekj("is-active",t.isDistribution("horizontal")),e.uIk("data-tooltip",e.lcZ(60,27,"Horizontal")),e.xp6(6),e.Q6J("ngModel",t.question.field.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.question.label)}}const ll=function(o){return[o]};let cl=(()=>{class o{constructor(t,n,i){this.blockEditor=t,this.validations=n,this.hostElement=i,this.question=this.blockEditor.block,this.cssClass=!0,this.bulk={visible:!1,content:""}}ngOnInit(){Array.isArray(this.question.field.options.choices)||(this.question.field.options.choices=[{uid:(0,b.Z)(),label:"Yes"},{uid:(0,b.Z)(),label:"No"}]),this.question.field.options.distribution||(this.question.field.options.distribution="vertical")}toggleBulk(){this.bulk.visible=!this.bulk.visible}insertBulk(){this.bulk.content.split(/\n/g).map(n=>n.trim()).filter(Boolean).forEach(n=>this.question.field.options.choices.push({uid:(0,b.Z)(),label:n})),this.bulk.visible=!1,this.bulk.content=""}removeAll(t){!(0,h.fJ)(t)||(this.question.field.options.choices=[])}trackByIndex(t,n){return n.uid}insertChoice(t,n){if(t)return t.preventDefault(),this.question.field.options.choices.splice(n+1,0,{uid:(0,b.Z)(),label:""}),void this.focusOnChoice(n+1);this.question.field.options.choices.push({uid:(0,b.Z)(),label:this.newChoice.trim()}),this.newChoice=""}removeChoice(t,n){if(this.question.field.options.choices.length<=2)return;if(n instanceof KeyboardEvent){if(t.label.trim())return;n.preventDefault()}if(n instanceof MouseEvent&&!(0,h.fJ)(n))return;const i=this.question.field.options.choices.indexOf(t);this.question.field.options.choices.splice(i,1),this.question.field.options.defaultValue===t.uid&&(this.question.field.options.defaultValue=void 0),this.focusOnChoice(i-1)}dropChoice(t){(0,v.bA)(this.question.field.options.choices,t.previousIndex,t.currentIndex)}focusOnChoice(t){t=t>0?t:0,setTimeout(()=>{this.hostElement.nativeElement.querySelector("#input-"+this.question.uid+"-"+t)?.focus()},10)}setDistribution(t){this.question.field.options.distribution=t}isDistribution(t){return this.question.field.options.distribution===t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(N),e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["radio-field"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("radio-field",n.cssClass)},decls:4,vars:6,consts:[[1,"choices",3,"ngClass"],["class","choice","style","align-items: start;",4,"ngFor","ngForOf","ngForTrackBy"],["class","choice",4,"ngIf"],["block-settings",""],[1,"choice",2,"align-items","start"],["readonly","","type","radio","tabindex","-1",1,"box",2,"margin-top","2px",3,"name","checked"],[2,"display","flex","flex-direction","column","width","100%"],["contenteditable","",1,"content",3,"ngModel","id","ngModelChange","keydown.enter","keydown.backspace","keydown.delete"],[3,"ngIf"],["contenteditable","",1,"content",2,"margin-bottom","5px","font-size","10px","white-space","pre-line",3,"ngModel","id","ngModelChange"],[1,"choice"],["readonly","","type","radio","tabindex","-1",1,"box",3,"name"],["translate","",1,"content"],[1,"question-settings"],["translate","",1,"title"],[1,"body"],["cdkDropList","","cdkDropListOrientation","vertical",1,"list-editor",3,"cdkDropListDropped"],[1,"list-item"],["type","text",1,"input","-transparent",3,"placeholder","ngModel","ngModelChange","keyup.enter"],["data-tooltip-left","",1,"add","button","-transparent","-icon","material-icons",3,"click"],[1,"list-item","-other"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],["translate","",1,"label"],[1,"bulk-actions"],["translate","",1,"insert","button","-outline","-secondary","-small",3,"click"],["translate","",1,"remove-all","button","-outline","-attention","-small",3,"click"],["class","bulk-editor",4,"ngIf"],[1,"form-group"],["for","question_default_value","translate",""],["id","question_default_value",1,"input",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"label","ngValue",4,"ngFor","ngForOf","ngForTrackBy"],["translate",""],[1,"button-group"],[1,"button","material-icons",3,"click"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["class","list-item","cdkDrag","",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"list-item"],[4,"cdkDragPreview"],["cdkDragHandle","",1,"handle","button","-transparent","-icon","material-icons"],["type","text",1,"input","-transparent",3,"placeholder","ngModel","ngModelChange"],["data-tooltip-left","",1,"remove","button","-transparent","-icon","material-icons",3,"disabled","click"],["class","list-item-with-media","cdkDrag","",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"list-item-with-media"],[1,"list-item",2,"height","auto","padding-bottom","0"],["rows","2",1,"input","-transparent",2,"padding-bottom","10px",3,"ngModel","placeholder","ngModelChange"],[1,"bulk-editor"],["rows","10",1,"input",3,"ngModel","placeholder","ngModelChange"],["translate","",1,"button","-wide","-alt",3,"click"],[3,"label","ngValue"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Wa,6,8,"div",1),e.YNc(2,Xa,4,1,"div",2),e.qZA(),e.YNc(3,al,70,29,"ng-template",3)),2&t&&(e.Q6J("ngClass",e.VKq(4,ll,"is-"+(n.question.field.options.distribution||"vertical"))),e.xp6(1),e.Q6J("ngForOf",n.question.field.options.choices)("ngForTrackBy",n.trackByIndex),e.xp6(1),e.Q6J("ngIf",n.question.field.options.allowOther))},directives:[c.mk,c.sg,Q.q,I,l.JJ,l.On,c.O5,p.Pi,T,v.Wj,v.Zt,v.pV,v.Bh,l.Fj,l.Wl,l.EJ,l.YN,l.Kr],pipes:[p.X$],encapsulation:2}),o})();function pl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p",9),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw().index;return e.oxw().question.field.options.choices[r].description=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw().index,n=e.oxw();e.Q6J("ngModel",n.question.field.options.choices[t].description)("id","input-description-"+n.question.uid+"-"+t),e.uIk("placeholder",e.lcZ(1,3,"Choice description"))}}function dl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",4),e._UZ(1,"input",5),e.TgZ(2,"div",6)(3,"p",7),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).index;return e.oxw().question.field.options.choices[a].label=i})("keydown.enter",function(i){const a=e.CHM(t).index;return e.oxw().insertChoice(i,a)})("keydown.backspace",function(i){const a=e.CHM(t).$implicit;return e.oxw().removeChoice(a,i)})("keydown.delete",function(i){const a=e.CHM(t).$implicit;return e.oxw().removeChoice(a,i)}),e.ALo(4,"translate"),e.qZA(),e.YNc(5,pl,2,5,"ng-template",8),e.qZA()()}if(2&o){const t=s.index,n=e.oxw();e.xp6(1),e.Q6J("name",n.question.uid),e.xp6(2),e.Q6J("ngModel",n.question.field.options.choices[t].label)("id","input-"+n.question.uid+"-"+t),e.uIk("placeholder",e.lcZ(4,5,"Choice label")),e.xp6(2),e.Q6J("ngIf",n.question.field.options.showDescriptions)}}function ul(o,s){if(1&o&&(e.TgZ(0,"div",10),e._UZ(1,"input",11),e.TgZ(2,"p",12),e._uU(3,"Other"),e.qZA()()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("name",t.question.uid)}}function gl(o,s){1&o&&e._UZ(0,"span")}function _l(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"label",36),e.YNc(1,gl,1,0,"span",37),e.TgZ(2,"button",38),e._uU(3,"drag_indicator "),e.qZA(),e.TgZ(4,"input",39),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).index;return e.oxw(3).question.field.options.choices[a].label=i}),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"button",40),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw(3).removeChoice(a,i)}),e.ALo(7,"translate"),e._uU(8," delete_forever "),e.qZA()()}if(2&o){const t=s.index,n=e.oxw(3);e.xp6(4),e.Q6J("placeholder",e.lcZ(5,4,"Item"))("ngModel",n.question.field.options.choices[t].label),e.xp6(2),e.Q6J("disabled",n.question.field.options.choices.length<=2),e.uIk("data-tooltip",e.lcZ(7,6,"Delete choice"))}}function ml(o,s){if(1&o&&e.YNc(0,_l,9,8,"label",35),2&o){const t=e.oxw(2);e.Q6J("ngForOf",t.question.field.options.choices)("ngForTrackBy",t.trackByIndex)}}function hl(o,s){1&o&&e._UZ(0,"span")}function fl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",42),e.YNc(1,hl,1,0,"span",37),e.TgZ(2,"label",43)(3,"button",38),e._uU(4,"drag_indicator "),e.qZA(),e.TgZ(5,"input",39),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).index;return e.oxw(3).question.field.options.choices[a].label=i}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",40),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw(3).removeChoice(a,i)}),e.ALo(8,"translate"),e._uU(9," delete_forever "),e.qZA()(),e.TgZ(10,"label",44)(11,"textarea",45),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).index;return e.oxw(3).question.field.options.choices[a].description=i}),e.ALo(12,"translate"),e.qZA()()()}if(2&o){const t=s.index,n=e.oxw(3);e.xp6(5),e.Q6J("placeholder",e.lcZ(6,6,"Item"))("ngModel",n.question.field.options.choices[t].label),e.xp6(2),e.Q6J("disabled",n.question.field.options.choices.length<=2),e.uIk("data-tooltip",e.lcZ(8,8,"Delete choice")),e.xp6(4),e.Q6J("ngModel",n.question.field.options.choices[t].description)("placeholder",e.lcZ(12,10,"Description"))}}function xl(o,s){if(1&o&&e.YNc(0,fl,13,12,"div",41),2&o){const t=e.oxw(2);e.Q6J("ngForOf",t.question.field.options.choices)("ngForTrackBy",t.trackByIndex)}}function bl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",46)(1,"textarea",47),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).bulk.content=i}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",48),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).insertBulk()}),e._uU(4,"Insert"),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.bulk.content)("placeholder",e.lcZ(2,2,"One item per line..."))}}function vl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",49),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw(2);return r.validations.minSelection(r.question.field.validations).options.value=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("placeholder",e.lcZ(1,2,"Value"))("ngModel",t.validations.minSelection(t.question.field.validations).options.value)}}function Cl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",49),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw(2);return r.validations.maxSelection(r.question.field.validations).options.value=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("placeholder",e.lcZ(1,2,"Value"))("ngModel",t.validations.maxSelection(t.question.field.validations).options.value)}}function yl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",13)(1,"h6",14),e._uU(2,"Choices"),e.qZA(),e.TgZ(3,"div",15)(4,"div",16),e.NdJ("cdkDropListDropped",function(i){return e.CHM(t),e.oxw().dropChoice(i)}),e.YNc(5,ml,1,2,"ng-template",8),e.YNc(6,xl,1,2,"ng-template",8),e.TgZ(7,"label",17)(8,"div",18)(9,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.allowOther=i}),e.qZA(),e.TgZ(10,"span",20),e._uU(11,"Allow other value"),e.qZA()()(),e.TgZ(12,"label",17)(13,"div",18)(14,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.showDescriptions=i}),e.qZA(),e.TgZ(15,"span",20),e._uU(16,"Show descriptions"),e.qZA()()()(),e.TgZ(17,"div",21)(18,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleBulk()}),e._uU(19,"Bulk insertion "),e.qZA(),e.TgZ(20,"button",23),e.NdJ("click",function(i){return e.CHM(t),e.oxw().removeAll(i)}),e._uU(21,"Remove all "),e.qZA()(),e.YNc(22,bl,5,4,"div",24),e.qZA()(),e.TgZ(23,"section",13)(24,"h6",14),e._uU(25,"Validations"),e.qZA(),e.TgZ(26,"div",15)(27,"label",18)(28,"input",19),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.required(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(29,"span",20),e._uU(30,"Required"),e.qZA()(),e.TgZ(31,"label",18)(32,"input",19),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.minSelection(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(33,"span",20),e._uU(34,"Minimum selection"),e.qZA(),e.YNc(35,vl,2,4,"input",25),e.qZA(),e.TgZ(36,"label",18)(37,"input",19),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.maxSelection(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(38,"span",20),e._uU(39,"Maximum selection"),e.qZA(),e.YNc(40,Cl,2,4,"input",25),e.qZA()()(),e.TgZ(41,"section",13)(42,"h6",14),e._uU(43,"Advanced"),e.qZA(),e.TgZ(44,"div",15)(45,"div",26)(46,"label",27),e._uU(47,"Distribution"),e.qZA(),e.TgZ(48,"div",28)(49,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().setDistribution("vertical")}),e.ALo(50,"translate"),e._uU(51,"view_list "),e.qZA(),e.TgZ(52,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().setDistribution("horizontal")}),e.ALo(53,"translate"),e._uU(54,"view_column "),e.qZA()()(),e.TgZ(55,"div",26)(56,"label",30),e._uU(57,"CSS Class"),e.qZA(),e.TgZ(58,"input",31),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.cssClass=i}),e.qZA()(),e.TgZ(59,"div",32)(60,"label",33),e._uU(61,"Admin label"),e.qZA(),e.TgZ(62,"input",34),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.label=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!t.question.field.options.showDescriptions),e.xp6(1),e.Q6J("ngIf",t.question.field.options.showDescriptions),e.xp6(3),e.Q6J("ngModel",t.question.field.options.allowOther),e.xp6(5),e.Q6J("ngModel",t.question.field.options.showDescriptions),e.xp6(8),e.Q6J("ngIf",t.bulk.visible),e.xp6(6),e.Q6J("ngModel",t.validations.required(t.question.field.validations).enabled),e.xp6(4),e.Q6J("ngModel",t.validations.minSelection(t.question.field.validations).enabled),e.xp6(3),e.Q6J("ngIf",t.validations.minSelection(t.question.field.validations).enabled),e.xp6(2),e.Q6J("ngModel",t.validations.maxSelection(t.question.field.validations).enabled),e.xp6(3),e.Q6J("ngIf",t.validations.maxSelection(t.question.field.validations).enabled),e.xp6(9),e.ekj("is-active",t.isDistribution("vertical")),e.uIk("data-tooltip",e.lcZ(50,18,"Vertical")),e.xp6(3),e.ekj("is-active",t.isDistribution("horizontal")),e.uIk("data-tooltip",e.lcZ(53,20,"Horizontal")),e.xp6(6),e.Q6J("ngModel",t.question.field.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.question.label)}}const kl=function(o){return[o]};let Tl=(()=>{class o{constructor(t,n,i){this.blockEditor=t,this.validations=n,this.hostElement=i,this.question=this.blockEditor.block,this.cssClass=!0,this.bulk={visible:!1,content:""}}ngOnInit(){Array.isArray(this.question.field.options.choices)||(this.question.field.options.choices=[{uid:(0,b.Z)(),label:"Yes"},{uid:(0,b.Z)(),label:"No"}]),this.question.field.options.distribution||(this.question.field.options.distribution="vertical")}toggleBulk(){this.bulk.visible=!this.bulk.visible}insertBulk(){this.bulk.content.split(/\n/g).map(n=>n.trim()).filter(Boolean).forEach(n=>this.question.field.options.choices.push({uid:(0,b.Z)(),label:n})),this.bulk.visible=!1,this.bulk.content=""}removeAll(t){!(0,h.fJ)(t)||(this.question.field.options.choices=[])}trackByIndex(t,n){return n.uid}insertChoice(t,n){if(t)return t.preventDefault(),this.question.field.options.choices.splice(n+1,0,{uid:(0,b.Z)(),label:""}),void this.focusOnChoice(n+1);this.question.field.options.choices.push({uid:(0,b.Z)(),label:this.newChoice.trim()}),this.newChoice=""}removeChoice(t,n){if(this.question.field.options.choices.length<=1)return;if(n instanceof KeyboardEvent){if(t.label.trim())return;n.preventDefault()}if(n instanceof MouseEvent&&!(0,h.fJ)(n))return;const i=this.question.field.options.choices.indexOf(t);this.question.field.options.choices.splice(i,1),this.focusOnChoice(i-1)}dropChoice(t){(0,v.bA)(this.question.field.options.choices,t.previousIndex,t.currentIndex)}focusOnChoice(t){t=t>0?t:0,setTimeout(()=>{this.hostElement.nativeElement.querySelector("#input-"+this.question.uid+"-"+t)?.focus()},10)}setDistribution(t){this.question.field.options.distribution=t}isDistribution(t){return this.question.field.options.distribution===t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(N),e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["checkbox-field"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("checkbox-field",n.cssClass)},decls:4,vars:6,consts:[[1,"choices",3,"ngClass"],["class","choice","style","align-items: start;",4,"ngFor","ngForOf","ngForTrackBy"],["class","choice",4,"ngIf"],["block-settings",""],[1,"choice",2,"align-items","start"],["readonly","","type","checkbox","tabindex","-1",1,"box",2,"margin-top","2px",3,"name"],[2,"display","flex","flex-direction","column","width","100%"],["contenteditable","",1,"content",3,"ngModel","id","ngModelChange","keydown.enter","keydown.backspace","keydown.delete"],[3,"ngIf"],["contenteditable","",1,"content",2,"margin-bottom","5px","font-size","10px","white-space","pre-line",3,"ngModel","id","ngModelChange"],[1,"choice"],["readonly","","type","checkbox","tabindex","-1",1,"box",3,"name"],["translate","",1,"content"],[1,"question-settings"],["translate","",1,"title"],[1,"body"],["cdkDropList","","cdkDropListOrientation","vertical",1,"list-editor",3,"cdkDropListDropped"],[1,"list-item","-other"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],["translate","",1,"label"],[1,"bulk-actions"],["translate","",1,"insert","button","-outline","-secondary","-small",3,"click"],["translate","",1,"remove-all","button","-outline","-attention","-small",3,"click"],["class","bulk-editor",4,"ngIf"],["type","text","class","input",3,"placeholder","ngModel","ngModelChange",4,"ngIf"],[1,"form-group"],["translate",""],[1,"button-group"],[1,"button","material-icons",3,"click"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["class","list-item","cdkDrag","",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"list-item"],[4,"cdkDragPreview"],["cdkDragHandle","",1,"handle","button","-transparent","-icon","material-icons"],["type","text",1,"input","-transparent",3,"placeholder","ngModel","ngModelChange"],["data-tooltip-left","",1,"remove","button","-transparent","-icon","material-icons",3,"disabled","click"],["class","list-item-with-media","cdkDrag","",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"list-item-with-media"],[1,"list-item"],[1,"list-item",2,"height","auto","padding-bottom","0"],["rows","2",1,"input","-transparent",2,"padding-bottom","10px",3,"ngModel","placeholder","ngModelChange"],[1,"bulk-editor"],["rows","10",1,"input",3,"ngModel","placeholder","ngModelChange"],["translate","",1,"button","-wide","-alt",3,"click"],["type","text",1,"input",3,"placeholder","ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,dl,6,7,"div",1),e.YNc(2,ul,4,1,"div",2),e.qZA(),e.YNc(3,yl,63,22,"ng-template",3)),2&t&&(e.Q6J("ngClass",e.VKq(4,kl,"is-"+(n.question.field.options.distribution||"vertical"))),e.xp6(1),e.Q6J("ngForOf",n.question.field.options.choices)("ngForTrackBy",n.trackByIndex),e.xp6(1),e.Q6J("ngIf",n.question.field.options.allowOther))},directives:[c.mk,c.sg,Q.q,I,l.JJ,l.On,c.O5,p.Pi,T,v.Wj,v.Zt,v.pV,v.Bh,l.Fj,l.Wl],pipes:[p.X$],encapsulation:2}),o})();function wl(o,s){if(1&o&&e._UZ(0,"option",5),2&o){const t=s.$implicit,n=e.oxw();e.Q6J("label",t.label)("value",t.uid)("selected",t.uid===n.question.field.options.defaultValue)}}function Zl(o,s){1&o&&e._UZ(0,"option",6)}function Al(o,s){1&o&&e._UZ(0,"span")}function Ml(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"label",34),e.YNc(1,Al,1,0,"span",35),e.TgZ(2,"button",36),e._uU(3,"drag_indicator "),e.qZA(),e.TgZ(4,"input",37),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).index;return e.oxw(2).question.field.options.choices[a].label=i}),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"button",38),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw(2).removeChoice(a,i)}),e.ALo(7,"translate"),e._uU(8," delete_forever "),e.qZA()()}if(2&o){const t=s.index,n=e.oxw(2);e.xp6(4),e.Q6J("placeholder",e.lcZ(5,4,"Item"))("ngModel",n.question.field.options.choices[t].label),e.xp6(2),e.Q6J("disabled",n.question.field.options.choices.length<=1),e.uIk("data-tooltip",e.lcZ(7,6,"Delete choice"))}}function ql(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",39)(1,"textarea",40),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).bulk.content=i}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",41),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).insertBulk()}),e._uU(4,"Insert"),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.bulk.content)("placeholder",e.lcZ(2,2,"One item per line..."))}}function Jl(o,s){if(1&o&&e._UZ(0,"option",42),2&o){const t=s.$implicit;e.Q6J("label",t.label)("ngValue",t.uid)}}function Sl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",7)(1,"h6",8),e._uU(2,"Choices"),e.qZA(),e.TgZ(3,"div",9)(4,"div",10),e.NdJ("cdkDropListDropped",function(i){return e.CHM(t),e.oxw().dropChoice(i)}),e.YNc(5,Ml,9,8,"label",11),e.TgZ(6,"label",12)(7,"input",13),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().newChoice=i})("keyup.enter",function(){return e.CHM(t),e.oxw().insertChoice()}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().insertChoice()}),e.ALo(10,"translate"),e._uU(11,"add "),e.qZA()(),e.TgZ(12,"div",15)(13,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleBulk()}),e._uU(14,"Bulk insertion"),e.qZA(),e.TgZ(15,"button",17),e.NdJ("click",function(i){return e.CHM(t),e.oxw().removeAll(i)}),e._uU(16,"Remove all"),e.qZA()()(),e.YNc(17,ql,5,4,"div",18),e.qZA()(),e.TgZ(18,"section",7)(19,"h6",8),e._uU(20,"Validations"),e.qZA(),e.TgZ(21,"div",9)(22,"label",19)(23,"input",20),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.required(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(24,"span",21),e._uU(25,"Required"),e.qZA()()()(),e.TgZ(26,"section",7)(27,"h6",8),e._uU(28,"Options"),e.qZA(),e.TgZ(29,"div",9)(30,"div",22)(31,"label",23),e._uU(32,"Default value"),e.qZA(),e.TgZ(33,"select",24),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.defaultValue=i}),e.TgZ(34,"option",25),e._uU(35,"None"),e.qZA(),e.YNc(36,Jl,1,2,"option",26),e.qZA()(),e.TgZ(37,"div",27)(38,"label",28),e._uU(39,"Placeholder"),e.qZA(),e.TgZ(40,"input",29),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.placeholder=i}),e.qZA()()()(),e.TgZ(41,"section",7)(42,"h6",8),e._uU(43,"Advanced"),e.qZA(),e.TgZ(44,"div",9)(45,"div",22)(46,"label",30),e._uU(47,"CSS Class"),e.qZA(),e.TgZ(48,"input",31),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.cssClass=i}),e.qZA()(),e.TgZ(49,"div",27)(50,"label",32),e._uU(51,"Admin label"),e.qZA(),e.TgZ(52,"input",33),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.label=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.question.field.options.choices)("ngForTrackBy",t.trackByIndex),e.xp6(2),e.Q6J("placeholder",e.lcZ(8,14,"New choice..."))("ngModel",t.newChoice),e.xp6(2),e.uIk("data-tooltip",e.lcZ(10,16,"Insert choice")),e.xp6(8),e.Q6J("ngIf",t.bulk.visible),e.xp6(6),e.Q6J("ngModel",t.validations.required(t.question.field.validations).enabled),e.xp6(10),e.Q6J("ngModel",t.question.field.options.defaultValue),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",t.question.field.options.choices)("ngForTrackBy",t.trackByIndex),e.xp6(4),e.Q6J("ngModel",t.question.field.options.placeholder),e.xp6(8),e.Q6J("ngModel",t.question.field.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.question.label)}}let Ul=(()=>{class o{constructor(t,n,i){this.blockEditor=t,this.validations=n,this.hostElement=i,this.question=this.blockEditor.block,this.cssClass=!0,this.bulk={visible:!1,content:""}}ngOnInit(){Array.isArray(this.question.field.options.choices)||(this.question.field.options.choices=[{uid:(0,b.Z)(),label:"Yes"},{uid:(0,b.Z)(),label:"No"}]),this.question.field.options.placeholder=this.question.field.options.placeholder??"Choose"}toggleBulk(){this.bulk.visible=!this.bulk.visible}insertBulk(){this.bulk.content.split(/\n/g).map(n=>n.trim()).filter(Boolean).forEach(n=>this.question.field.options.choices.push({uid:(0,b.Z)(),label:n})),this.bulk.visible=!1,this.bulk.content=""}removeAll(t){!(0,h.fJ)(t)||(this.question.field.options.choices=[])}trackByIndex(t,n){return n.uid}insertChoice(){this.question.field.options.choices.push({uid:(0,b.Z)(),label:this.newChoice.trim()}),this.newChoice=""}removeChoice(t,n){if(this.question.field.options.choices.length<=1||!(0,h.fJ)(n))return;const i=this.question.field.options.choices.indexOf(t);this.question.field.options.choices.splice(i,1),this.question.field.options.defaultValue===t.uid&&(this.question.field.options.defaultValue=void 0)}dropChoice(t){(0,v.bA)(this.question.field.options.choices,t.previousIndex,t.currentIndex)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(N),e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["select-field"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("select-field",n.cssClass)},decls:5,vars:7,consts:[[1,"input",3,"name","value"],[3,"ngValue","label"],[3,"label","value","selected",4,"ngFor","ngForOf","ngForTrackBy"],["label","Other",4,"ngIf"],["block-settings",""],[3,"label","value","selected"],["label","Other"],[1,"question-settings"],["translate","",1,"title"],[1,"body"],["cdkDropList","","cdkDropListOrientation","vertical",1,"list-editor",3,"cdkDropListDropped"],["class","list-item","cdkDrag","",4,"ngFor","ngForOf","ngForTrackBy"],[1,"list-item"],["type","text",1,"input","-transparent",3,"placeholder","ngModel","ngModelChange","keyup.enter"],["data-tooltip-left","",1,"add","button","-transparent","-icon","material-icons",3,"click"],[1,"bulk-actions"],["translate","",1,"insert","button","-transparent","-small",3,"click"],["translate","",1,"remove-all","button","-transparent","-small",3,"click"],["class","bulk-editor",4,"ngIf"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],["translate","",1,"label"],[1,"form-group"],["for","question_default_value","translate",""],["id","question_default_value",1,"input","-small",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"label","ngValue",4,"ngFor","ngForOf","ngForTrackBy"],[1,"form-group","-compact"],["for","question_placeholder","translate",""],["id","question_placeholder","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["cdkDrag","",1,"list-item"],[4,"cdkDragPreview"],["cdkDragHandle","",1,"handle","button","-transparent","-icon","material-icons"],["type","text",1,"input","-transparent",3,"placeholder","ngModel","ngModelChange"],["data-tooltip-left","",1,"remove","button","-transparent","-icon","material-icons",3,"disabled","click"],[1,"bulk-editor"],["rows","10",1,"input",3,"ngModel","placeholder","ngModelChange"],["translate","",1,"button","-wide","-alt",3,"click"],[3,"label","ngValue"]],template:function(t,n){1&t&&(e.TgZ(0,"select",0),e._UZ(1,"option",1),e.YNc(2,wl,1,3,"option",2),e.YNc(3,Zl,1,0,"option",3),e.qZA(),e.YNc(4,Sl,53,18,"ng-template",4)),2&t&&(e.Q6J("name",n.question.uid)("value",null),e.xp6(1),e.Q6J("ngValue",null)("label",n.question.field.options.placeholder||""),e.xp6(1),e.Q6J("ngForOf",n.question.field.options.choices)("ngForTrackBy",n.trackByIndex),e.xp6(1),e.Q6J("ngIf",n.question.field.options.allowOther))},directives:[l.YN,l.Kr,c.sg,c.O5,T,p.Pi,v.Wj,v.Zt,v.pV,v.Bh,l.Fj,l.JJ,l.On,l.Wl,l.EJ],pipes:[p.X$],encapsulation:2}),o})();function Nl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",20),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw(2);return r.validations.beforeDate(r.question.field.validations).options.value=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("placeholder",e.lcZ(1,2,"Value"))("ngModel",t.validations.beforeDate(t.question.field.validations).options.value)}}function Il(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",20),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw(2);return r.validations.afterDate(r.question.field.validations).options.value=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("placeholder",e.lcZ(1,2,"Value"))("ngModel",t.validations.afterDate(t.question.field.validations).options.value)}}function Fl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",3)(1,"h6",4),e._uU(2,"Validations"),e.qZA(),e.TgZ(3,"div",5)(4,"label",6)(5,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.required(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(6,"span",8),e._uU(7,"Required"),e.qZA()(),e.TgZ(8,"label",6)(9,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.beforeDate(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(10,"span",8),e._uU(11,"Before date"),e.qZA(),e.YNc(12,Nl,2,4,"input",9),e.qZA(),e.TgZ(13,"label",6)(14,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.afterDate(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(15,"span",8),e._uU(16,"After date"),e.qZA(),e.YNc(17,Il,2,4,"input",9),e.qZA()()(),e.TgZ(18,"section",3)(19,"h6",4),e._uU(20,"Options"),e.qZA(),e.TgZ(21,"div",5)(22,"div",10)(23,"label",11),e._uU(24,"Default value"),e.qZA(),e.TgZ(25,"input",12),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.defaultValue=i}),e.qZA()(),e.TgZ(26,"div",13)(27,"label",14),e._uU(28,"Placeholder"),e.qZA(),e.TgZ(29,"input",15),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.placeholder=i}),e.qZA()()()(),e.TgZ(30,"section",3)(31,"h6",4),e._uU(32,"Advanced"),e.qZA(),e.TgZ(33,"div",5)(34,"div",10)(35,"label",16),e._uU(36,"CSS Class"),e.qZA(),e.TgZ(37,"input",17),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.cssClass=i}),e.qZA()(),e.TgZ(38,"div",13)(39,"label",18),e._uU(40,"Admin label"),e.qZA(),e.TgZ(41,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.label=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.validations.required(t.question.field.validations).enabled),e.xp6(4),e.Q6J("ngModel",t.validations.beforeDate(t.question.field.validations).enabled),e.xp6(3),e.Q6J("ngIf",t.validations.beforeDate(t.question.field.validations).enabled),e.xp6(2),e.Q6J("ngModel",t.validations.afterDate(t.question.field.validations).enabled),e.xp6(3),e.Q6J("ngIf",t.validations.afterDate(t.question.field.validations).enabled),e.xp6(8),e.Q6J("ngModel",t.question.field.options.defaultValue),e.xp6(4),e.Q6J("ngModel",t.question.field.options.placeholder),e.xp6(8),e.Q6J("ngModel",t.question.field.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.question.label)}}let El=(()=>{class o{constructor(t,n){this.blockEditor=t,this.validations=n,this.question=this.blockEditor.block}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(N))},o.\u0275cmp=e.Xpm({type:o,selectors:[["date-field"]],decls:4,vars:3,consts:[["type","date",1,"input",3,"placeholder","input"],["preview",""],["block-settings",""],[1,"question-settings"],["translate","",1,"title"],[1,"body"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],["translate","",1,"label"],["type","date","class","input",3,"placeholder","ngModel","ngModelChange",4,"ngIf"],[1,"form-group"],["for","question_default_value","translate",""],["id","question_default_value","type","date",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_placeholder","translate",""],["id","question_placeholder","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["type","date",1,"input",3,"placeholder","ngModel","ngModelChange"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"input",0,1),e.NdJ("input",function(){e.CHM(i);const a=e.MAs(1);return a.value?a.value="":null}),e.ALo(2,"translate"),e.qZA(),e.YNc(3,Fl,42,9,"ng-template",2)}2&t&&e.Q6J("placeholder",n.question.field.options.placeholder||e.lcZ(2,1,"Date"))},directives:[T,p.Pi,l.Wl,l.JJ,l.On,c.O5,l.Fj],pipes:[p.X$],encapsulation:2}),o})();function Ql(o,s){if(1&o&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&o){const t=s.index;e.xp6(1),e.hij(" ",t+1," ")}}function Ol(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).question.field.options.scale=r}),e._uU(1),e.qZA()}if(2&o){const t=s.$implicit,n=e.oxw(2);e.ekj("is-active",n.question.field.options.scale===t),e.Q6J("disabled",1==t),e.xp6(1),e.hij(" ",t," ")}}const Ll=function(){return[1,2,3,4,5,6,7,8,9,10]};function Bl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",8)(1,"h6",9),e._uU(2,"Settings"),e.qZA(),e.TgZ(3,"div",10)(4,"div",11)(5,"label",12),e._uU(6,"Scale of"),e.qZA(),e.TgZ(7,"div",13),e.YNc(8,Ol,2,4,"button",14),e.qZA()(),e.TgZ(9,"div",11)(10,"label",15),e._uU(11,"Labels"),e.qZA(),e.TgZ(12,"div",16)(13,"div",17)(14,"input",18),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.labels.least=i}),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",17)(17,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.labels.most=i}),e.ALo(18,"translate"),e.qZA()()()()()(),e.TgZ(19,"section",8)(20,"h6",9),e._uU(21,"Validations"),e.qZA(),e.TgZ(22,"div",10)(23,"label",20)(24,"input",21),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.required(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(25,"span",22),e._uU(26,"Required"),e.qZA()()()(),e.TgZ(27,"section",8)(28,"h6",9),e._uU(29,"Advanced"),e.qZA(),e.TgZ(30,"div",10)(31,"div",11)(32,"label",23),e._uU(33,"CSS Class"),e.qZA(),e.TgZ(34,"input",24),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.cssClass=i}),e.qZA()(),e.TgZ(35,"div",25)(36,"label",26),e._uU(37,"Admin label"),e.qZA(),e.TgZ(38,"input",27),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.label=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(8),e.Q6J("ngForOf",e.DdM(12,Ll)),e.xp6(6),e.Q6J("placeholder",e.lcZ(15,8,"Least"))("ngModel",t.question.field.options.labels.least),e.xp6(3),e.Q6J("placeholder",e.lcZ(18,10,"Most"))("ngModel",t.question.field.options.labels.most),e.xp6(7),e.Q6J("ngModel",t.validations.required(t.question.field.validations).enabled),e.xp6(10),e.Q6J("ngModel",t.question.field.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.question.label)}}const Hl=function(){return[]};let Pl=(()=>{class o{constructor(t,n,i){this.blockEditor=t,this.validations=n,this.hostElement=i,this.question=this.blockEditor.block,this.cssClass=!0}ngOnInit(){this.question.field.options.scale=this.question.field.options.scale||5,this.question.field.options.labels=this.question.field.options.labels||{least:"Not at all likely",most:"Extremely likely"}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(N),e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["scale-field"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("scale-field",n.cssClass)},decls:9,vars:4,consts:[[1,"scale"],[1,"button-group","points"],["class","point button",4,"ngFor","ngForOf"],[1,"labels"],[1,"least"],[1,"most"],["block-settings",""],[1,"point","button"],[1,"question-settings"],["translate","",1,"title"],[1,"body"],[1,"form-group"],["for","question_scale_of","translate",""],["id","question_scale_of",1,"button-group"],["class","button -small",3,"disabled","is-active","click",4,"ngFor","ngForOf"],["for","question_least_label","translate",""],[1,"row"],[1,"col-6"],["id","question_least_label","type","text",1,"input","-small",3,"placeholder","ngModel","ngModelChange"],["id","question_most_label","type","text",1,"input","-small",3,"placeholder","ngModel","ngModelChange"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],["translate","",1,"label"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"button","-small",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Ql,2,1,"div",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4),e._uU(5),e.qZA(),e.TgZ(6,"div",5),e._uU(7),e.qZA()()(),e.YNc(8,Bl,39,13,"ng-template",6)),2&t&&(e.xp6(2),e.Q6J("ngForOf",e.DdM(3,Hl).constructor(n.question.field.options.scale)),e.xp6(3),e.Oqu(n.question.field.options.labels.least),e.xp6(2),e.Oqu(n.question.field.options.labels.most))},directives:[c.sg,T,p.Pi,l.Fj,l.JJ,l.On,l.Wl],pipes:[p.X$],encapsulation:2}),o})();function Dl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",20),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw(2);return r.validations.minValue(r.question.field.validations).options.value=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("placeholder",e.lcZ(1,2,"Value"))("ngModel",t.validations.minValue(t.question.field.validations).options.value)}}function Yl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",20),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw(2);return r.validations.maxValue(r.question.field.validations).options.value=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("placeholder",e.lcZ(1,2,"Value"))("ngModel",t.validations.maxValue(t.question.field.validations).options.value)}}function Rl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",3)(1,"h6",4),e._uU(2,"Validations"),e.qZA(),e.TgZ(3,"div",5)(4,"label",6)(5,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.required(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(6,"span",8),e._uU(7,"Required"),e.qZA()(),e.TgZ(8,"label",6)(9,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.minValue(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(10,"span",8),e._uU(11,"Minimum"),e.qZA(),e.YNc(12,Dl,2,4,"input",9),e.qZA(),e.TgZ(13,"label",6)(14,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.maxValue(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(15,"span",8),e._uU(16,"Maximum"),e.qZA(),e.YNc(17,Yl,2,4,"input",9),e.qZA()()(),e.TgZ(18,"section",3)(19,"h6",4),e._uU(20,"Options"),e.qZA(),e.TgZ(21,"div",5)(22,"div",10)(23,"label",11),e._uU(24,"Default value"),e.qZA(),e.TgZ(25,"input",12),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.defaultValue=i}),e.qZA()(),e.TgZ(26,"div",13)(27,"label",14),e._uU(28,"Placeholder"),e.qZA(),e.TgZ(29,"input",15),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.placeholder=i}),e.qZA()()()(),e.TgZ(30,"section",3)(31,"h6",4),e._uU(32,"Advanced"),e.qZA(),e.TgZ(33,"div",5)(34,"div",10)(35,"label",16),e._uU(36,"CSS Class"),e.qZA(),e.TgZ(37,"input",17),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.cssClass=i}),e.qZA()(),e.TgZ(38,"div",13)(39,"label",18),e._uU(40,"Admin label"),e.qZA(),e.TgZ(41,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.label=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.validations.required(t.question.field.validations).enabled),e.xp6(4),e.Q6J("ngModel",t.validations.minValue(t.question.field.validations).enabled),e.xp6(3),e.Q6J("ngIf",t.validations.minValue(t.question.field.validations).enabled),e.xp6(2),e.Q6J("ngModel",t.validations.maxValue(t.question.field.validations).enabled),e.xp6(3),e.Q6J("ngIf",t.validations.maxValue(t.question.field.validations).enabled),e.xp6(8),e.Q6J("ngModel",t.question.field.options.defaultValue),e.xp6(4),e.Q6J("ngModel",t.question.field.options.placeholder),e.xp6(8),e.Q6J("ngModel",t.question.field.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.question.label)}}let jl=(()=>{class o{constructor(t,n){this.blockEditor=t,this.validations=n,this.question=this.blockEditor.block}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(N))},o.\u0275cmp=e.Xpm({type:o,selectors:[["number-field"]],decls:4,vars:3,consts:[["type","number",1,"input",3,"placeholder","input"],["preview",""],["block-settings",""],[1,"question-settings"],["translate","",1,"title"],[1,"body"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],["translate","",1,"label"],["type","text","class","input",3,"placeholder","ngModel","ngModelChange",4,"ngIf"],[1,"form-group"],["for","question_default_value","translate",""],["id","question_default_value","type","number",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_placeholder","translate",""],["id","question_placeholder","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["type","text",1,"input",3,"placeholder","ngModel","ngModelChange"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"input",0,1),e.NdJ("input",function(){e.CHM(i);const a=e.MAs(1);return a.value?a.value="":null}),e.ALo(2,"translate"),e.qZA(),e.YNc(3,Rl,42,9,"ng-template",2)}2&t&&e.Q6J("placeholder",n.question.field.options.placeholder||e.lcZ(2,1,"User answer..."))},directives:[T,p.Pi,l.Wl,l.JJ,l.On,c.O5,l.Fj,l.wV],pipes:[p.X$],encapsulation:2}),o})();function zl(o,s){if(1&o&&(e._UZ(0,"option",12),e.ALo(1,"translate")),2&o){const t=s.$implicit,n=s.index,i=e.oxw(3);e.Q6J("ngValue",t.uid)("label",(t.title||e.lcZ(1,3,"Untitled"))+" (Section #"+(n+1)+")")("disabled",n<=i.currentIndex)}}function Vl(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",8)(1,"label",9),e._uU(2,"Skip to section"),e.qZA(),e.TgZ(3,"select",10),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).section.next_section_uid=i}),e.YNc(4,zl,2,5,"option",11),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.section.next_section_uid),e.xp6(1),e.Q6J("ngForOf",t.sections)}}function $l(o,s){if(1&o&&(e._UZ(0,"option",41),e.ALo(1,"translate")),2&o){const t=e.oxw(),n=t.$implicit,i=t.index;e.Q6J("ngValue",n.field.uid)("label",n.title||e.lcZ(1,2,"Question #")+(i+1)+" - "+n.field.type)}}function Gl(o,s){if(1&o&&(e.ynx(0),e.YNc(1,$l,2,4,"option",40),e.BQk()),2&o){const t=s.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",t.field&&n.operatorMapService.hasType(t.field.type))}}function Wl(o,s){if(1&o&&(e.TgZ(0,"option",43),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}function Xl(o,s){if(1&o&&e.YNc(0,Wl,3,4,"option",42),2&o){const t=e.oxw().$implicit,n=e.oxw(4);e.Q6J("ngForOf",n.operatorMapService.getOperators(n.questionFromCondition(t).field.type))}}function Kl(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"multiple-input",44),e.BQk()),2&o){const t=e.oxw().$implicit,n=e.oxw(4);e.xp6(1),e.Q6J("values",t.value)("suggestions",n.fieldValues(t))}}function ec(o,s){if(1&o&&e._UZ(0,"option",47),2&o){const t=s.$implicit;e.Q6J("label",t.label)("ngValue",t.uid)}}function tc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"select",24),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).$implicit.value[0]=i}),e.YNc(1,ec,1,2,"option",46),e.qZA()}if(2&o){const t=e.oxw(2).$implicit,n=e.oxw(4);e.Q6J("ngModel",t.value[0]),e.xp6(1),e.Q6J("ngForOf",n.fieldValues(t))}}function nc(o,s){if(1&o&&e.YNc(0,tc,2,2,"select",45),2&o){const t=e.oxw().$implicit,n=e.MAs(23),i=e.oxw(4);e.Q6J("ngIf",("contains"!==t.operator||"not contains"!==t.operator)&&i.hasDefinedValues(t))("ngIfElse",n)}}function oc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",48),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.value[0]=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("placeholder",e.lcZ(1,2,"Answer"))("ngModel",t.value[0])}}function ic(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"option",49),e.ALo(2,"translate"),e.BQk()),2&o){const t=s.$implicit,n=s.index,i=e.oxw().$implicit,r=e.oxw(4);e.xp6(1),e.Q6J("value",t.uid)("selected",i.next_section_uid===t.uid)("label",t.title||e.lcZ(2,4,"Section #")+(n+1))("disabled",n<=r.currentIndex)}}function rc(o,s){1&o&&(e.TgZ(0,"div",50)(1,"div",51),e._uU(2,"This condition contains an error, please fix it, or it will be ignored. "),e.qZA()())}function sc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"div",15)(3,"label",20),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"select",21),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.field=i})("ngModelChange",function(){return e.CHM(t).$implicit.value=[]}),e.YNc(8,Gl,2,1,"ng-container",22),e.qZA()()(),e.TgZ(9,"div",23)(10,"label",2),e._uU(11,"\xa0"),e.qZA(),e.TgZ(12,"select",24),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.operator=i}),e._UZ(13,"option",25),e.YNc(14,Xl,1,1,"ng-template",26),e.qZA()(),e.TgZ(15,"div",27)(16,"div",15)(17,"label",2),e._uU(18,"\xa0"),e.qZA(),e.YNc(19,Kl,2,2,"ng-container",28),e.YNc(20,nc,1,2,"ng-template",null,29,e.W1O),e.YNc(22,oc,2,4,"ng-template",null,30,e.W1O),e.qZA()(),e.TgZ(24,"div",23)(25,"div",15)(26,"label",31),e._uU(27,"Skip to"),e.qZA(),e.TgZ(28,"select",32,33),e.NdJ("change",function(){const r=e.CHM(t).$implicit,a=e.MAs(29);return e.oxw(4).checkCondition(a.value,r)}),e.TgZ(30,"option",34),e._uU(31,"Choose"),e.qZA(),e.YNc(32,ic,3,6,"ng-container",22),e.TgZ(33,"option",35),e._uU(34,"Submit survey"),e.qZA()()()(),e.TgZ(35,"div",36)(36,"label",2),e._uU(37,"\xa0"),e.qZA(),e.TgZ(38,"button",37),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw(4).removeCondition(a,i)}),e.ALo(39,"translate"),e.TgZ(40,"span",38),e._uU(41,"delete"),e.qZA()()(),e.YNc(42,rc,3,0,"div",39),e.qZA()}if(2&o){const t=s.$implicit,n=s.index,i=e.MAs(21),r=e.oxw(4);e.xp6(3),e.Q6J("for","skip_to_condition_question_"+n),e.xp6(1),e.Oqu(n>0?e.lcZ(5,15,"And when"):e.lcZ(6,17,"When")),e.xp6(3),e.Q6J("id","skip_to_condition_question_"+n)("ngModel",t.field),e.xp6(1),e.Q6J("ngForOf",r.section.blocks),e.xp6(4),e.Q6J("ngModel",t.operator),e.xp6(2),e.Q6J("ngIf",t.field),e.xp6(5),e.Q6J("ngIf","in"===t.operator||"not in"===t.operator)("ngIfElse",i),e.xp6(7),e.Q6J("for","skip_to_condition_field_section"+n),e.xp6(2),e.Q6J("id","skip_to_condition_field_section"+n),e.xp6(4),e.Q6J("ngForOf",r.sections),e.xp6(1),e.Q6J("selected","submit"===t.action),e.xp6(5),e.uIk("data-tooltip",e.lcZ(39,19,"Delete condition")),e.xp6(4),e.Q6J("ngIf",r.containsLogicalErrors(t))}}function ac(o,s){if(1&o&&(e.TgZ(0,"div",15),e.YNc(1,sc,43,21,"div",17),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.section.conditions)}}function lc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",13),e.YNc(1,ac,2,1,"div",14),e.TgZ(2,"div",15)(3,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCondition()}),e._uU(4,"Add new condition"),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.section.conditions.length>0)}}const Te=function(o){return[o]};function cc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",1)(1,"label",2),e._uU(2,"After completing this section:"),e.qZA(),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().section.action="next"}),e._uU(5," Display next section "),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().section.action="section"}),e._uU(7," Skip to section "),e.qZA(),e.TgZ(8,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().section.action="conditions"}),e._uU(9," Skip based on answers "),e.qZA(),e.TgZ(10,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().section.action="submit"}),e._uU(11," Submit survey "),e.qZA()(),e.YNc(12,Vl,5,2,"div",6),e.YNc(13,lc,5,1,"div",7),e.qZA()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(9,Te,"next"===t.section.action?"-primary":"-alt")),e.xp6(2),e.Q6J("ngClass",e.VKq(11,Te,"section"===t.section.action?"-primary":"-alt"))("disabled",t.sections.length<2||t.currentIndex===t.sections.length-1),e.xp6(2),e.Q6J("ngClass",e.VKq(13,Te,"conditions"===t.section.action?"-primary":"-alt"))("disabled",t.sections.length<2||t.section.blocks.length<1||t.currentIndex===t.sections.length-1||!t.sectionHasQuestion(t.section)),e.xp6(2),e.Q6J("ngClass",e.VKq(15,Te,"submit"===t.section.action?"-primary":"-alt"))("disabled",t.sections.length<2||t.currentIndex===t.sections.length-1),e.xp6(2),e.Q6J("ngIf","section"===t.section.action),e.xp6(1),e.Q6J("ngIf","conditions"===t.section.action)}}let pc=(()=>{class o{constructor(t,n){this.editorComponent=t,this.operatorMapService=n,this.sections=this.editorComponent.survey.sections,this.newCondition={operator:"equals",field:null,action:"section",next_section_uid:null,value:[""]},this.fieldTypesWithValues=["radio","checkbox","select","choices","multiple-choices","dropdown"]}ngOnInit(){}get currentIndex(){return this.sections.indexOf(this.section)}get availableQuestions(){const t=["radio","checkbox","select"];return this.section.blocks.filter(n=>n instanceof Me&&t.includes(n.field.type))}isValidCondition(t){return t.field&&t.operator&&t.value.length>0&&t.next_section_uid}addCondition(){const t=(0,h.Ee)({},this.newCondition);this.section.conditions.push(t),this.newCondition={operator:"equals",field:null,action:"section",next_section_uid:null,value:[""]}}removeCondition(t,n){if((0,h.fJ)(n)){const i=this.section.conditions.indexOf(t);this.section.conditions.splice(i,1)}}questionFromCondition(t){return this.section.blocks.find(n=>("question"===n.type||"question"===n.category)&&n.field.uid===t.field)}hasDefinedValues(t){const n=this.questionFromCondition(t);return n&&this.fieldTypesWithValues.includes(n.field.type)}fieldValues(t){return this.questionFromCondition(t)?.field.options?.choices||[]}checkCondition(t,n){n.action="submit"===t?"submit":"section",n.next_section_uid="submit"===t?"":t}containsLogicalErrors(t){return!!this.sections.find((i,r)=>t.next_section_uid===i.uid&&r<=this.currentIndex)}isOperatorAvailable(t,n){const i=this.questionFromCondition(t)?.field.type;return i&&this.operatorMapService.hasOperator(i,n)}sectionHasQuestion(t){return!!t.blocks.find(n=>"question"===n.type||"question"===n.category)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(ke))},o.\u0275cmp=e.Xpm({type:o,selectors:[["skip-logic"]],inputs:{section:"section"},features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}])],decls:1,vars:1,consts:[["class","skip-logic",4,"ngIf"],[1,"skip-logic"],["translate","",1,"label"],[1,"button-group","-attached"],["translate","",1,"button",3,"ngClass","click"],["translate","",1,"button",3,"ngClass","disabled","click"],["class","form-group -last",4,"ngIf"],["class","conditions",4,"ngIf"],[1,"form-group","-last"],["for","skip_to_section","translate","",1,"label"],["id","skip_to_section",1,"input",3,"ngModel","ngModelChange"],[3,"ngValue","label","disabled",4,"ngFor","ngForOf"],[3,"ngValue","label","disabled"],[1,"conditions"],["class","form-group",4,"ngIf"],[1,"form-group"],["translate","",1,"button","-primary",3,"click"],["class","row no-gutters",4,"ngFor","ngForOf"],[1,"row","no-gutters"],[1,"col-3"],[1,"label",3,"for"],[1,"input","-left-attach",3,"id","ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"col-2"],[1,"input","-middle-attach",3,"ngModel","ngModelChange"],["value",""],[3,"ngIf"],[1,"col"],[4,"ngIf","ngIfElse"],["definedValue",""],["rawValue",""],["translate","",1,"label",3,"for"],[1,"input","-middle-attach",3,"id","change"],["skipTo",""],["value","","translate",""],["value","submit","translate","",3,"selected"],[1,"col-auto"],[1,"button","-right-attach","-alt",3,"click"],[1,"material-icons"],["class","col-12",4,"ngIf"],[3,"ngValue","label",4,"ngIf"],[3,"ngValue","label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["classes","-middle-attach",3,"values","suggestions"],["class","input -middle-attach",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],[3,"label","ngValue",4,"ngFor","ngForOf"],[3,"label","ngValue"],["type","text",1,"input","-middle-attach",3,"placeholder","ngModel","ngModelChange"],[3,"value","selected","label","disabled"],[1,"col-12"],["translate","",1,"message","-small","-attention"]],template:function(t,n){1&t&&e.YNc(0,cc,14,17,"div",0),2&t&&e.Q6J("ngIf",n.section)},directives:[c.O5,p.Pi,c.mk,l.EJ,l.JJ,l.On,c.sg,l.YN,l.Kr,Fe.d,l.Fj],pipes:[p.X$,c.rS],encapsulation:2}),o})();function dc(o,s){1&o&&e.GkF(0,13),2&o&&e.Q6J("ngComponentOutlet",s.$implicit)}let at=(()=>{class o{constructor(t,n,i){this.editor=t,this.route=n,this.router=i,this.onApply=new e.vpe,this.onOpen=new Ae.xQ,this.open=!1,this.filters={page:1,from_date:"",to_date:"",status:{trashed:!1}},this.cssClass=!0}get filtersForApply(){const t=(0,h.H4)(this.filters);if(t.status){delete t.status,t["status[]"]=[];for(const n in this.filters.status)this.filters.status[n]&&t["status[]"].push(n)}return t}apply(t){var n=this;return(0,f.Z)(function*(){n.open=!1,t?.stopPropagation(),yield n.router.navigate([],{relativeTo:n.route,queryParams:{filters:JSON.stringify((0,h.H4)(n.filters))}})})()}isOpen(){return this.open}toggle(){setTimeout(()=>{this.open=!this.open,this.onOpen.next(this.open)},10)}setPage(t){var n=this;return(0,f.Z)(function*(){n.filters.page=t,yield n.apply()})()}ngOnInit(){this.subscription=this.route.queryParams.subscribe(this.watchQueryParams.bind(this))}watchQueryParams(t){var n=this;return(0,f.Z)(function*(){n.filters={...n.filters,page:1,...JSON.parse(t.filters||"{}")},n.onApply.emit(n.filtersForApply)})()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t){t.stopPropagation()}onDismiss(){this.open=!1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(m.gz),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["entries-filter"]],hostVars:2,hostBindings:function(t,n){1&t&&e.NdJ("click",function(r){return n.onClick(r)})("click",function(r){return n.onDismiss(r)},!1,e.evT),2&t&&e.ekj("entries-filter",n.cssClass)},outputs:{onApply:"onApply"},decls:20,vars:5,consts:[[1,"dialog"],[1,"body"],[1,"form-group"],[1,"row"],[1,"col"],["for","surveys_from_date","translate","",1,"label"],["type","date","id","surveys_from_date",1,"input",3,"ngModel","ngModelChange"],["for","surveys_to_date","translate","",1,"label"],["type","date","id","surveys_to_date",1,"input",3,"ngModel","ngModelChange"],[3,"ngComponentOutlet",4,"ngFor","ngForOf"],[1,"footer"],["translate","",1,"button","-alt",3,"click"],["translate","",1,"button","-primary",3,"click"],[3,"ngComponentOutlet"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",2)(6,"label",5),e._uU(7,"From"),e.qZA(),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(r){return n.filters.from_date=r}),e.qZA()()(),e.TgZ(9,"div",4)(10,"div",2)(11,"label",7),e._uU(12,"To"),e.qZA(),e.TgZ(13,"input",8),e.NdJ("ngModelChange",function(r){return n.filters.to_date=r}),e.qZA()()()()(),e.YNc(14,dc,1,1,"ng-container",9),e.qZA(),e.TgZ(15,"div",10)(16,"button",11),e.NdJ("click",function(){return n.toggle()}),e._uU(17,"Cancel"),e.qZA(),e.TgZ(18,"button",12),e.NdJ("click",function(r){return n.apply(r)}),e._uU(19,"Apply"),e.qZA()()()),2&t&&(e.ekj("is-open",n.isOpen()),e.xp6(8),e.Q6J("ngModel",n.filters.from_date),e.xp6(5),e.Q6J("ngModel",n.filters.to_date),e.xp6(1),e.Q6J("ngForOf",n.editor.slots.get("entries-filters")))},directives:[p.Pi,l.Fj,l.JJ,l.On,c.sg,c.$G],encapsulation:2}),o})();function uc(o,s){1&o&&e._UZ(0,"loading-indicator")}const gc=function(){return{action:"export-entries-csv",target:"entries"}},_c=function(){return{action:"export-entries-json",target:"entries"}};function mc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"label",3),e._uU(1,"Export as"),e.qZA(),e.TgZ(2,"button",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.exportAs(i.CSV_FORMAT)}),e.TgZ(3,"span"),e._uU(4,"CSV"),e.qZA()(),e.TgZ(5,"button",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.exportAs(i.JSON_FORMAT)}),e.TgZ(6,"span"),e._uU(7,"JSON"),e.qZA()(),e.TgZ(8,"div",5)(9,"label",6)(10,"input",7),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().exportAll=i}),e.qZA(),e.TgZ(11,"span",3),e._uU(12,"All entries"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("clickTracker",e.DdM(3,gc)),e.xp6(3),e.Q6J("clickTracker",e.DdM(4,_c)),e.xp6(5),e.Q6J("ngModel",t.exportAll)}}let hc=(()=>{class o{constructor(t,n){this.editor=t,this.entriesService=n,this.filters={},this.open=!1,this.IS_EXPORTING=this.entriesService.exporting$,this.CSV_FORMAT="csv",this.JSON_FORMAT="json",this.cssClass=!0,this.exportAll=!1}isOpen(){return this.open}toggle(){setTimeout(()=>this.open=!this.open,10)}exportAs(t){var n=this;return(0,f.Z)(function*(){yield n.entriesService.export(n.editor.survey.uid,t,n.exportAll?null:n.filters)})()}onClick(t){t.stopPropagation()}onDismiss(t){this.open=!1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(Ke))},o.\u0275cmp=e.Xpm({type:o,selectors:[["entries-export"]],hostVars:2,hostBindings:function(t,n){1&t&&e.NdJ("click",function(r){return n.onClick(r)})("click",function(r){return n.onDismiss(r)},!1,e.evT),2&t&&e.ekj("entries-export",n.cssClass)},inputs:{filters:"filters"},decls:5,vars:6,consts:[[1,"dialog"],[4,"ngIf","ngIfElse"],["exportButtons",""],["translate","",1,"label"],[1,"button","-alt","-wide",3,"clickTracker","click"],[1,"form-group","-last"],[1,"labeled-switch"],["type","checkbox",1,"switch",3,"ngModel","ngModelChange"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,uc,1,0,"loading-indicator",1),e.ALo(2,"async"),e.YNc(3,mc,13,5,"ng-template",null,2,e.W1O),e.qZA()),2&t){const i=e.MAs(4);e.ekj("is-open",n.isOpen()),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,4,n.IS_EXPORTING))("ngIfElse",i)}},directives:[c.O5,$.Q,p.Pi,S.g,l.Wl,l.JJ,l.On],pipes:[c.Ov],encapsulation:2}),o})();var ie=g(8028);let lt=(()=>{class o{constructor(t){this.slots=t}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(ge))},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,l.u5,L.I,ie.E,p.aw]]}),o})();var he=g(4589);let fc=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,L.I,l.u5,ie.E,p.aw]]}),o})(),fe=(()=>{class o{constructor(t,n){this.blockEditor=t,this.templateRef=n,t.toolbarTemplate=n}ngOnDestroy(){this.blockEditor.toolbarTemplate=null}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(e.Rgc))},o.\u0275dir=e.lG2({type:o,selectors:[["","block-toolbar",""]]}),o})();function xc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("start")}),e.ALo(1,"translate"),e._uU(2," format_align_left "),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("center")}),e.ALo(4,"translate"),e._uU(5," format_align_center "),e.qZA(),e.TgZ(6,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("end")}),e.ALo(7,"translate"),e._uU(8," format_align_right "),e.qZA(),e.TgZ(9,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("justify")}),e.ALo(10,"translate"),e._uU(11," format_align_justify "),e.qZA(),e._UZ(12,"span",4)}if(2&o){const t=e.oxw();e.ekj("is-active",t.isAlignment("start")),e.uIk("data-tooltip",e.lcZ(1,12,"Align left")),e.xp6(3),e.ekj("is-active",t.isAlignment("center")),e.uIk("data-tooltip",e.lcZ(4,14,"Align center")),e.xp6(3),e.ekj("is-active",t.isAlignment("end")),e.uIk("data-tooltip",e.lcZ(7,16,"Align right")),e.xp6(3),e.ekj("is-active",t.isAlignment("justify")),e.uIk("data-tooltip",e.lcZ(10,18,"Justify"))}}const ct=function(o){return[o]},bc=function(){return["input -small"]};function vc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",5)(1,"h6",6),e._uU(2,"Block Settings"),e.qZA(),e.TgZ(3,"div",7)(4,"div",8)(5,"label",9),e._uU(6,"Content"),e.qZA(),e.TgZ(7,"inline-editor",10),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.value_raw=i})("ngModelChange",function(){e.CHM(t);const i=e.oxw();return i.updateValue(i.block)}),e.qZA()(),e.TgZ(8,"div",8)(9,"label",11),e._uU(10,"Alignment"),e.qZA(),e.TgZ(11,"div",12)(12,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("start")}),e.ALo(13,"translate"),e._uU(14,"format_align_left "),e.qZA(),e.TgZ(15,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("center")}),e.ALo(16,"translate"),e._uU(17,"format_align_center "),e.qZA(),e.TgZ(18,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("end")}),e.ALo(19,"translate"),e._uU(20,"format_align_right "),e.qZA(),e.TgZ(21,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("justify")}),e.ALo(22,"translate"),e._uU(23,"format_align_justify "),e.qZA()()()()(),e.TgZ(24,"section",5)(25,"h6",6),e._uU(26,"Advanced"),e.qZA(),e.TgZ(27,"div",7)(28,"div",8)(29,"label",14),e._uU(30,"CSS Class"),e.qZA(),e.TgZ(31,"input",15),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.options.cssClass=i}),e.qZA()(),e.TgZ(32,"div",16)(33,"label",17),e._uU(34,"Admin label"),e.qZA(),e.TgZ(35,"input",18),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.title=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(7),e.Akn("height: auto; min-height : 71px; padding : 8px;"),e.Q6J("ngClass",e.VKq(28,ct,"paragraph-"+t.block.content.options.alignment))("classes",e.DdM(30,bc))("ngModel",t.block.content.value_raw)("mentions",t.availableBlocks),e.xp6(5),e.ekj("is-active",t.isAlignment("start")),e.uIk("data-tooltip",e.lcZ(13,20,"Align left")),e.xp6(3),e.ekj("is-active",t.isAlignment("center")),e.uIk("data-tooltip",e.lcZ(16,22,"Align center")),e.xp6(3),e.ekj("is-active",t.isAlignment("end")),e.uIk("data-tooltip",e.lcZ(19,24,"Align right")),e.xp6(3),e.ekj("is-active",t.isAlignment("justify")),e.uIk("data-tooltip",e.lcZ(22,26,"Justify")),e.xp6(10),e.Q6J("ngModel",t.block.content.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.block.title)}}let Cc=(()=>{class o{constructor(t,n,i){this.blockEditor=t,this.setup=n,this.sectionEditor=i,this.block=this.blockEditor.block}setAlignment(t){this.block.content.options.alignment=t}isAlignment(t){return this.block.content.options.alignment===t}updateValue(t){t.content.value=be.compileSlateBlocksToText(t.content.value_raw)}get availableBlocks(){return"content"===this.sectionEditor.context?this.setup.availableBlocks:this.blockEditor.availableBlocks}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(B),e.Y36(me))},o.\u0275cmp=e.Xpm({type:o,selectors:[["paragraph-block"]],decls:3,vars:5,consts:[[1,"paragraph",3,"ngClass","ngModel","mentions","ngModelChange"],["block-toolbar",""],["block-settings",""],["type","button",1,"button","-plain","-icon","material-icons","-toolbar",3,"click"],[1,"separator"],[1,"question-settings"],["translate","",1,"title"],[1,"body"],[1,"form-group"],["for","paragraph_content","translate",""],["id","paragraph_content",3,"ngClass","classes","ngModel","mentions","ngModelChange"],["translate",""],[1,"button-group"],[1,"button","material-icons",3,"click"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"inline-editor",0),e.NdJ("ngModelChange",function(r){return n.block.content.value_raw=r})("ngModelChange",function(){return n.updateValue(n.block)}),e.qZA(),e.YNc(1,xc,13,20,"ng-template",1),e.YNc(2,vc,36,31,"ng-template",2)),2&t&&e.Q6J("ngClass",e.VKq(3,ct,"paragraph-"+n.block.content.options.alignment))("ngModel",n.block.content.value_raw)("mentions",n.availableBlocks)},directives:[Le,c.mk,l.JJ,l.On,fe,T,p.Pi,l.Fj],pipes:[p.X$],encapsulation:2}),o})(),yc=(()=>{class o{constructor(t,n){this.setupComponent=t,this.templateRef=n,t.sidebarTemplate=this.lastTemplate=n}ngOnDestroy(){this.lastTemplate===this.setupComponent.sidebarTemplate&&(this.setupComponent.sidebarTemplate=null)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(B),e.Y36(e.Rgc))},o.\u0275dir=e.lG2({type:o,selectors:[["","sidebar",""]]}),o})();var ce=g(8755);function kc(o,s){1&o&&(e.TgZ(0,"span",8),e._uU(1,"Pro"),e.qZA())}function Tc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",3),e.ALo(1,"translate"),e.TgZ(2,"button",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).addBlock(r)}),e.TgZ(3,"span",5),e._uU(4),e.qZA(),e.TgZ(5,"span",6),e._uU(6),e.qZA(),e.YNc(7,kc,2,0,"span",7),e.qZA()()}if(2&o){const t=s.$implicit;e.Q6J("tippy",e.lcZ(1,4,"Click to add")),e.xp6(4),e.Oqu(t.icon),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.requiresUpgrade)}}function wc(o,s){if(1&o&&(e.TgZ(0,"div",1),e.YNc(1,Tc,8,6,"div",2),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.blockTypes.getByContext("content"))}}function Zc(o,s){1&o&&(e.TgZ(0,"span",8),e._uU(1,"Pro"),e.qZA())}function Ac(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",3),e.ALo(1,"translate"),e.TgZ(2,"button",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).addBlock(r)}),e.TgZ(3,"span",5),e._uU(4),e.qZA(),e.TgZ(5,"span",6),e._uU(6),e.qZA(),e.YNc(7,Zc,2,0,"span",7),e.qZA()()}if(2&o){const t=s.$implicit;e.Q6J("tippy",e.lcZ(1,4,"Click to add")),e.xp6(4),e.Oqu(t.icon),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.requiresUpgrade)}}function Mc(o,s){if(1&o&&(e.TgZ(0,"div",1),e.YNc(1,Ac,8,6,"div",2),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.blockTypes.getByContext("question"))}}let qc=(()=>{class o{constructor(t){this.blockTypes=t,this.type="all",this.onAddBlock=new e.vpe}ngOnInit(){}addBlock(t){this.onAddBlock.emit(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["block-types-grid"]],inputs:{type:"type"},outputs:{onAddBlock:"onAddBlock"},decls:2,vars:2,consts:[["class","question-types row no-gutters",4,"ngIf"],[1,"question-types","row","no-gutters"],["class","col-4 question-type","variation","tooltip",3,"tippy",4,"ngFor","ngForOf"],["variation","tooltip",1,"col-4","question-type",3,"tippy"],["type","button",1,"button","-preset",3,"click"],[1,"icon","material-icons"],[1,"name"],["class","chip -primary",4,"ngIf"],[1,"chip","-primary"]],template:function(t,n){1&t&&(e.YNc(0,wc,2,1,"div",0),e.YNc(1,Mc,2,1,"div",0)),2&t&&(e.Q6J("ngIf","all"===n.type||"content"===n.type),e.xp6(1),e.Q6J("ngIf","all"===n.type||"question"===n.type))},directives:[c.O5,c.sg,ce.$o],pipes:[p.X$],encapsulation:2}),o})();function Jc(o,s){if(1&o&&(e.TgZ(0,"div",3),e._uU(1),e.TgZ(2,"small"),e._uU(3),e.qZA(),e.TgZ(4,"span",4),e._uU(5),e.qZA()()),2&o){const t=s.$implicit,n=s.index,i=e.oxw(2);e.xp6(1),e.hij(" ",t.title||"Question #"+(n+1)," "),e.xp6(2),e.Oqu(i.blockType(t).name),e.xp6(2),e.Oqu(i.blockType(t).icon)}}function Sc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"main",1),e.NdJ("cdkDropListDropped",function(i){return e.CHM(t),e.oxw().dropBlock(i)}),e.YNc(1,Jc,6,3,"div",2),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.section.blocks)}}let Uc=(()=>{class o{constructor(t){this.blockTypes=t,this.visible=!1}ngOnInit(){}dropBlock(t){(0,v.bA)(this.section.blocks,t.previousIndex,t.currentIndex)}show(){this.visible=!0}hide(){this.visible=!1}toggle(){this.visible=!this.visible}blockType(t){return this.blockTypes.get(t.typeId)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["reorder-blocks"]],inputs:{section:"section"},decls:1,vars:1,consts:[["class","reorder-blocks","cdkDropList","","cdkDropListOrientation","vertical",3,"cdkDropListDropped",4,"ngIf"],["cdkDropList","","cdkDropListOrientation","vertical",1,"reorder-blocks",3,"cdkDropListDropped"],["class","block-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"block-item"],[1,"icon","material-icons"]],template:function(t,n){1&t&&e.YNc(0,Sc,2,1,"main",0),2&t&&e.Q6J("ngIf",n.visible&&n.section)},directives:[c.O5,v.Wj,c.sg,v.Zt],encapsulation:2}),o})();const Nc=["promptTextarea"],Ic=["popover"];function Fc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().activate()}),e.ALo(3,"translate"),e.TgZ(4,"span",6),e._uU(5,"add"),e.qZA()()()()}if(2&o){const t=e.oxw();e.ekj("is-active",t.isActive),e.xp6(2),e.uIk("data-tooltip",e.lcZ(3,3,"Add New Block"))}}function Ec(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8,9)(3,"div",10)(4,"span",6),e._uU(5,"control_point_duplicate"),e.qZA(),e.TgZ(6,"textarea",11,12),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().prompt=i})("ngModelChange",function(i){return e.CHM(t),e.oxw().handlePromptUpdate(i)})("keydown",function(i){return e.CHM(t),e.oxw().handleKeydown(i)})("keydown.enter",function(i){return e.CHM(t),e.oxw().handleEnter(i)})("keydown.arrowUp",function(i){return e.CHM(t),e.oxw().handleArrowUp(i)})("keydown.arrowDown",function(i){return e.CHM(t),e.oxw().handleArrowDown(i)})("keydown.backspace",function(i){return e.CHM(t),e.oxw().handleBackspace(i)})("focusin",function(i){return e.CHM(t),e.oxw().handleFocus(i)})("focusout",function(i){return e.CHM(t),e.oxw().handleBlur(i)}),e.ALo(8,"translate"),e.qZA()()()()}if(2&o){const t=e.oxw(),n=e.MAs(3);e.ekj("has-block",t.block),e.xp6(1),e.Q6J("tippy",n)("isVisible",t.shouldDisplayPopover)("hideOnClick",!1),e.xp6(5),e.Udp("height",t.height),e.Q6J("ngModel",t.prompt)("placeholder",e.lcZ(8,9,"Type your question or pick a field..."))}}function Qc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",16),e.NdJ("click",function(i){const a=e.CHM(t).index;return e.oxw(2).handleClick(i,a)}),e.TgZ(1,"span",17),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()}if(2&o){const t=s.$implicit,n=s.index,i=e.oxw(2);e.ekj("highlighted",n===i.highlightedBlockTypeIndex),e.Q6J("id","inline-prompt-"+t.type),e.xp6(2),e.Oqu(t.icon),e.xp6(2),e.Oqu(t.name)}}function Oc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",13,14),e.NdJ("keydown.arrowUp",function(i){return e.CHM(t),e.oxw().handleArrowUp(i)})("keydown.arrowDown",function(i){return e.CHM(t),e.oxw().handleArrowDown(i)}),e.YNc(2,Qc,5,5,"div",15),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.filteredBlockTypes)}}let Lc=(()=>{class o{constructor(t,n){this.blockTypes=t,this.hostElement=n,this.context="all",this.isActive=!1,this.onSelect=new e.vpe,this.prompt="",this.highlightedBlockTypeIndex=0,this.hasFocus=!1,this.shouldDisplayPopover=!1}ngOnInit(){}get placeholder(){return this.selectedBlockType?"Type the question then press enter to insert it...":"Type your question or press / to pick a field..."}handleBackspace(t){this.highlightedBlockTypeIndex=0,""===this.prompt&&(this.selectedBlockType=null)}handleArrowUp(t){this.highlightedBlockTypeIndex--,this.filteredBlockTypes[this.highlightedBlockTypeIndex]||(this.highlightedBlockTypeIndex=this.filteredBlockTypes.length-1),this.popover?.nativeElement.querySelector(`#inline-prompt-${this.filteredBlockTypes[this.highlightedBlockTypeIndex].type}`).scrollIntoViewIfNeeded({behavior:"smooth"}),t.preventDefault()}handleArrowDown(t){this.highlightedBlockTypeIndex++,this.filteredBlockTypes[this.highlightedBlockTypeIndex]||(this.highlightedBlockTypeIndex=0),this.popover?.nativeElement.querySelector(`#inline-prompt-${this.filteredBlockTypes[this.highlightedBlockTypeIndex].type}`).scrollIntoViewIfNeeded({behavior:"smooth"}),t.preventDefault()}handleClick(t,n){this.highlightedBlockTypeIndex=n,this.handleEnter(t)}handleEnter(t){let n=this.prompt,i=this.filteredBlockTypes[this.highlightedBlockTypeIndex];i?n="":i=this.blockTypes.get("content"===this.context?"content:paragraph":"question:text"),this.onSelect.emit({blockType:i,index:this.block?this.index:null,focusAfterInsertion:!0,args:{title:n}}),this.highlightedBlockTypeIndex=0,this.selectedBlockType=null,this.prompt="",this.isActive=!1,this.shouldDisplayPopover=!1,t.preventDefault()}handlePromptUpdate(t){this.highlightedBlockTypeIndex=0,this.shouldDisplayPopover=0!==this.filteredBlockTypes.length}get filteredBlockTypes(){let t=this.blockTypes.getByContext(this.context);return this.prompt&&(t=t.filter(n=>n.name.toLowerCase().includes(this.prompt.toLowerCase()))),t}get height(){return 25*((this.prompt.match(/\n/g)?.length||0)+1)+"px"}activate(){this.isActive=!0,setTimeout(()=>{this.promptTextarea.nativeElement.focus()},100)}deactivate(){this.isActive=!1}select(t){this.onSelect.emit(t),this.deactivate()}isEditingContent(){return"content"===this.context}onEscape(t){this.deactivate()}onFocusOut(t){}onFocusIn(t){}handleKeydown(t){"/"===t.key&&(this.shouldDisplayPopover=!0,t.preventDefault())}handleFocus(t){this.shouldDisplayPopover=!0}handleBlur(t){setTimeout(()=>this.shouldDisplayPopover=!1,200)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(M),e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["inline-block-prompt"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Nc,5),e.Gf(Ic,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.promptTextarea=i.first),e.iGM(i=e.CRH())&&(n.popover=i.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown.escape",function(r){return n.onEscape(r)},!1,e.evT)("focusout",function(r){return n.onFocusOut(r)})("focusin",function(r){return n.onFocusIn(r)})},inputs:{context:"context",section:"section",isActive:"isActive",index:"index",block:"block"},outputs:{onSelect:"onSelect"},decls:4,vars:2,consts:[["class","inline-toolbar",3,"is-active",4,"ngIf"],["class","inline-prompt",3,"has-block",4,"ngIf"],["completion",""],[1,"inline-toolbar"],[1,"add-new"],["type","button",1,"button","-small","-compact",3,"click"],[1,"material-icons","icon"],[1,"inline-prompt"],["variation","popper","className","inline-prompt","trigger","manual","placement","bottom-start",3,"tippy","isVisible","hideOnClick"],["inline","tippy"],[1,"inline-prompt-input-wrapper"],[1,"inline-prompt-input",3,"ngModel","placeholder","ngModelChange","keydown","keydown.enter","keydown.arrowUp","keydown.arrowDown","keydown.backspace","focusin","focusout"],["promptTextarea",""],["tabindex","0",1,"inline-prompt-popover",3,"keydown.arrowUp","keydown.arrowDown"],["popover",""],["class","block-type","role","button",3,"highlighted","id","click",4,"ngFor","ngForOf"],["role","button",1,"block-type",3,"id","click"],[1,"icon","material-icons"]],template:function(t,n){1&t&&(e.YNc(0,Fc,6,5,"div",0),e.YNc(1,Ec,9,11,"div",1),e.YNc(2,Oc,3,1,"ng-template",null,2,e.W1O)),2&t&&(e.Q6J("ngIf",n.block&&!n.isActive),e.xp6(1),e.Q6J("ngIf",!n.block||n.isActive))},directives:[c.O5,ce.$o,l.Fj,l.JJ,l.On,c.sg],pipes:[p.X$],encapsulation:2}),o})();var Bc=g(9349),Be=g(2501),pt=g(3210);function Hc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"feature-switch",1),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limitations.date.enabled=i}),e.ALo(1,"translate"),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"Start date"),e.qZA(),e.TgZ(7,"input",6),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limitations.date.start=i}),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div",4)(10,"label",7),e._uU(11,"Message (Not started)"),e.qZA(),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limitations.date.notStartedMessage=i}),e.ALo(13,"translate"),e.qZA()()(),e.TgZ(14,"div",3)(15,"div",4)(16,"label",9),e._uU(17,"End date"),e.qZA(),e.TgZ(18,"input",10),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limitations.date.end=i}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",4)(21,"label",11),e._uU(22,"Message (Finished)"),e.qZA(),e.TgZ(23,"input",12),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limitations.date.finishedMessage=i}),e.ALo(24,"translate"),e.qZA()()()()()}if(2&o){const t=e.oxw();e.Q6J("description",e.lcZ(1,10,"Control the start or the end date of this survey"))("ngModel",t.limitations.date.enabled),e.xp6(7),e.Q6J("placeholder",e.lcZ(8,12,""))("ngModel",t.limitations.date.start),e.xp6(5),e.Q6J("placeholder",e.lcZ(13,14,"This survey has not started yet."))("ngModel",t.limitations.date.notStartedMessage),e.xp6(6),e.Q6J("placeholder",e.lcZ(19,16,""))("ngModel",t.limitations.date.end),e.xp6(5),e.Q6J("placeholder",e.lcZ(24,18,"This survey has ended."))("ngModel",t.limitations.date.finishedMessage)}}let Pc=(()=>{class o{constructor(t){this.setup=t,this.cssClass=!0,t.survey.settings.limitations.hasOwnProperty("date")||(t.survey.settings.limitations.date={enabled:!1,start:null,end:null})}get limitations(){return this.setup.survey.settings.limitations}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["date-settings"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("col-12",n.cssClass)},decls:1,vars:1,consts:[["icon","calendar_today","name","Date Limitation","pro-badge","limitations-extension","activate-badge","limitations-extension",3,"description","ngModel","ngModelChange",4,"ngIf"],["icon","calendar_today","name","Date Limitation","pro-badge","limitations-extension","activate-badge","limitations-extension",3,"description","ngModel","ngModelChange"],[1,"row"],[1,"col-6"],[1,"form-group"],["for","start_date","translate","",1,"label"],["id","start_date","name","start_date","type","datetime-local",1,"input",3,"placeholder","ngModel","ngModelChange"],["for","not_started_message","translate","",1,"label"],["id","not_started_message","name","not_started_message","type","text",1,"input",3,"placeholder","ngModel","ngModelChange"],["for","end_date","translate","",1,"label"],["id","end_date","name","end_date","type","datetime-local",1,"input",3,"placeholder","ngModel","ngModelChange"],["for","finished_message","translate","",1,"label"],["id","finished_message","name","finished_message","type","text",1,"input",3,"placeholder","ngModel","ngModelChange"]],template:function(t,n){1&t&&e.YNc(0,Hc,25,20,"feature-switch",0),2&t&&e.Q6J("ngIf",n.limitations.date)},directives:[c.O5,W.v,Be.x,pt.M,l.JJ,l.On,p.Pi,l.Fj],pipes:[p.X$],encapsulation:2}),o})();function Dc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().setTime(r.timeout)}),e._uU(1),e.qZA()}if(2&o){const t=s.$implicit,n=e.oxw();e.ekj("-primary",n.timeout==t.timeout),e.xp6(1),e.hij(" ",t.name," ")}}function Yc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",0)(1,"label",7),e._uU(2,"Custom timeout (in minutes)"),e.qZA(),e.TgZ(3,"input",8),e.NdJ("input",function(i){return e.CHM(t),e.oxw().setUserPeriod(i.target.value)}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("value",t.timeout)}}let Rc=(()=>{class o{constructor(){this.time=[{name:"Permanent",timeout:5256e3},{name:"1 Day",timeout:1440},{name:"1 Week",timeout:10080},{name:"1 Month",timeout:43800},{name:"1 Year",timeout:525600}],this.periodes=[],this.userPeriod=1,this.timeout=0,this.onTimeoutSelected=new e.vpe,this.time.forEach(t=>{this.periodes.push(t.timeout)})}ngOnInit(){}setTime(t){this.timeout=t,this.onTimeoutSelected.emit(t)}setUserPeriod(t){this.setTime(t),this.userPeriod=t}isUserPeriod(){return!this.periodes.includes(this.timeout)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["limitations-timeout"]],inputs:{timeout:"timeout"},outputs:{onTimeoutSelected:"onTimeoutSelected"},decls:8,vars:4,consts:[[1,"form-group"],["translate","",1,"label"],[1,"button-group"],["type","button","class","button",3,"-primary","click",4,"ngFor","ngForOf"],["type","button","translate","",1,"button",3,"click"],["class","form-group",4,"ngIf"],["type","button",1,"button",3,"click"],["for","custom_timeout","translate",""],["id","custom_timeout","name","cookie_timeout","type","number","min","1","step","1",1,"input",3,"value","input"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2,"Timeout (in minutes)"),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,Dc,2,3,"button",3),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.setTime(n.userPeriod)}),e._uU(6,"Custom"),e.qZA()()(),e.YNc(7,Yc,4,1,"div",5)),2&t&&(e.xp6(4),e.Q6J("ngForOf",n.time),e.xp6(1),e.ekj("-primary",n.isUserPeriod()),e.xp6(2),e.Q6J("ngIf",n.isUserPeriod()))},directives:[p.Pi,c.sg,c.O5],encapsulation:2}),o})();function jc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"feature-switch",5),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limitations.enabled=i}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("name",e.lcZ(1,3,"Limit entry submission"))("description",e.lcZ(2,5,"Limit how many entries a user can submit"))("ngModel",t.limitations.enabled)}}function zc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"feature-switch",6),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limitations.cookie.enabled=i}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.TgZ(3,"div",7)(4,"label",8),e._uU(5,"Submissions per session"),e.qZA(),e.TgZ(6,"input",9),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limitations.cookie.submissions=i}),e.qZA()(),e.TgZ(7,"div",7)(8,"limitations-timeout",10),e.NdJ("onTimeoutSelected",function(i){return e.CHM(t),e.oxw().limitations.cookie.timeout=i}),e.qZA()()()}if(2&o){const t=e.oxw();e.Q6J("name",e.lcZ(1,5,"Cookies"))("description",e.lcZ(2,7,"Limit entries by cookie"))("ngModel",t.limitations.cookie.enabled),e.xp6(6),e.Q6J("ngModel",t.limitations.cookie.submissions),e.xp6(2),e.Q6J("timeout",t.limitations.cookie.timeout)}}function Vc(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"feature-switch",11),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limitations.ip.enabled=i}),e.ALo(1,"translate"),e.TgZ(2,"div",7)(3,"label",12),e._uU(4,"Submissions per IP address"),e.qZA(),e.TgZ(5,"input",13),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limitations.ip.submissions=i}),e.qZA()(),e.TgZ(6,"div",7)(7,"limitations-timeout",10),e.NdJ("onTimeoutSelected",function(i){return e.CHM(t),e.oxw().limitations.ip.timeout=i}),e.qZA()()()}if(2&o){const t=e.oxw();e.Q6J("description",e.lcZ(1,4,"Limit entries by IP address"))("ngModel",t.limitations.ip.enabled),e.xp6(5),e.Q6J("ngModel",t.limitations.ip.submissions),e.xp6(2),e.Q6J("timeout",t.limitations.ip.timeout)}}function $c(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"feature-switch",14),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limitations.user.enabled=i}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.TgZ(3,"div",7)(4,"label",15),e._uU(5,"Submissions per user"),e.qZA(),e.TgZ(6,"input",16),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limitations.user.submissions=i}),e.qZA()(),e.TgZ(7,"div",7)(8,"limitations-timeout",10),e.NdJ("onTimeoutSelected",function(i){return e.CHM(t),e.oxw().limitations.user.timeout=i}),e.qZA()()()}if(2&o){const t=e.oxw();e.Q6J("name",e.lcZ(1,5,"Authenticated users"))("description",e.lcZ(2,7,"Limit entries by user"))("ngModel",t.limitations.user.enabled),e.xp6(6),e.Q6J("ngModel",t.limitations.user.submissions),e.xp6(2),e.Q6J("timeout",t.limitations.user.timeout)}}let Gc=(()=>{class o{constructor(t){this.setup=t,this.cssClass=!0,t.survey.settings.limitations.hasOwnProperty("entry")||(t.survey.settings.limitations.entry={enabled:!1,cookie:{enabled:!1,submissions:1,timeout:43800,options:{uid:(0,b.Z)()}},ip:{enabled:!1,submissions:1,timeout:0,options:{}},user:{enabled:!1,submissions:1,timeout:0,options:{}}})}ngOnInit(){}get limitations(){return this.setup.survey.settings.limitations.entry}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["limitations-settings"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("col-12",n.cssClass)},decls:5,vars:4,consts:[["icon","policy","pro-badge","limitations-extension","activate-badge","limitations-extension",3,"name","description","ngModel","ngModelChange",4,"ngIf"],[1,"sub-settings"],["icon","devices",3,"name","description","ngModel","ngModelChange",4,"ngIf"],["icon","public","name","IP",3,"description","ngModel","ngModelChange",4,"ngIf"],["icon","people",3,"name","description","ngModel","ngModelChange",4,"ngIf"],["icon","policy","pro-badge","limitations-extension","activate-badge","limitations-extension",3,"name","description","ngModel","ngModelChange"],["icon","devices",3,"name","description","ngModel","ngModelChange"],[1,"form-group"],["for","cookie_submissions","translate","",1,"label"],["id","cookie_submissions","name","cookie_submissions","type","number","min","1","step","1",1,"input",3,"ngModel","ngModelChange"],[3,"timeout","onTimeoutSelected"],["icon","public","name","IP",3,"description","ngModel","ngModelChange"],["for","ip_submissions","translate","",1,"label"],["id","ip_submissions","name","ip_submissions","type","number","min","1","step","1",1,"input",3,"ngModel","ngModelChange"],["icon","people",3,"name","description","ngModel","ngModelChange"],["for","user_submissions","translate","",1,"label"],["id","user_submissions","name","user_submissions","type","number","min","1","step","1",1,"input",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.YNc(0,jc,3,7,"feature-switch",0),e.TgZ(1,"div",1),e.YNc(2,zc,9,9,"feature-switch",2),e.YNc(3,Vc,8,6,"feature-switch",3),e.YNc(4,$c,9,9,"feature-switch",4),e.qZA()),2&t&&(e.Q6J("ngIf",n.limitations),e.xp6(2),e.Q6J("ngIf",n.limitations.enabled),e.xp6(1),e.Q6J("ngIf",n.limitations.enabled),e.xp6(1),e.Q6J("ngIf",n.limitations.enabled))},directives:[c.O5,W.v,Be.x,pt.M,l.JJ,l.On,p.Pi,l.qQ,l.wV,l.Fj,Rc],pipes:[p.X$],encapsulation:2}),o})();function Wc(o,s){1&o&&(e.TgZ(0,"span",4),e._uU(1,"Pending"),e.qZA())}function Xc(o,s){1&o&&(e.TgZ(0,"span",5),e._uU(1,"Closed"),e.qZA())}function Kc(o,s){1&o&&(e.TgZ(0,"span",6),e._uU(1,"Open"),e.qZA())}function ep(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Wc,2,0,"span",1),e.YNc(2,Xc,2,0,"span",2),e.YNc(3,Kc,2,0,"span",3),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isNotStarted()),e.xp6(1),e.Q6J("ngIf",t.isFinished()),e.xp6(1),e.Q6J("ngIf",t.isOpen())}}let tp=(()=>{class o{constructor(t){this.card=t}ngOnInit(){}isAvailable(){return this.card.survey.enabled&&this.card.survey.settings.limitations?.date?.enabled}isNotStarted(){let t=this.card.survey.settings.limitations?.date.start;if(!t)return!1;const n=new Date;return t=new Date(t),t.getTime()>n.getTime()}isFinished(){let t=this.card.survey.settings.limitations?.date.end;if(!t)return!1;const n=new Date;return t=new Date(t),t.getTime()<n.getTime()}isOpen(){return!this.isNotStarted()&&!this.isFinished()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Oe))},o.\u0275cmp=e.Xpm({type:o,selectors:[["date-notification"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","totalsurvey-data-limitation is-pending","translate","",4,"ngIf"],["class","totalsurvey-data-limitation is-finished","translate","",4,"ngIf"],["class","totalsurvey-data-limitation is-open","translate","",4,"ngIf"],["translate","",1,"totalsurvey-data-limitation","is-pending"],["translate","",1,"totalsurvey-data-limitation","is-finished"],["translate","",1,"totalsurvey-data-limitation","is-open"]],template:function(t,n){1&t&&e.YNc(0,ep,4,3,"ng-container",0),2&t&&e.Q6J("ngIf",n.isAvailable())},directives:[c.O5,p.Pi],styles:[".totalsurvey-data-limitation[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;font-size:.75rem;font-weight:700;line-height:1;text-transform:uppercase;border-radius:1em;background-color:#ccc;color:#fff}.totalsurvey-data-limitation.is-open[_ngcontent-%COMP%]{background-color:#66a02c}.totalsurvey-data-limitation.is-finished[_ngcontent-%COMP%]{background-color:#be1313}"]}),o})(),pe=(()=>{class o{constructor(t){this.blockTypes=t,t.add({type:"choices",aliases:["radio"],icon:"radio_button_checked",name:"Choices",category:"question",defaults:{},component:cl,supportedOperators:[u.EQUALS,u.NOT_EQUALS,u.IN,u.NOT_IN],translatable:["field.options.choices.label","field.options.placeholder"]}),t.add({type:"multiple-choices",aliases:["checkbox"],icon:"check_box",name:"Multi-Choices",category:"question",defaults:{},component:Tl,supportedOperators:[u.EQUALS,u.NOT_EQUALS,u.IN,u.NOT_IN],translatable:["field.options.choices.label","field.options.placeholder"]}),t.add({type:"text",icon:"crop_7_5",name:"Text",category:"question",defaults:{},component:Ra,viewComponent:de,supportedOperators:[u.EQUALS,u.NOT_EQUALS,u.CONTAINS,u.NOT_CONTAINS],translatable:["field.options.placeholder"]}),t.add({type:"scale",icon:"linear_scale",name:"Scale",category:"question",defaults:{},component:Pl,supportedOperators:[u.EQUALS,u.NOT_EQUALS,u.GREATER_THAN,u.LESS_THAN],translatable:["field.options.labels.least","field.options.labels.most","field.options.placeholder"]}),t.add({type:"dropdown",aliases:["select"],icon:"list",name:"Dropdown",category:"question",defaults:{},component:Ul,supportedOperators:[u.EQUALS,u.NOT_EQUALS,u.IN,u.NOT_IN],translatable:["field.options.choices.label","field.options.placeholder"]}),t.add({type:"textarea",aliases:["paragraph"],icon:"crop_landscape",name:"Textarea",category:"question",defaults:{},component:$a,viewComponent:de,supportedOperators:[u.EQUALS,u.NOT_EQUALS,u.CONTAINS,u.NOT_CONTAINS],translatable:["field.options.placeholder"]}),t.add({type:"number",icon:"looks_one",name:"Number",category:"question",defaults:{},component:jl,viewComponent:de,supportedOperators:[u.EQUALS,u.NOT_EQUALS,u.GREATER_THAN,u.LESS_THAN],translatable:["field.options.placeholder"]}),t.add({type:"date",icon:"calendar_today",name:"Date",category:"question",defaults:{},component:El,viewComponent:de,supportedOperators:[u.EQUALS,u.NOT_EQUALS,u.GREATER_THAN,u.LESS_THAN],translatable:["field.options.placeholder"]}),t.add({type:"paragraph",icon:"subject",name:"Paragraph",category:"content",defaults:{alignment:"start"},component:Cc,supportedOperators:[],translatable:["content.value"]})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(M))},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,Is,L.I,l.u5,v._t,G.Iq,Ue,Se,ie.E,lt,fc,he.Y,Q.$,ne.Um,Bc.Ky,ce.GV,p.aw]]}),o})();e.B6R(Ce,[F.h,c.O5,ee.X,p.Pi,S.g,Ws,m.rH,c.sg,ue,m.yS,Fs,Oe,K.s,l.EJ,l.JJ,l.On,l.YN,l.Kr,m.lC],[p.X$,c.Ov,ae.m]),e.B6R(B,[F.h,p.Pi,v.Wj,c.O5,c.sg,v.Zt,v.pV,v.Bh,l.Fj,l.JJ,l.On,Q.q,I,W.v,l.Wl,Pc,Gc,Be.x,l.K7,l.YN,l.Kr,me,c.tP],[p.X$]),e.B6R(Ie,[F.h,p.Pi,at,hc,c.O5,$.Q,S.g,c.sg,m.yS,c.$G,l.EJ,l.JJ,l.On,l.YN,l.Kr,tt],[c.JJ,c.Ov,p.X$,ae.m,Pe]),e.B6R(Oe,[c.mk,l.Wl,l.JJ,l.On,S.g,m.yS,m.rH,tp,c.sg,m.fw,c.$G,p.Pi,c.O5,$.Q],[ae.m,p.X$,c.JJ]),e.B6R(me,[c.O5,Q.q,I,l.JJ,l.On,p.Pi,v.Wj,c.sg,k,Lc,pc,Uc,yc,qc],[p.X$]);var np=g(8500),op=g(144),ip=g(3311),we=g(5730);let rp=(()=>{class o{constructor(t){this.optionsService=t,this.options=this.optionsService.options}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(we.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["general-options"]],decls:7,vars:15,consts:[[1,"form-group"],["icon","loyalty",3,"name","description","ngModel","ngModelChange"],["icon","delete_forever",3,"name","description","last","ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"feature-switch",1),e.NdJ("ngModelChange",function(r){return n.options.general.showCredits=r}),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"feature-switch",2),e.NdJ("ngModelChange",function(r){return n.options.uninstall.wipeOnUninstall=r}),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("name",e.lcZ(2,7,"Show credits"))("description",e.lcZ(3,9,"Spread the love by adding powered by TotalSurvey underneath the survey widgets."))("ngModel",n.options.general.showCredits),e.xp6(3),e.Q6J("name",e.lcZ(5,11,"Wipe Data"))("description",e.lcZ(6,13,"Wipe all data including widgets, surveys and options on uninstall."))("last",!0)("ngModel",n.options.uninstall.wipeOnUninstall))},directives:[W.v,l.JJ,l.On],pipes:[p.X$],styles:[""]}),o})();var sp=g(2045);function lp(o,s){if(1&o&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(null==t.value?null:t.value.context)}}function cp(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td",6),e._uU(3),e.YNc(4,lp,2,1,"span",7),e.qZA(),e.TgZ(5,"td",8)(6,"textarea",9),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).$implicit;return e.oxw().options.expressions[a.key].translations[0]=i}),e.qZA()()(),e.BQk()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(3),e.hij(" ",t.key," "),e.xp6(1),e.Q6J("ngIf",null==t.value?null:t.value.context),e.xp6(2),e.Q6J("placeholder",t.key)("ngModel",n.options.expressions[t.key].translations[0])}}const dp=function(){return{action:"survey-design-size",target:"small"}},j=function(o){return[o]},up=function(){return{action:"survey-design-size",target:"regular"}},gp=function(){return{action:"survey-design-size",target:"medium"}},_p=function(){return{action:"survey-design-size",target:"large"}},mp=function(){return{action:"survey-design-spacing",target:"compact"}},hp=function(){return{action:"survey-design-spacing",target:"normal"}},fp=function(){return{action:"survey-design-spacing",target:"comfortable"}},xp=function(){return{action:"survey-design-roundness",target:"sharp"}},bp=function(){return{action:"survey-design-roundness",target:"rounded"}},vp=function(){return{action:"survey-design-reset",target:"surveys"}},yp=[{path:"options",pathMatch:"full",redirectTo:"options/general"},{path:"options",component:sp.W,children:[{path:"general",component:rp,data:{name:"General",route:"../general"}},{path:"privacy",component:(()=>{class o{constructor(t){this.optionsService=t,this.options=this.optionsService.options}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(we.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["privacy-options"]],decls:9,vars:22,consts:[["icon","gps_off",3,"name","description","ngModel","ngModelChange"],["icon","device_unknown",3,"name","description","ngModel","ngModelChange"],["icon","visibility_off",3,"name","description","last","ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"feature-switch",0),e.NdJ("ngModelChange",function(r){return n.options.privacy.hashIP=r}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"feature-switch",1),e.NdJ("ngModelChange",function(r){return n.options.privacy.hashAgent=r}),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"feature-switch",2),e.NdJ("ngModelChange",function(r){return n.options.privacy.honorDNT=r}),e.ALo(7,"translate"),e.ALo(8,"translate"),e.qZA()),2&t&&(e.Q6J("name",e.lcZ(1,10,"Hash IP Addresses"))("description",e.lcZ(2,12,"Enhance privacy by storing IP addresses as hashes in database."))("ngModel",n.options.privacy.hashIP),e.xp6(3),e.Q6J("name",e.lcZ(4,14,"Hash User Agents"))("description",e.lcZ(5,16,"Enhance privacy by storing user agents (browsers) as hashes in database."))("ngModel",n.options.privacy.hashAgent),e.xp6(3),e.Q6J("name",e.lcZ(7,18,"Honor Do Not Track"))("description",e.lcZ(8,20,"Honot the DNT header sent by browsers."))("last",!0)("ngModel",n.options.privacy.honorDNT))},directives:[W.v,l.JJ,l.On],pipes:[p.X$],styles:[""]}),o})(),data:{name:"Privacy",route:"../privacy"}},{path:"expressions",component:(()=>{class o{constructor(t){this.optionsService=t,this.options=this.optionsService.options}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(we.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["expressions"]],decls:10,vars:3,consts:[[1,"localization-table"],[1,"header"],["translate","",1,"original"],["translate","",1,"translation"],[1,"body"],[4,"ngFor","ngForOf"],[1,"original"],["class","context",4,"ngIf"],[1,"translation"],[1,"input",3,"placeholder","ngModel","ngModelChange"],[1,"context"]],template:function(t,n){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr")(3,"th",2),e._uU(4,"Original"),e.qZA(),e.TgZ(5,"th",3),e._uU(6,"Custom"),e.qZA()()(),e.TgZ(7,"tbody",4),e.YNc(8,cp,7,4,"ng-container",5),e.ALo(9,"keyvalue"),e.qZA()()),2&t&&(e.xp6(8),e.Q6J("ngForOf",e.lcZ(9,1,n.options.expressions)))},directives:[p.Pi,c.sg,c.O5,l.Fj,l.JJ,l.On],pipes:[c.Nd],styles:[""]}),o})(),data:{name:"Expressions",route:"../expressions"}},{path:"design",component:(()=>{class o{constructor(t,n){this.optionsService=t,this.config=n,this.options=this.optionsService.options,this.settings=this.options.design,this.SIZE_SMALL="small",this.SIZE_REGULAR="regular",this.SIZE_MEDIUM="medium",this.SIZE_LARGE="large",this.SPACING_COMPACT="compact",this.SPACING_NORMAL="normal",this.SPACING_COMFORTABLE="comfortable",this.RADIUS_SHARP="sharp",this.RADIUS_ROUNDED="rounded",this.reset=!1}ngOnInit(){}setSize(t){this.settings.size=t}isSize(t){return this.settings.size===t}setSpacing(t){this.settings.space=t}isSpacing(t){return this.settings.space===t}setRadius(t){this.settings.radius=t}isRadius(t){return this.settings.radius===t}resetToDefaults(){this.options.design=(0,h.Ee)({},this.config.defaults.settings.design),this.settings=this.options.design,this.reset=!0,setTimeout(()=>this.reset=!1,1500)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(we.I),e.Y36(P.l))},o.\u0275cmp=e.Xpm({type:o,selectors:[["design-options"]],decls:100,vars:77,consts:[[1,"design-customizer"],[1,"row"],[1,"col-md-12"],["name","Global override","description","Force the following design settings on all surveys.",3,"ngModel","ngModelChange"],[1,"form-group"],[1,"col-6"],["translate","",1,"label"],[3,"ngModel","name","ngModelChange"],[1,"button-group","-attached"],["type","button",1,"button","-preset",3,"clickTracker","ngClass","click"],[1,"icon","material-icons"],["translate","",1,"text"],[1,"form-group","-last"],[1,"button","-alt","-wide",3,"clickTracker","click"],[1,"col-md-12","custom-css"],["rows","10",1,"input","-transparent",3,"ngModel","placeholder","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"feature-switch",3),e.NdJ("ngModelChange",function(r){return n.settings.override=r}),e.qZA(),e.TgZ(4,"div",4)(5,"div",1)(6,"div",5)(7,"label",6),e._uU(8,"Primary"),e.qZA(),e.TgZ(9,"custom-color-picker",7),e.NdJ("ngModelChange",function(r){return n.settings.colors.primary=r}),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",5)(12,"label",6),e._uU(13,"Secondary"),e.qZA(),e.TgZ(14,"custom-color-picker",7),e.NdJ("ngModelChange",function(r){return n.settings.colors.secondary=r}),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",5)(17,"label",6),e._uU(18,"Background"),e.qZA(),e.TgZ(19,"custom-color-picker",7),e.NdJ("ngModelChange",function(r){return n.settings.colors.background=r}),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"div",5)(22,"label",6),e._uU(23,"Dark"),e.qZA(),e.TgZ(24,"custom-color-picker",7),e.NdJ("ngModelChange",function(r){return n.settings.colors.dark=r}),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",5)(27,"label",6),e._uU(28,"Error"),e.qZA(),e.TgZ(29,"custom-color-picker",7),e.NdJ("ngModelChange",function(r){return n.settings.colors.error=r}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",5)(32,"label",6),e._uU(33,"Success"),e.qZA(),e.TgZ(34,"custom-color-picker",7),e.NdJ("ngModelChange",function(r){return n.settings.colors.success=r}),e.ALo(35,"translate"),e.qZA()()()(),e.TgZ(36,"div",4)(37,"label",6),e._uU(38,"Size"),e.qZA(),e.TgZ(39,"div",8)(40,"button",9),e.NdJ("click",function(){return n.setSize(n.SIZE_SMALL)}),e.TgZ(41,"span",10),e._uU(42,"crop_7_5"),e.qZA(),e.TgZ(43,"span",11),e._uU(44,"Small"),e.qZA()(),e.TgZ(45,"button",9),e.NdJ("click",function(){return n.setSize(n.SIZE_REGULAR)}),e.TgZ(46,"span",10),e._uU(47,"crop_16_9"),e.qZA(),e.TgZ(48,"span",11),e._uU(49,"Regular"),e.qZA()(),e.TgZ(50,"button",9),e.NdJ("click",function(){return n.setSize(n.SIZE_MEDIUM)}),e.TgZ(51,"span",10),e._uU(52,"crop_3_2"),e.qZA(),e.TgZ(53,"span",11),e._uU(54,"Medium"),e.qZA()(),e.TgZ(55,"button",9),e.NdJ("click",function(){return n.setSize(n.SIZE_LARGE)}),e.TgZ(56,"span",10),e._uU(57,"crop_din"),e.qZA(),e.TgZ(58,"span",11),e._uU(59,"Large"),e.qZA()()()(),e.TgZ(60,"div",4)(61,"label",6),e._uU(62,"Spacing"),e.qZA(),e.TgZ(63,"div",8)(64,"button",9),e.NdJ("click",function(){return n.setSpacing(n.SPACING_COMPACT)}),e.TgZ(65,"span",10),e._uU(66,"view_stream"),e.qZA(),e.TgZ(67,"span",11),e._uU(68,"Compact"),e.qZA()(),e.TgZ(69,"button",9),e.NdJ("click",function(){return n.setSpacing(n.SPACING_NORMAL)}),e.TgZ(70,"span",10),e._uU(71,"view_agenda"),e.qZA(),e.TgZ(72,"span",11),e._uU(73,"Normal"),e.qZA()(),e.TgZ(74,"button",9),e.NdJ("click",function(){return n.setSpacing(n.SPACING_COMFORTABLE)}),e.TgZ(75,"span",10),e._uU(76,"table_rows"),e.qZA(),e.TgZ(77,"span",11),e._uU(78,"Comfortable"),e.qZA()()()(),e.TgZ(79,"div",4)(80,"label",6),e._uU(81,"Roundness"),e.qZA(),e.TgZ(82,"div",8)(83,"button",9),e.NdJ("click",function(){return n.setRadius(n.RADIUS_SHARP)}),e.TgZ(84,"span",10),e._uU(85,"border_style"),e.qZA(),e.TgZ(86,"span",11),e._uU(87,"Sharp"),e.qZA()(),e.TgZ(88,"button",9),e.NdJ("click",function(){return n.setRadius(n.RADIUS_ROUNDED)}),e.TgZ(89,"span",10),e._uU(90,"rounded_corner"),e.qZA(),e.TgZ(91,"span",11),e._uU(92,"Rounded"),e.qZA()()()(),e.TgZ(93,"div",12)(94,"button",13),e.NdJ("click",function(){return n.resetToDefaults()}),e._uU(95),e.qZA()()(),e.TgZ(96,"div",14),e._UZ(97,"br"),e.TgZ(98,"textarea",15),e.NdJ("ngModelChange",function(r){return n.settings.customCss=r}),e.ALo(99,"translate"),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("ngModel",n.settings.override),e.xp6(6),e.Q6J("ngModel",n.settings.colors.primary)("name",e.lcZ(10,35,"Primary")),e.xp6(5),e.Q6J("ngModel",n.settings.colors.secondary)("name",e.lcZ(15,37,"Secondary")),e.xp6(5),e.Q6J("ngModel",n.settings.colors.background)("name",e.lcZ(20,39,"Background")),e.xp6(5),e.Q6J("ngModel",n.settings.colors.dark)("name",e.lcZ(25,41,"Dark")),e.xp6(5),e.Q6J("ngModel",n.settings.colors.error)("name",e.lcZ(30,43,"Error")),e.xp6(5),e.Q6J("ngModel",n.settings.colors.success)("name",e.lcZ(35,45,"Success")),e.xp6(6),e.Q6J("clickTracker",e.DdM(49,dp))("ngClass",e.VKq(50,j,n.isSize(n.SIZE_SMALL)?"-primary is-active":"")),e.xp6(5),e.Q6J("clickTracker",e.DdM(52,up))("ngClass",e.VKq(53,j,n.isSize(n.SIZE_REGULAR)?"-primary is-active":"")),e.xp6(5),e.Q6J("clickTracker",e.DdM(55,gp))("ngClass",e.VKq(56,j,n.isSize(n.SIZE_MEDIUM)?"-primary is-active":"")),e.xp6(5),e.Q6J("clickTracker",e.DdM(58,_p))("ngClass",e.VKq(59,j,n.isSize(n.SIZE_LARGE)?"-primary is-active":"")),e.xp6(9),e.Q6J("clickTracker",e.DdM(61,mp))("ngClass",e.VKq(62,j,n.isSpacing(n.SPACING_COMPACT)?"-primary is-active":"")),e.xp6(5),e.Q6J("clickTracker",e.DdM(64,hp))("ngClass",e.VKq(65,j,n.isSpacing(n.SPACING_NORMAL)?"-primary is-active":"")),e.xp6(5),e.Q6J("clickTracker",e.DdM(67,fp))("ngClass",e.VKq(68,j,n.isSpacing(n.SPACING_COMFORTABLE)?"-primary is-active":"")),e.xp6(9),e.Q6J("clickTracker",e.DdM(70,xp))("ngClass",e.VKq(71,j,n.isRadius(n.RADIUS_SHARP)?"-primary is-active":"")),e.xp6(5),e.Q6J("clickTracker",e.DdM(73,bp))("ngClass",e.VKq(74,j,n.isRadius(n.RADIUS_ROUNDED)?"-primary is-active":"")),e.xp6(6),e.Q6J("clickTracker",e.DdM(76,vp)),e.xp6(1),e.hij(" ",n.reset?"Settings were been reset!":"Reset to defaults"," "),e.xp6(3),e.Q6J("ngModel",n.settings.customCss)("placeholder",e.lcZ(99,47,"Custom CSS...")))},directives:[W.v,l.JJ,l.On,p.Pi,Xe,S.g,c.mk,l.Fj],pipes:[p.X$],styles:[""]}),o})(),data:{name:"Design",route:"../design"}}]}];let kp=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forChild(yp)],m.Bz]}),o})();var Tp=g(3895);let Zp=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,Tp.J,kp,L.I,l.u5,p.aw,pe]]}),o})();function Ap(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"th")(1,"input",3),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.label=i}),e.ALo(2,"translate"),e.qZA()()}if(2&o){const t=s.$implicit;e.xp6(1),e.Q6J("placeholder",e.lcZ(2,2,"Column"))("ngModel",t.label)}}function Mp(o,s){if(1&o&&(e.TgZ(0,"td"),e._UZ(1,"input",4),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("name",t.uid)}}function qp(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",3),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.label=i}),e.ALo(3,"translate"),e.qZA()(),e.YNc(4,Mp,2,1,"td",1),e.qZA()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(2),e.Q6J("placeholder",e.lcZ(3,3,"Row"))("ngModel",t.label),e.xp6(2),e.Q6J("ngForOf",n.question.field.options.columns)}}function Jp(o,s){1&o&&e._UZ(0,"span")}function Sp(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"label",26),e.YNc(1,Jp,1,0,"span",27),e.TgZ(2,"button",28),e._uU(3,"drag_indicator "),e.qZA(),e.TgZ(4,"input",3),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).index;return e.oxw(2).question.field.options.columns[a].label=i}),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"button",29),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw(2).removeColumn(a,i)}),e.ALo(7,"translate"),e._uU(8," delete_forever "),e.qZA()()}if(2&o){const t=s.index,n=e.oxw(2);e.xp6(4),e.Q6J("placeholder",e.lcZ(5,4,"Item"))("ngModel",n.question.field.options.columns[t].label),e.xp6(2),e.Q6J("disabled",n.question.field.options.columns.length<=2),e.uIk("data-tooltip",e.lcZ(7,6,"Delete column"))}}function Up(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",30)(1,"textarea",31),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).bulkColumn.content=i}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).insertColumnBulk()}),e._uU(4,"Insert"),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.bulkColumn.content)("placeholder",e.lcZ(2,2,"One item per line..."))}}function Np(o,s){1&o&&e._UZ(0,"span")}function Ip(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"label",26),e.YNc(1,Np,1,0,"span",27),e.TgZ(2,"button",28),e._uU(3,"drag_indicator "),e.qZA(),e.TgZ(4,"input",3),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).index;return e.oxw(2).question.field.options.rows[a].label=i}),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"button",29),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw(2).removeRow(a,i)}),e.ALo(7,"translate"),e._uU(8," delete_forever "),e.qZA()()}if(2&o){const t=s.index,n=e.oxw(2);e.xp6(4),e.Q6J("placeholder",e.lcZ(5,4,"Item"))("ngModel",n.question.field.options.rows[t].label),e.xp6(2),e.Q6J("disabled",n.question.field.options.rows.length<=1),e.uIk("data-tooltip",e.lcZ(7,6,"Delete row"))}}function Fp(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",30)(1,"textarea",31),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).bulkRow.content=i}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).insertRowsInBulk()}),e._uU(4,"Insert"),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.bulkRow.content)("placeholder",e.lcZ(2,2,"One item per line..."))}}function Ep(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",5)(1,"h6",6),e._uU(2,"Columns"),e.qZA(),e.TgZ(3,"div",7)(4,"div",8),e.NdJ("cdkDropListDropped",function(i){return e.CHM(t),e.oxw().dropColumn(i)}),e.YNc(5,Sp,9,8,"label",9),e.TgZ(6,"label",10)(7,"input",11),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().newColumn=i})("keyup.enter",function(){return e.CHM(t),e.oxw().insertColumn()}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().insertColumn()}),e.ALo(10,"translate"),e._uU(11,"add "),e.qZA()()(),e.TgZ(12,"div",13)(13,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleColumnBulk()}),e._uU(14,"Bulk insertion"),e.qZA()(),e.YNc(15,Up,5,4,"div",15),e.qZA()(),e.TgZ(16,"section",5)(17,"h6",6),e._uU(18,"Rows"),e.qZA(),e.TgZ(19,"div",7)(20,"div",8),e.NdJ("cdkDropListDropped",function(i){return e.CHM(t),e.oxw().dropRow(i)}),e.YNc(21,Ip,9,8,"label",9),e.TgZ(22,"label",10)(23,"input",11),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().newRow=i})("keyup.enter",function(){return e.CHM(t),e.oxw().insertRow()}),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().insertRow()}),e.ALo(26,"translate"),e._uU(27,"add "),e.qZA()()(),e.TgZ(28,"div",13)(29,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleRowBulk()}),e._uU(30,"Bulk insertion"),e.qZA()(),e.YNc(31,Fp,5,4,"div",15),e.qZA()(),e.TgZ(32,"section",5)(33,"h6",6),e._uU(34,"Validations"),e.qZA(),e.TgZ(35,"div",7)(36,"label",17)(37,"input",18),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.required(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(38,"span",19),e._uU(39,"Required"),e.qZA()()()(),e.TgZ(40,"section",5)(41,"h6",6),e._uU(42,"Advanced"),e.qZA(),e.TgZ(43,"div",7)(44,"div",20)(45,"label",21),e._uU(46,"CSS Class"),e.qZA(),e.TgZ(47,"input",22),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.cssClass=i}),e.qZA()(),e.TgZ(48,"div",23)(49,"label",24),e._uU(50,"Admin label"),e.qZA(),e.TgZ(51,"input",25),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.label=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.question.field.options.columns)("ngForTrackBy",t.trackByIndex),e.xp6(2),e.Q6J("placeholder",e.lcZ(8,15,"New column..."))("ngModel",t.newColumn),e.xp6(2),e.uIk("data-tooltip",e.lcZ(10,17,"Insert column")),e.xp6(6),e.Q6J("ngIf",t.bulkColumn.visible),e.xp6(6),e.Q6J("ngForOf",t.question.field.options.rows)("ngForTrackBy",t.trackByIndex),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,19,"New row..."))("ngModel",t.newRow),e.xp6(2),e.uIk("data-tooltip",e.lcZ(26,21,"Insert row")),e.xp6(6),e.Q6J("ngIf",t.bulkRow.visible),e.xp6(6),e.Q6J("ngModel",t.validations.required(t.question.field.validations).enabled),e.xp6(10),e.Q6J("ngModel",t.question.field.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.question.label)}}let Qp=(()=>{class o{constructor(t,n,i){this.blockEditor=t,this.validations=n,this.hostElement=i,this.question=this.blockEditor.block,this.cssClass=!0,this.bulkColumn={visible:!1,content:""},this.bulkRow={visible:!1,content:""}}ngOnInit(){Array.isArray(this.question.field.options.columns)||(this.question.field.options.columns=[{uid:(0,b.Z)(),label:"Strongly disagree"},{uid:(0,b.Z)(),label:"Disagree"},{uid:(0,b.Z)(),label:"Neutral"},{uid:(0,b.Z)(),label:"Agree"},{uid:(0,b.Z)(),label:"Strongly agree"}]),Array.isArray(this.question.field.options.rows)||(this.question.field.options.rows=[{uid:(0,b.Z)(),label:"Criterion 1"},{uid:(0,b.Z)(),label:"Criterion 2"}])}toggleColumnBulk(){this.bulkColumn.visible=!this.bulkColumn.visible}insertColumnBulk(){this.bulkColumn.content.split(/\n/g).map(n=>n.trim()).filter(Boolean).forEach(n=>this.question.field.options.columns.push({uid:(0,b.Z)(),label:n})),this.bulkColumn.visible=!1,this.bulkColumn.content=""}removeAllColumns(t){!(0,h.fJ)(t)||(this.question.field.options.columns=[])}trackByIndex(t,n){return n.uid}insertColumn(t,n){if(t)return t.preventDefault(),this.question.field.options.columns.splice(n+1,0,{uid:(0,b.Z)(),label:""}),void this.focusOnColumn(n+1);this.question.field.options.columns.push({uid:(0,b.Z)(),label:this.newColumn.trim()}),this.newColumn=""}removeColumn(t,n){if(this.question.field.options.columns.length<=2)return;if(n instanceof KeyboardEvent){if(t.label.trim())return;n.preventDefault()}if(n instanceof MouseEvent&&!(0,h.fJ)(n))return;const i=this.question.field.options.columns.indexOf(t);this.question.field.options.columns.splice(i,1),this.question.field.options.defaultValue===t.uid&&(this.question.field.options.defaultValue=void 0),this.focusOnColumn(i-1)}dropColumn(t){(0,v.bA)(this.question.field.options.columns,t.previousIndex,t.currentIndex)}focusOnColumn(t){t=t>0?t:0,setTimeout(()=>{this.hostElement.nativeElement.querySelector("#input-"+this.question.uid+"-"+t)?.focus()},10)}toggleRowBulk(){this.bulkRow.visible=!this.bulkRow.visible}insertRowsInBulk(){this.bulkRow.content.split(/\n/g).map(n=>n.trim()).filter(Boolean).forEach(n=>this.question.field.options.rows.push({uid:(0,b.Z)(),label:n})),this.bulkRow.visible=!1,this.bulkRow.content=""}removeAllRows(t){!(0,h.fJ)(t)||(this.question.field.options.rows=[])}insertRow(t,n){if(t)return t.preventDefault(),this.question.field.options.rows.splice(n+1,0,{uid:(0,b.Z)(),label:""}),void this.focusOnRow(n+1);this.question.field.options.rows.push({uid:(0,b.Z)(),label:this.newRow.trim()}),this.newRow=""}removeRow(t,n){if(this.question.field.options.rows.length<=1)return;if(n instanceof KeyboardEvent){if(t.label.trim())return;n.preventDefault()}if(n instanceof MouseEvent&&!(0,h.fJ)(n))return;const i=this.question.field.options.rows.indexOf(t);this.question.field.options.rows.splice(i,1),this.question.field.options.defaultValue===t.uid&&(this.question.field.options.defaultValue=void 0),this.focusOnRow(i-1)}dropRow(t){(0,v.bA)(this.question.field.options.rows,t.previousIndex,t.currentIndex)}focusOnRow(t){t=t>0?t:0,setTimeout(()=>{this.hostElement.nativeElement.querySelector("#input-"+this.question.uid+"-"+t)?.focus()},10)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(N),e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["matrix-field"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("matrix-field",n.cssClass)},decls:8,vars:2,consts:[[1,"matrix-table"],[4,"ngFor","ngForOf"],["block-settings",""],["type","text",1,"input","-transparent",3,"placeholder","ngModel","ngModelChange"],["readonly","","type","radio","tabindex","-1",3,"name"],[1,"question-settings"],["translate","",1,"title"],[1,"body"],["cdkDropList","","cdkDropListOrientation","vertical",1,"list-editor",3,"cdkDropListDropped"],["class","list-item","cdkDrag","",4,"ngFor","ngForOf","ngForTrackBy"],[1,"list-item"],["type","text",1,"input","-transparent",3,"placeholder","ngModel","ngModelChange","keyup.enter"],["data-tooltip-left","",1,"add","button","-transparent","-icon","material-icons",3,"click"],[1,"bulk-actions"],[1,"insert","button","-transparent","-small",3,"click"],["class","bulk-editor",4,"ngIf"],["translate","",1,"insert","button","-transparent","-small",3,"click"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],["translate","",1,"label"],[1,"form-group"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["cdkDrag","",1,"list-item"],[4,"cdkDragPreview"],["cdkDragHandle","",1,"handle","button","-transparent","-icon","material-icons"],["data-tooltip-left","",1,"remove","button","-transparent","-icon","material-icons",3,"disabled","click"],[1,"bulk-editor"],["rows","10",1,"input",3,"ngModel","placeholder","ngModelChange"],["translate","",1,"button","-wide","-alt",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"table",0)(1,"thead")(2,"tr"),e._UZ(3,"th"),e.YNc(4,Ap,3,4,"th",1),e.qZA()(),e.TgZ(5,"tbody"),e.YNc(6,qp,5,5,"tr",1),e.qZA()(),e.YNc(7,Ep,52,23,"ng-template",2)),2&t&&(e.xp6(4),e.Q6J("ngForOf",n.question.field.options.columns),e.xp6(2),e.Q6J("ngForOf",n.question.field.options.rows))},directives:[c.sg,l.Fj,l.JJ,l.On,T,p.Pi,v.Wj,v.Zt,v.pV,v.Bh,c.O5,l.Wl],pipes:[p.X$],encapsulation:2}),o})();function Op(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",20)(1,"label",7)(2,"input",8),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).fileTypeValidation.options.documents=i}),e.qZA(),e.TgZ(3,"span",9),e._uU(4,"Documents (docx, pdf, txt)"),e.qZA()(),e.TgZ(5,"label",7)(6,"input",8),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).fileTypeValidation.options.images=i}),e.qZA(),e.TgZ(7,"span",9),e._uU(8,"Images (png, jpg, jpeg)"),e.qZA()(),e.TgZ(9,"label",7)(10,"input",8),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).fileTypeValidation.options.videos=i}),e.qZA(),e.TgZ(11,"span",9),e._uU(12,"Videos (avi, mp4, mov)"),e.qZA()(),e.TgZ(13,"label",7)(14,"input",8),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).fileTypeValidation.options.archives=i}),e.qZA(),e.TgZ(15,"span",9),e._uU(16,"Archives (zip, rar, tar)"),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t.fileTypeValidation.options.documents),e.xp6(4),e.Q6J("ngModel",t.fileTypeValidation.options.images),e.xp6(4),e.Q6J("ngModel",t.fileTypeValidation.options.videos),e.xp6(4),e.Q6J("ngModel",t.fileTypeValidation.options.archives)}}function Lp(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",21),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).fileSizeValidation.options.value=i}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("placeholder",e.lcZ(1,2,"Value"))("ngModel",t.fileSizeValidation.options.value)}}function Bp(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",4)(1,"h6",5),e._uU(2,"Validations"),e.qZA(),e.TgZ(3,"div",6)(4,"label",7)(5,"input",8),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.required(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(6,"span",9),e._uU(7,"Required"),e.qZA()(),e.TgZ(8,"label",7)(9,"input",8),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().fileTypeValidation.enabled=i}),e.qZA(),e.TgZ(10,"span",9),e._uU(11,"Allowed file types"),e.qZA()(),e.YNc(12,Op,17,4,"div",10),e.TgZ(13,"label",7)(14,"input",8),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().fileSizeValidation.enabled=i}),e.qZA(),e.TgZ(15,"span",9),e._uU(16,"Maximum size (KB)"),e.qZA(),e.YNc(17,Lp,2,4,"input",11),e.qZA()()(),e.TgZ(18,"section",4)(19,"h6",5),e._uU(20,"Options"),e.qZA(),e.TgZ(21,"div",6)(22,"div",12)(23,"label",13),e._uU(24,"Placeholder"),e.qZA(),e.TgZ(25,"input",14),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.placeholder=i}),e.qZA()()()(),e.TgZ(26,"section",4)(27,"h6",5),e._uU(28,"Advanced"),e.qZA(),e.TgZ(29,"div",6)(30,"div",15)(31,"label",16),e._uU(32,"CSS Class"),e.qZA(),e.TgZ(33,"input",17),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.cssClass=i}),e.qZA()(),e.TgZ(34,"div",12)(35,"label",18),e._uU(36,"Admin label"),e.qZA(),e.TgZ(37,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.label=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.validations.required(t.question.field.validations).enabled),e.xp6(4),e.Q6J("ngModel",t.fileTypeValidation.enabled),e.xp6(3),e.Q6J("ngIf",t.fileTypeValidation.enabled),e.xp6(2),e.Q6J("ngModel",t.fileSizeValidation.enabled),e.xp6(3),e.Q6J("ngIf",t.fileSizeValidation.enabled),e.xp6(8),e.Q6J("ngModel",t.question.field.options.placeholder),e.xp6(8),e.Q6J("ngModel",t.question.field.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.question.label)}}let Hp=(()=>{class o{constructor(t,n){this.blockEditor=t,this.validations=n,this.question=this.blockEditor.block,this.cssClass=!0}get fileTypeValidation(){return this.validations.rule(this.question.field.validations,"fileType",{documents:!1,images:!1,videos:!1,archives:!1})}get fileSizeValidation(){return this.validations.rule(this.question.field.validations,"fileSize",{value:0})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(N))},o.\u0275cmp=e.Xpm({type:o,selectors:[["file-field"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("file-field",n.cssClass)},decls:6,vars:3,consts:[[1,"input-with-action"],["type","text","readonly","",1,"input","-left-attach",3,"placeholder"],["type","button","translate","",1,"button","-primary","-right-attach"],["block-settings",""],[1,"question-settings"],["translate","",1,"title"],[1,"body"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],["translate","",1,"label"],["class","form-group -sub",4,"ngIf"],["type","text","class","input -small",3,"placeholder","ngModel","ngModelChange",4,"ngIf"],[1,"form-group","-compact"],["for","question_placeholder","translate",""],["id","question_placeholder","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-sub"],["type","text",1,"input","-small",3,"placeholder","ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"input",1),e.ALo(2,"translate"),e.TgZ(3,"button",2),e._uU(4,"Choose"),e.qZA()(),e.YNc(5,Bp,38,8,"ng-template",3)),2&t&&(e.xp6(1),e.Q6J("placeholder",n.question.field.options.placeholder||e.lcZ(2,1,"Choose a file...")))},directives:[p.Pi,T,l.Wl,l.JJ,l.On,c.O5,l.Fj],pipes:[p.X$],encapsulation:2}),o})();function Pp(o,s){if(1&o&&(e.TgZ(0,"div",4),e._uU(1),e.qZA()),2&o){const t=s.index,n=e.oxw();e.xp6(1),e.hij(" ",n.symbolsMap[n.question.field.options.symbol][t]," ")}}function Dp(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",5)(1,"h6",6),e._uU(2,"Settings"),e.qZA(),e.TgZ(3,"div",7)(4,"div",8)(5,"label",9)(6,"input",10),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.symbol=i}),e.qZA(),e.TgZ(7,"span",11),e._uU(8,"Stars"),e.qZA()(),e.TgZ(9,"label",9)(10,"input",12),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.symbol=i}),e.qZA(),e.TgZ(11,"span",11),e._uU(12,"Faces"),e.qZA()(),e.TgZ(13,"label",9)(14,"input",13),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.symbol=i}),e.qZA(),e.TgZ(15,"span",11),e._uU(16,"Hearts"),e.qZA()()()()(),e.TgZ(17,"section",5)(18,"h6",6),e._uU(19,"Validations"),e.qZA(),e.TgZ(20,"div",7)(21,"label",9)(22,"input",14),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.required(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(23,"span",11),e._uU(24,"Required"),e.qZA()()()(),e.TgZ(25,"section",5)(26,"h6",6),e._uU(27,"Advanced"),e.qZA(),e.TgZ(28,"div",7)(29,"div",8)(30,"label",15),e._uU(31,"CSS Class"),e.qZA(),e.TgZ(32,"input",16),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.cssClass=i}),e.qZA()(),e.TgZ(33,"div",17)(34,"label",18),e._uU(35,"Admin label"),e.qZA(),e.TgZ(36,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.label=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.question.field.options.symbol),e.xp6(4),e.Q6J("ngModel",t.question.field.options.symbol),e.xp6(4),e.Q6J("ngModel",t.question.field.options.symbol),e.xp6(8),e.Q6J("ngModel",t.validations.required(t.question.field.validations).enabled),e.xp6(10),e.Q6J("ngModel",t.question.field.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.question.label)}}const Yp=function(o){return[o]},Rp=function(){return[]};let jp=(()=>{class o{constructor(t,n,i){this.blockEditor=t,this.validations=n,this.hostElement=i,this.question=this.blockEditor.block,this.cssClass=!0,this.symbolsMap={stars:["\u2b50","\u2b50","\u2b50","\u2b50","\u2b50"],hearts:["\u2764\ufe0f","\u2764\ufe0f","\u2764\ufe0f","\u2764\ufe0f","\u2764\ufe0f"],faces:["\u{1f641}","\u{1f611}","\u{1f642}","\u{1f600}","\u{1f60d}"]}}ngOnInit(){this.question.field.options.symbol=this.question.field.options.symbol||"stars"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(N),e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["rating-field"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("rating-field",n.cssClass)},decls:4,vars:5,consts:[[1,"rating"],[1,"points",3,"ngClass"],["class","point",4,"ngFor","ngForOf"],["block-settings",""],[1,"point"],[1,"question-settings"],["translate","",1,"title"],[1,"body"],[1,"form-group"],[1,"checkbox"],["type","radio","value","stars",3,"ngModel","ngModelChange"],["translate","",1,"label"],["type","radio","value","faces",3,"ngModel","ngModelChange"],["type","radio","value","hearts",3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","ngModelChange"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Pp,2,1,"div",2),e.qZA()(),e.YNc(3,Dp,37,6,"ng-template",3)),2&t&&(e.xp6(1),e.Q6J("ngClass",e.VKq(2,Yp,"is-"+n.question.field.options.symbol)),e.xp6(1),e.Q6J("ngForOf",e.DdM(4,Rp).constructor(5)))},directives:[c.mk,c.sg,T,p.Pi,l._,l.Fj,l.JJ,l.On,l.Wl],encapsulation:2}),o})();function zp(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"img",6),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw().chooseMedia(a,i)}),e.qZA()(),e.TgZ(4,"span",7),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).index;return e.oxw().question.field.options.choices[a].label=i}),e.ALo(5,"translate"),e._uU(6),e.qZA()()()}if(2&o){const t=s.$implicit,n=s.index,i=e.oxw();e.xp6(3),e.ekj("is-empty",!t.url),e.Q6J("src",t.url,e.LSH),e.xp6(1),e.Q6J("ngModel",i.question.field.options.choices[n].label),e.uIk("placeholder",e.lcZ(5,6,"Choice label")),e.xp6(2),e.Oqu(t.label)}}function Vp(o,s){1&o&&e._UZ(0,"span")}function $p(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",33)(1,"label",34),e.YNc(2,Vp,1,0,"span",35),e.TgZ(3,"button",36),e._uU(4,"drag_indicator "),e.qZA(),e.TgZ(5,"input",37),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).index;return e.oxw(2).question.field.options.choices[a].label=i}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",38),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw(2).removeChoice(a,i)}),e.ALo(8,"translate"),e._uU(9," delete_forever "),e.qZA()(),e.TgZ(10,"label",13)(11,"input",37),e.NdJ("ngModelChange",function(i){const a=e.CHM(t).index;return e.oxw(2).question.field.options.choices[a].url=i}),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",39),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw(2).chooseMedia(a,i)}),e.ALo(14,"translate"),e._uU(15," photo_library "),e.qZA()()()}if(2&o){const t=s.index,n=e.oxw(2);e.xp6(5),e.Q6J("placeholder",e.lcZ(6,7,"Image Label"))("ngModel",n.question.field.options.choices[t].label),e.xp6(2),e.Q6J("disabled",n.question.field.options.choices.length<=2),e.uIk("data-tooltip",e.lcZ(8,9,"Delete choice")),e.xp6(4),e.Q6J("placeholder",e.lcZ(12,11,"Image URL"))("ngModel",n.question.field.options.choices[t].url),e.xp6(2),e.uIk("data-tooltip",e.lcZ(14,13,"Choose image"))}}function Gp(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",40)(1,"textarea",41),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).bulk.content=i}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",42),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).insertBulk()}),e._uU(4,"Insert"),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.bulk.content)("placeholder",e.lcZ(2,2,"One item per line..."))}}function Wp(o,s){if(1&o&&(e._UZ(0,"option",43),e.ALo(1,"translate")),2&o){const t=s.$implicit,n=s.index;e.Q6J("label",t.label||e.lcZ(1,2,"Choice #")+(n+1))("ngValue",t.uid)}}function Xp(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",8)(1,"h6",9),e._uU(2,"Content"),e.qZA(),e.TgZ(3,"div",10)(4,"div",11),e.NdJ("cdkDropListDropped",function(i){return e.CHM(t),e.oxw().dropChoice(i)}),e.YNc(5,$p,16,15,"div",12),e.TgZ(6,"label",13)(7,"input",14),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().newChoice=i})("keyup.enter",function(){return e.CHM(t),e.oxw().insertChoice()}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().insertChoice()}),e.ALo(10,"translate"),e._uU(11,"add "),e.qZA()()(),e.TgZ(12,"div",16)(13,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleBulk()}),e._uU(14,"Bulk insertion"),e.qZA(),e.TgZ(15,"button",18),e.NdJ("click",function(i){return e.CHM(t),e.oxw().removeAll(i)}),e._uU(16,"Remove all"),e.qZA()(),e.YNc(17,Gp,5,4,"div",19),e.qZA()(),e.TgZ(18,"section",8)(19,"h6",9),e._uU(20,"Validations"),e.qZA(),e.TgZ(21,"div",10)(22,"label",20)(23,"input",21),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return r.validations.required(r.question.field.validations).enabled=i}),e.qZA(),e.TgZ(24,"span",22),e._uU(25,"Required"),e.qZA()()()(),e.TgZ(26,"section",8)(27,"h6",9),e._uU(28,"Options"),e.qZA(),e.TgZ(29,"div",10)(30,"div",23)(31,"label",24),e._uU(32,"Default value"),e.qZA(),e.TgZ(33,"select",25),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.defaultValue=i}),e.TgZ(34,"option",26),e._uU(35,"None"),e.qZA(),e.YNc(36,Wp,2,4,"option",27),e.qZA()()()(),e.TgZ(37,"section",8)(38,"h6",9),e._uU(39,"Advanced"),e.qZA(),e.TgZ(40,"div",10)(41,"div",23)(42,"label",28),e._uU(43,"CSS Class"),e.qZA(),e.TgZ(44,"input",29),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.field.options.cssClass=i}),e.qZA()(),e.TgZ(45,"div",30)(46,"label",31),e._uU(47,"Admin label"),e.qZA(),e.TgZ(48,"input",32),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().question.label=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.question.field.options.choices)("ngForTrackBy",t.trackByIndex),e.xp6(2),e.Q6J("placeholder",e.lcZ(8,13,"New choice..."))("ngModel",t.newChoice),e.xp6(2),e.uIk("data-tooltip",e.lcZ(10,15,"Insert choice")),e.xp6(8),e.Q6J("ngIf",t.bulk.visible),e.xp6(6),e.Q6J("ngModel",t.validations.required(t.question.field.validations).enabled),e.xp6(10),e.Q6J("ngModel",t.question.field.options.defaultValue),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",t.question.field.options.choices)("ngForTrackBy",t.trackByIndex),e.xp6(8),e.Q6J("ngModel",t.question.field.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.question.label)}}let Kp=(()=>{class o{constructor(t,n,i){this.blockEditor=t,this.validations=n,this.hostElement=i,this.question=this.blockEditor.block,this.cssClass=!0,this.bulk={visible:!1,content:""},this.mediaFrame=wp.media({title:"Select an image",button:{text:"Use this image"},library:{order:"DESC",orderby:"date",type:"image",search:null,uploadedTo:null},multiple:!1}).on("select",()=>{const r=this.mediaFrame.state().get("selection").first().toJSON();this.currentChoice.url=r.url,this.currentChoice.attachmentId=r.id}).on("open",()=>{const r=this.mediaFrame.state().get("selection");if(this.currentChoice.attachmentId){const a=wp.media.attachment(this.currentChoice.attachmentId);r.add(a?[a]:[])}})}ngOnInit(){Array.isArray(this.question.field.options.choices)||(this.question.field.options.choices=[{uid:(0,b.Z)(),label:"Yes"},{uid:(0,b.Z)(),label:"No"}])}toggleBulk(){this.bulk.visible=!this.bulk.visible}insertBulk(){this.bulk.content.split(/\n/g).map(n=>n.trim()).filter(Boolean).forEach(n=>this.question.field.options.choices.push({uid:(0,b.Z)(),label:n})),this.bulk.visible=!1,this.bulk.content=""}removeAll(t){!(0,h.fJ)(t)||(this.question.field.options.choices=[])}trackByIndex(t,n){return n.uid}insertChoice(t,n){if(t)return t.preventDefault(),this.question.field.options.choices.splice(n+1,0,{uid:(0,b.Z)(),label:""}),void this.focusOnChoice(n+1);this.question.field.options.choices.push({uid:(0,b.Z)(),label:this.newChoice.trim()}),this.newChoice=""}removeChoice(t,n){if(this.question.field.options.choices.length<=2)return;if(n instanceof KeyboardEvent){if(t.label.trim())return;n.preventDefault()}if(n instanceof MouseEvent&&!(0,h.fJ)(n))return;const i=this.question.field.options.choices.indexOf(t);this.question.field.options.choices.splice(i,1),this.question.field.options.defaultValue===t.uid&&(this.question.field.options.defaultValue=void 0),this.focusOnChoice(i-1)}dropChoice(t){(0,v.bA)(this.question.field.options.choices,t.previousIndex,t.currentIndex)}focusOnChoice(t){t=t>0?t:0,setTimeout(()=>{this.hostElement.nativeElement.querySelector("#input-"+this.question.uid+"-"+t)?.focus()},10)}chooseMedia(t,n){this.currentChoice=t,this.mediaFrame.open()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(N),e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["image-choice-field"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("radio-field",n.cssClass)},decls:3,vars:2,consts:[[1,"image-choices","row"],["class","col-3",4,"ngFor","ngForOf","ngForTrackBy"],["block-settings",""],[1,"col-3"],[1,"image-choice"],[1,"image"],[3,"src","click"],["contenteditable","",1,"label",3,"ngModel","ngModelChange"],[1,"question-settings"],["translate","",1,"title"],[1,"body"],["cdkDropList","","cdkDropListOrientation","vertical",1,"list-editor",3,"cdkDropListDropped"],["class","list-item-with-media",4,"ngFor","ngForOf","ngForTrackBy"],[1,"list-item"],["type","text",1,"input","-transparent",3,"placeholder","ngModel","ngModelChange","keyup.enter"],["data-tooltip-left","",1,"add","button","-transparent","-icon","material-icons",3,"click"],[1,"bulk-actions"],["translate","",1,"insert","button","-transparent","-small",3,"click"],["translate","",1,"remove-all","button","-transparent","-small",3,"click"],["class","bulk-editor",4,"ngIf"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],["translate","",1,"label"],[1,"form-group"],["for","question_default_value","translate",""],["id","question_default_value",1,"input",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"label","ngValue",4,"ngFor","ngForOf","ngForTrackBy"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"list-item-with-media"],["cdkDrag","",1,"list-item"],[4,"cdkDragPreview"],["cdkDragHandle","",1,"handle","button","-transparent","-icon","material-icons"],["type","text",1,"input","-transparent",3,"placeholder","ngModel","ngModelChange"],["data-tooltip-left","",1,"remove","button","-transparent","-icon","material-icons",3,"disabled","click"],["data-tooltip-left","",1,"button","-transparent","-icon","material-icons",3,"click"],[1,"bulk-editor"],["rows","10",1,"input",3,"ngModel","placeholder","ngModelChange"],["translate","",1,"button","-wide","-alt",3,"click"],[3,"label","ngValue"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,zp,7,8,"div",1),e.qZA(),e.YNc(2,Xp,49,17,"ng-template",2)),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.question.field.options.choices)("ngForTrackBy",n.trackByIndex))},directives:[c.sg,Q.q,l.JJ,l.On,T,p.Pi,v.Wj,v.Zt,v.pV,v.Bh,l.Fj,c.O5,l.Wl,l.EJ,l.YN,l.Kr],pipes:[p.X$],encapsulation:2}),o})();function ed(o,s){if(1&o&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}function td(o,s){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,ed,2,1,"td",3),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function nd(o,s){if(1&o&&(e.TgZ(0,"table",2),e.YNc(1,td,2,1,"tr",3),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.entryBlock.meta.table)}}function od(o,s){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.entryBlock.text)}}let id=(()=>{class o{constructor(t){this.entryBlock=t}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ve))},o.\u0275cmp=e.Xpm({type:o,selectors:[["matrix-view"]],decls:3,vars:2,consts:[["class","table",4,"ngIf","ngIfElse"],["simpleValue",""],[1,"table"],[4,"ngFor","ngForOf"]],template:function(t,n){if(1&t&&(e.YNc(0,nd,2,1,"table",0),e.YNc(1,od,2,1,"ng-template",null,1,e.W1O)),2&t){const i=e.MAs(2);e.Q6J("ngIf",n.entryBlock.meta.table)("ngIfElse",i)}},directives:[c.O5,c.sg],styles:["div[_ngcontent-%COMP%]{white-space:pre}"]}),o})(),rd=(()=>{class o{constructor(t){this.entryBlock=t}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ve))},o.\u0275cmp=e.Xpm({type:o,selectors:[["file-view"]],decls:2,vars:2,consts:[["rel","noopener","target","_blank",3,"href"]],template:function(t,n){1&t&&(e.TgZ(0,"a",0),e._uU(1),e.qZA()),2&t&&(e.Q6J("href",n.entryBlock.value,e.LSH),e.xp6(1),e.Oqu(n.entryBlock.text))},styles:[""]}),o})(),sd=(()=>{class o{constructor(t,n,i,r,a){this.config=t,this.blockTypesService=n,this.operatorsMapService=i,this.modulesService=r,this.promotionService=a;const d="fields-pack-extension",_=a.isUpgradedNeeded("fields-pack-extension");n.add({type:"matrix",icon:"table_chart",name:"Matrix/Likert",category:"question",defaults:{meta:{provider:"Fields Pack extension"}},component:Qp,viewComponent:id,supportedOperators:[],requiresUpgrade:_,module:d,translatable:["field.options.rows.label","field.options.columns.label"]}),n.add({type:"file",icon:"insert_drive_file",name:"File",category:"question",defaults:{meta:{provider:"Fields Pack extension"}},component:Hp,viewComponent:rd,supportedOperators:[],requiresUpgrade:_,module:d,translatable:["field.options.placeholder"]}),n.add({type:"rating",icon:"star",name:"Rating",category:"question",defaults:{meta:{provider:"Fields Pack extension"}},component:jp,supportedOperators:[u.EQUALS,u.NOT_EQUALS,u.GREATER_THAN,u.LESS_THAN],requiresUpgrade:_,module:d}),n.add({type:"image-choice",icon:"wallpaper",name:"Image Choice",category:"question",defaults:{meta:{provider:"Fields Pack extension"}},component:Kp,supportedOperators:[u.EQUALS,u.NOT_EQUALS,u.IN,u.NOT_IN],requiresUpgrade:_,module:d,translatable:["field.options.choices.label"]}),i.addOperators("rating",[u.EQUALS,u.NOT_EQUALS,u.GREATER_THAN,u.LESS_THAN]),i.addOperators("matrix",[u.EQUALS,u.NOT_EQUALS,u.IN,u.NOT_IN]),i.addOperators("image-choice",[u.EQUALS,u.NOT_EQUALS,u.IN,u.NOT_IN])}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(q),e.LFG(M),e.LFG(ke),e.LFG(E.s),e.LFG(le.q))},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,pe,l.u5,v._t,Q.$,p.aw]]}),o})(),ad=(()=>{class o{constructor(t){this.http=t,this.updating$=new w.j(!1),this.getting$=new w.j(!1)}update(t){return this.updating$.start(),this.http.post("admin/popup",t).toPromise().finally(this.updating$.finish())}get(){return this.getting$.start(),this.http.get("admin/popup").toPromise().finally(this.getting$.finish())}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(O.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ld(o,s){1&o&&(e._UZ(0,"loading-state",3),e.ALo(1,"translate")),2&o&&e.Q6J("description",e.lcZ(1,1,"Retrieving the popup..."))}function cd(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).save()}),e.ALo(1,"async"),e._uU(2,"Save "),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(1,1,t.IS_UPDATING))}}function pd(o,s){1&o&&e._UZ(0,"loading-indicator",20)}function dd(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"h4",7),e._uU(4,"Popup Extension"),e.qZA(),e.TgZ(5,"small",8),e._uU(6,"Version 1.0"),e.qZA()(),e.TgZ(7,"div",9)(8,"div",10)(9,"label",11)(10,"input",12),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().options.enabled=i}),e.qZA(),e.TgZ(11,"span",13),e._uU(12),e.ALo(13,"translate"),e.ALo(14,"translate"),e.qZA()(),e.YNc(15,cd,3,3,"button",14),e.ALo(16,"async"),e.YNc(17,pd,1,0,"loading-indicator",15),e.ALo(18,"async"),e.qZA()()(),e.TgZ(19,"div",16)(20,"div",17)(21,"card",18),e.ALo(22,"translate"),e._UZ(23,"popup-settings"),e.qZA(),e.TgZ(24,"card",18),e.ALo(25,"translate"),e._UZ(26,"popup-behaviour"),e.qZA(),e.TgZ(27,"card",18),e.ALo(28,"translate"),e._UZ(29,"popup-design"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(10),e.Q6J("ngModel",t.options.enabled),e.xp6(2),e.Oqu(null!=t.options&&t.options.enabled?e.lcZ(13,7,"Enabled"):e.lcZ(14,9,"Disabled")),e.xp6(3),e.Q6J("ngIf",!e.lcZ(16,11,t.IS_UPDATING)),e.xp6(2),e.Q6J("ngIf",e.lcZ(18,13,t.IS_UPDATING)),e.xp6(4),e.Q6J("name",e.lcZ(22,15,"Settings")),e.xp6(3),e.Q6J("name",e.lcZ(25,17,"Behaviour")),e.xp6(3),e.Q6J("name",e.lcZ(28,19,"Design"))}}let xe=(()=>{class o{constructor(t,n,i,r,a,d){this.surveysService=t,this.popupService=n,this.statusService=i,this.config=r,this.promotionService=a,this.moduleService=d,this.targets=[],this.cssClass=!0,this.IS_GETTING=this.popupService.getting$,this.IS_UPDATING=this.popupService.updating$,this.targets=r.postTypes}ngOnInit(){var t=this;return(0,f.Z)(function*(){if(!t.promotionService.isUpgradedNeeded("survey-popup-extension")&&t.moduleService.isModuleActivated("survey-popup-extension")){try{t.options=(yield t.popupService.get()).data}catch(n){t.statusService.error({message:(0,h.EF)(n),modal:!0})}yield t.fetch()}})()}fetch(){var t=this;return(0,f.Z)(function*(){const n=yield t.surveysService.all({});t.surveys=n.data.items})()}save(){var t=this;return(0,f.Z)(function*(){try{const n=yield t.popupService.update(t.options);if(!n.success)throw new Error(n.error||"Something went wrong, please try again.");t.statusService.success({message:"Changes were been saved."})}catch(n){t.statusService.error({message:(0,h.EF)(n),modal:!0})}})()}update(t){this.options=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A),e.Y36(ad),e.Y36(J.B),e.Y36(q),e.Y36(le.q),e.Y36(E.s))},o.\u0275cmp=e.Xpm({type:o,selectors:[["popup-editor"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("popup-editor",n.cssClass)},decls:6,vars:4,consts:[["module","survey-popup-extension"],[3,"description",4,"ngIf","ngIfElse"],["main",""],[3,"description"],[1,"survey-editor"],[1,"navigation","main-tabs"],[1,"left","extension-presentation"],["translate","",1,"name"],[1,"version"],[1,"right"],[1,"actions"],[1,"labeled-switch"],["type","checkbox",1,"switch",3,"ngModel","ngModelChange"],[1,"label"],["type","button","class","button -primary","translate","",3,"disabled","click",4,"ngIf"],["class","button -white",4,"ngIf"],[1,"content","cards"],[1,"row"],[1,"col-md-4",3,"name"],["type","button","translate","",1,"button","-primary",3,"disabled","click"],[1,"button","-white"]],template:function(t,n){if(1&t&&(e._UZ(0,"pro-overlay",0)(1,"module-activation",0),e.YNc(2,ld,2,3,"loading-state",1),e.ALo(3,"async"),e.YNc(4,dd,30,21,"ng-template",null,2,e.W1O)),2&t){const i=e.MAs(5);e.xp6(2),e.Q6J("ngIf",!n.options||e.lcZ(3,2,n.IS_GETTING))("ngIfElse",i)}},encapsulation:2}),o})();const ud=[{path:"popup",component:xe}];let gd=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forChild(ud)],m.Bz]}),o})();function _d(o,s){if(1&o&&(e.TgZ(0,"option",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=s.$implicit;e.s9C("value",t.uid),e.xp6(1),e.Oqu(t.name||e.lcZ(2,2,"Untitled #")+t.id)}}function md(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",7)(1,"button",8),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().setTarget(r.value)}),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.TgZ(4,"span",13),e._uU(5),e.qZA()()()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(1),e.ekj("is-active",n.isTarget(t.value)),e.xp6(2),e.Oqu(t.icon),e.xp6(2),e.Oqu(t.name)}}function hd(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",0)(1,"p",14),e._uU(2,"To trigger the popup, either include the shortcode or use the PHP snippet."),e.qZA(),e.TgZ(3,"div",0)(4,"label",15),e._uU(5,"Shortcode"),e.qZA(),e.TgZ(6,"div",16),e._UZ(7,"input",17),e.TgZ(8,"button",18),e.NdJ("cdkCopyToClipboardCopied",function(){e.CHM(t);const i=e.MAs(10);return e.oxw().notifyCopy(i)}),e.TgZ(9,"span",9,19),e._uU(11,"file_copy"),e.qZA()()()(),e.TgZ(12,"div",0)(13,"label",20),e._uU(14,"PHP"),e.qZA(),e.TgZ(15,"div",16),e._UZ(16,"input",21),e.TgZ(17,"button",18),e.NdJ("cdkCopyToClipboardCopied",function(){e.CHM(t);const i=e.MAs(19);return e.oxw().notifyCopy(i)}),e.TgZ(18,"span",9,22),e._uU(20,"file_copy"),e.qZA()()()()()}2&o&&(e.xp6(8),e.Q6J("cdkCopyToClipboard","[totalsurvey-popup]"),e.xp6(9),e.Q6J("cdkCopyToClipboard","<?php do_action('totalsurvey/display/popup') ?>"))}let fd=(()=>{class o{constructor(t){this.popup=t}setTarget(t){this.popup.options.target=t}isTarget(t){return this.popup.options.target===t}notifyCopy(t){t.innerText="done",setTimeout(()=>t.innerText="file_copy",2e3)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(xe))},o.\u0275cmp=e.Xpm({type:o,selectors:[["popup-settings"]],decls:17,vars:6,consts:[[1,"form-group"],["for","popup_survey",1,"label"],["name","survey","id","popup_survey",1,"input",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["translate","",1,"label"],[1,"row","row-grid"],["class","col-4",4,"ngFor","ngForOf"],[1,"col-4"],["type","button",1,"button","-preset",3,"click"],[1,"icon","material-icons"],["translate","",1,"name"],["class","form-group",4,"ngIf"],[3,"value"],[1,"name"],["translate","",1,"message","-info"],["for","popup_integration_shortcode","translate","",1,"label"],[1,"input-with-action"],["type","text","id","popup_integration_shortcode","readonly","","value","[totalsurvey-popup]",1,"input","-left-attach"],["type","button",1,"button","-primary","-right-attach",3,"cdkCopyToClipboard","cdkCopyToClipboardCopied"],["shortcodeCopy",""],["for","popup_integration_php",1,"label"],["type","text","id","popup_integration_php","readonly","","value","<?php do_action('totalsurvey/display/popup') ?>",1,"input","-left-attach"],["phpCopy",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2,"Surveys"),e.qZA(),e.TgZ(3,"select",2),e.NdJ("ngModelChange",function(r){return n.popup.options.survey=r}),e.YNc(4,_d,3,4,"option",3),e.qZA()(),e.TgZ(5,"div",0)(6,"label",4),e._uU(7,"Trigger"),e.qZA(),e.TgZ(8,"div",5),e.YNc(9,md,6,4,"div",6),e.TgZ(10,"div",7)(11,"button",8),e.NdJ("click",function(){return n.setTarget("code")}),e.TgZ(12,"span",9),e._uU(13,"code"),e.qZA(),e.TgZ(14,"span",10),e._uU(15,"Code"),e.qZA()()()()(),e.YNc(16,hd,21,2,"div",11)),2&t&&(e.xp6(3),e.Q6J("ngModel",n.popup.options.survey),e.xp6(1),e.Q6J("ngForOf",n.popup.surveys),e.xp6(5),e.Q6J("ngForOf",n.popup.targets),e.xp6(2),e.ekj("is-active",n.isTarget("code")),e.xp6(5),e.Q6J("ngIf",n.isTarget("code")))},directives:[l.EJ,l.JJ,l.On,c.sg,l.YN,l.Kr,p.Pi,c.O5,G.i3],pipes:[p.X$],encapsulation:2}),o})();function xd(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",0)(1,"label",8),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"span",9),e._uU(5,"Seconds"),e.qZA()(),e.TgZ(6,"input",10),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().popup.options.delay=i}),e.ALo(7,"translate"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,3,"Delay")," "),e.xp6(4),e.Q6J("placeholder",e.lcZ(7,5,"Delay in seconds"))("ngModel",t.popup.options.delay)}}function bd(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",0)(1,"label",1),e._uU(2,"Prompt message"),e.qZA(),e.TgZ(3,"textarea",5),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().popup.options.messages.prompt=i}),e.ALo(4,"translate"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.popup.options.messages.prompt)("placeholder",e.lcZ(4,2,"Would you like to participate in our survey?"))}}function vd(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",0)(1,"label",1),e._uU(2,"Popup closure"),e.qZA(),e.TgZ(3,"div",2)(4,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().setCloseDelay(0)}),e._uU(5," Close button "),e.qZA(),e.TgZ(6,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().setCloseDelay(1)}),e._uU(7," Timeout "),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(4),e.ekj("-primary",t.isCloseDelay(0)),e.xp6(2),e.ekj("-primary",!t.isCloseDelay(0))}}function Cd(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",0)(1,"label",11),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"span",9),e._uU(5,"Seconds"),e.qZA()(),e.TgZ(6,"input",12),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().popup.options.close=i}),e.ALo(7,"translate"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,3,"Timeout")," "),e.xp6(4),e.Q6J("placeholder",e.lcZ(7,5,"Delay in seconds"))("ngModel",t.popup.options.close)}}let yd=(()=>{class o{constructor(t){this.popup=t}setOpenDelay(t){this.popup.options.delay=t}isOpenDelay(t){return this.popup.options.delay===t}isOpenDelayed(){return this.popup.options.delay>0}setCloseDelay(t){this.popup.options.close=t}isCloseDelayed(){return this.popup.options.close>0}isCloseDelay(t){return this.popup.options.close===t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(xe))},o.\u0275cmp=e.Xpm({type:o,selectors:[["popup-behaviour"]],decls:22,vars:14,consts:[[1,"form-group"],["translate","",1,"label"],[1,"button-group"],["type","button","translate","",1,"button",3,"click"],["class","form-group",4,"ngIf"],["name","thankyou","rows","3",1,"input",3,"ngModel","placeholder","ngModelChange"],[1,"checkbox"],["type","checkbox",3,"value","ngModel","ngModelChange"],["for","popup_open_delay",1,"label"],["translate","",1,"chip"],["type","number","id","popup_open_delay","name","delay",1,"input",3,"placeholder","ngModel","ngModelChange"],["for","popup_close_delay",1,"label"],["type","number","id","popup_close_delay","name","delay",1,"input",3,"placeholder","ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2,"Popup appearance"),e.qZA(),e.TgZ(3,"div",2)(4,"button",3),e.NdJ("click",function(){return n.setOpenDelay(0)}),e._uU(5," Immediate "),e.qZA(),e.TgZ(6,"button",3),e.NdJ("click",function(){return n.setOpenDelay(1)}),e._uU(7," Delayed "),e.qZA()()(),e.YNc(8,xd,8,7,"div",4),e.YNc(9,bd,5,4,"div",4),e.TgZ(10,"div",0)(11,"label",1),e._uU(12,"Thank you message"),e.qZA(),e.TgZ(13,"textarea",5),e.NdJ("ngModelChange",function(r){return n.popup.options.messages.thankyou=r}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",0)(16,"label",6)(17,"input",7),e.NdJ("ngModelChange",function(r){return n.popup.options.skipPrompt=r}),e.qZA(),e.TgZ(18,"span",1),e._uU(19,"Skip prompt message, show survey instantly"),e.qZA()()(),e.YNc(20,vd,8,4,"div",4),e.YNc(21,Cd,8,7,"div",4)),2&t&&(e.xp6(4),e.ekj("-primary",n.isOpenDelay(0)),e.xp6(2),e.ekj("-primary",n.isOpenDelayed()),e.xp6(2),e.Q6J("ngIf",n.isOpenDelayed()),e.xp6(1),e.Q6J("ngIf",!n.popup.options.skipPrompt),e.xp6(4),e.Q6J("ngModel",n.popup.options.messages.thankyou)("placeholder",e.lcZ(14,12,"Thank You")),e.xp6(4),e.Q6J("value",!0)("ngModel",n.popup.options.skipPrompt),e.xp6(3),e.Q6J("ngIf",n.popup.options.messages.thankyou),e.xp6(1),e.Q6J("ngIf",!n.isCloseDelay(0)))},directives:[p.Pi,c.O5,l.wV,l.Fj,l.JJ,l.On,l.Wl],pipes:[p.X$],encapsulation:2}),o})();var kd=g(7782);let Td=(()=>{class o{constructor(t){this.popup=t}isPosition(t){return this.popup.options.position==t}isShadow(t){return this.popup.options.shadow==t}setShadow(t){this.popup.options.shadow=t}setPosition(t){this.popup.options.position=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(xe))},o.\u0275cmp=e.Xpm({type:o,selectors:[["popup-design"]],decls:59,vars:24,consts:[[1,"form-group"],[1,"row"],[1,"col"],["translate","",1,"label"],["name","open",1,"input",3,"ngModel","placeholder","ngModelChange"],["name","discard",1,"input",3,"ngModel","placeholder","ngModelChange"],["type","button",1,"button","-preset",3,"click"],[1,"icon","material-icons"],["translate","",1,"name"],["data-mirror","",1,"icon","material-icons"],["translate",""],["name","Primary",1,"col-4",3,"ngModel","ngModelChange"],["name","Background",1,"col-4",3,"ngModel","ngModelChange"],["name","Foreground",1,"col-4",3,"ngModel","ngModelChange"],["for","radius","translate",""],["id","radius","type","number","min","0","name","radius",1,"input",3,"ngModel","ngModelChange"],[1,"col",3,"click"],[1,"shadow-preview"],[1,"shadow-preview","-regular"],[1,"shadow-preview","-large"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._uU(4,"Start button label"),e.qZA(),e.TgZ(5,"input",4),e.NdJ("ngModelChange",function(r){return n.popup.options.buttons.start=r}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",2)(8,"label",3),e._uU(9,"Discard button label"),e.qZA(),e.TgZ(10,"input",5),e.NdJ("ngModelChange",function(r){return n.popup.options.buttons.discard=r}),e.ALo(11,"translate"),e.qZA()()()(),e.TgZ(12,"div",0)(13,"label",3),e._uU(14,"Position"),e.qZA(),e.TgZ(15,"div",1)(16,"div",2)(17,"button",6),e.NdJ("click",function(){return n.setPosition("bottomRight")}),e.TgZ(18,"span",7),e._uU(19,"picture_in_picture_alt"),e.qZA(),e.TgZ(20,"span",8),e._uU(21,"Bottom Right"),e.qZA()()(),e.TgZ(22,"div",2)(23,"button",6),e.NdJ("click",function(){return n.setPosition("bottomLeft")}),e.TgZ(24,"span",9),e._uU(25,"picture_in_picture_alt"),e.qZA(),e.TgZ(26,"span",10),e._uU(27,"Bottom Left"),e.qZA()()(),e.TgZ(28,"div",2)(29,"button",6),e.NdJ("click",function(){return n.setPosition("topRight")}),e.TgZ(30,"span",7),e._uU(31,"picture_in_picture"),e.qZA(),e.TgZ(32,"span",10),e._uU(33,"Top Right"),e.qZA()()()()(),e.TgZ(34,"div",0)(35,"div",1)(36,"color-picker",11),e.NdJ("ngModelChange",function(r){return n.popup.options.colors.primary=r}),e.qZA(),e.TgZ(37,"color-picker",12),e.NdJ("ngModelChange",function(r){return n.popup.options.colors.background=r}),e.qZA(),e.TgZ(38,"color-picker",13),e.NdJ("ngModelChange",function(r){return n.popup.options.colors.foreground=r}),e.qZA()()(),e.TgZ(39,"div",0)(40,"label",14),e._uU(41,"Border radius"),e.qZA(),e.TgZ(42,"input",15),e.NdJ("ngModelChange",function(r){return n.popup.options.radius=r}),e.qZA()(),e.TgZ(43,"div",0)(44,"label",3),e._uU(45,"Shadow"),e.qZA(),e.TgZ(46,"div",1)(47,"label",16),e.NdJ("click",function(){return n.setShadow("none")}),e._UZ(48,"span",17),e.TgZ(49,"span",10),e._uU(50,"None"),e.qZA()(),e.TgZ(51,"label",16),e.NdJ("click",function(){return n.setShadow("regular")}),e._UZ(52,"span",18),e.TgZ(53,"span",10),e._uU(54,"Regular"),e.qZA()(),e.TgZ(55,"label",16),e.NdJ("click",function(){return n.setShadow("large")}),e._UZ(56,"span",19),e.TgZ(57,"span",10),e._uU(58,"Large"),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("ngModel",n.popup.options.buttons.start)("placeholder",e.lcZ(6,20,"Participate")),e.xp6(5),e.Q6J("ngModel",n.popup.options.buttons.discard)("placeholder",e.lcZ(11,22,"Not now")),e.xp6(7),e.ekj("is-active",n.isPosition("bottomRight")),e.xp6(6),e.ekj("is-active",n.isPosition("bottomLeft")),e.xp6(6),e.ekj("is-active",n.isPosition("topRight")),e.xp6(7),e.Q6J("ngModel",n.popup.options.colors.primary),e.xp6(1),e.Q6J("ngModel",n.popup.options.colors.background),e.xp6(1),e.Q6J("ngModel",n.popup.options.colors.foreground),e.xp6(4),e.Q6J("ngModel",n.popup.options.radius),e.xp6(6),e.ekj("-active",n.isShadow("none")),e.xp6(4),e.ekj("-active",n.isShadow("regular")),e.xp6(4),e.ekj("-active",n.isShadow("large")))},directives:[p.Pi,l.Fj,l.JJ,l.On,kd.h,l.qQ,l.wV],pipes:[p.X$],encapsulation:2}),o})(),wd=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,l.u5,gd,G.Iq,L.I,ie.E,he.Y,p.aw]]}),o})();function Zd(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"span",10,11),e.NdJ("cdkCopyToClipboardCopied",function(){e.CHM(t);const i=e.MAs(3);return e.oxw().notifyCopy(i,"Copied")}),e.ALo(4,"translate"),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA()()}if(2&o){const t=s.$implicit;e.xp6(2),e.Q6J("cdkCopyToClipboard",t.content),e.uIk("data-tooltip",e.lcZ(4,4,"Click to copy")),e.xp6(3),e.Oqu(t.content),e.xp6(2),e.Oqu(t.label)}}e.B6R(xe,[te.H,ye.j,c.O5,ee.X,p.Pi,l.Wl,l.JJ,l.On,$.Q,D.A,fd,yd,Td],[p.X$,c.Ov]);let Ad=(()=>{class o{constructor(t){this.workflow=t,this.rule=this.workflow.rule,this.vars=[{content:"{{survey.name}}",label:"Survey name"},{content:"{{entry.user.id}}",label:"User ID"},{content:"{{entry.user.email}}",label:"User email"},{content:"{{entry.user.name}}",label:"User full name"},{content:"{{entry.user.avatar}}",label:"User avatar"},{content:"{{entry.ip}}",label:"User ip"},{content:"{{entry.agent}}",label:"User agent"},{content:"{{content}}",label:"Entry content"},{content:"{{entry.created_at}}",label:"Entry creation date"}]}notifyCopy(t,n){const i=t.dataset.tooltip;t.dataset.tooltip=n,setTimeout(()=>t.dataset.tooltip=i,1e3)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["send-email-workflow-action"]],decls:24,vars:4,consts:[[1,"form-group"],["for","workflow_task_email_to","translate","",1,"label"],["id","workflow_task_email_to","type","text",1,"input",3,"ngModel","ngModelChange"],["for","workflow_task_email_subject","translate","",1,"label"],["id","workflow_task_email_subject","type","text",1,"input",3,"ngModel","ngModelChange"],["for","workflow_task_email_message","translate","",1,"label"],["id","workflow_task_email_message","rows","6",1,"input",3,"ngModel","ngModelChange"],["translate",""],[1,"table"],[4,"ngFor","ngForOf"],[3,"cdkCopyToClipboard","cdkCopyToClipboardCopied"],["content",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2,"To"),e.qZA(),e.TgZ(3,"input",2),e.NdJ("ngModelChange",function(r){return n.rule.task.arguments.to=r}),e.qZA()(),e.TgZ(4,"div",0)(5,"label",3),e._uU(6,"Subject"),e.qZA(),e.TgZ(7,"input",4),e.NdJ("ngModelChange",function(r){return n.rule.task.arguments.subject=r}),e.qZA()(),e.TgZ(8,"div",0)(9,"label",5),e._uU(10,"Message"),e.qZA(),e.TgZ(11,"textarea",6),e.NdJ("ngModelChange",function(r){return n.rule.task.arguments.message=r}),e.qZA()(),e.TgZ(12,"div",0)(13,"h5",7),e._uU(14,"Available variables"),e.qZA(),e.TgZ(15,"table",8)(16,"thead")(17,"tr")(18,"th",7),e._uU(19,"Variable"),e.qZA(),e.TgZ(20,"th",7),e._uU(21,"Usage"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,Zd,8,6,"tr",9),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngModel",n.rule.task.arguments.to),e.xp6(4),e.Q6J("ngModel",n.rule.task.arguments.subject),e.xp6(4),e.Q6J("ngModel",n.rule.task.arguments.message),e.xp6(12),e.Q6J("ngForOf",n.vars))},directives:[p.Pi,l.Fj,l.JJ,l.On,c.sg,G.i3],pipes:[p.X$],encapsulation:2}),o})(),Md=(()=>{class o{constructor(t){this.workflow=t,this.rule=this.workflow.rule,this.rule.task.arguments.webHookUrl=this.rule.task.arguments.webHookUrl??""}get sample(){return'POST /webhook.php HTTP/1.1\n        Host: localhost\n        User-Agent: WordPress/5.5.0; http://localhost\n        Content-Type: application/json\n        X-WebHook-Event: entry-received\n        X-WebHook-Task: call-webhook\n        {\n            "survey": {\n                "id": "10",\n                "uid": "cb93f385-8852-416b-96f4-fd0fafcf6b17",\n                "user_id": "1",\n                "name": "Customer satisfaction",\n                "title": "",\n                "description": "",\n                "sections": [...],\n                "created_at": "2020-08-12 23:02:29",\n                "updated_at": "2020-08-12 22:02:49",\n                "deleted_at": "0000-00-00 00:00:00",\n                "status": "open",\n                "settings": {...},\n                "enabled": true\n            },\n            "entry": {\n                "id": "129",\n                "uid": "ac12f8a0-00c1-441a-82da-b543a5ffb119",\n                "survey_uid": "cb93f385-8852-416b-96f4-fd0fafcf6b17",\n                "user_id": "1",\n                "ip": "127.0.0.1",\n                "agent": "Mozilla\\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\\/537.36 (KHTML, like Gecko) Chrome\\/84.0.4147.125 Safari\\/537.36",\n                "status": "open",\n                "data": {...},\n                "created_at": "2020-08-12 22:02:55",\n                "updated_at": null,\n                "deleted_at": null,\n                "user": {\n                    "name": "Administrator",\n                    "avatar": "http:\\/\\/2.gravatar.com\\/avatar\\/HASH?s=96&d=mm&r=g"\n                }\n        }'}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["call-webhook-workflow-action"]],decls:8,vars:2,consts:[[1,"form-group"],["for","workflow_task_webhook_url","translate","",1,"label"],["id","workflow_task_webhook_url","type","text",1,"input",3,"ngModel","ngModelChange"],[1,"code-sample","-alt",3,"innerHTML"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2,"URL"),e.qZA(),e.TgZ(3,"input",2),e.NdJ("ngModelChange",function(r){return n.rule.task.arguments.webHookUrl=r}),e.qZA()(),e.TgZ(4,"div",0)(5,"h5"),e._uU(6,"Sample payload"),e.qZA(),e._UZ(7,"pre",3),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngModel",n.rule.task.arguments.webHookUrl),e.xp6(4),e.Q6J("innerHTML",n.sample,e.oJD))},directives:[p.Pi,l.Fj,l.JJ,l.On],encapsulation:2}),o})();const qd=function(){return{standalone:!0}};let Jd=(()=>{class o{constructor(t){this.workflow=t,this.rule=this.workflow.rule,this.rule.task.arguments.actionName=this.rule.task.arguments.actionName??""}get sample(){return`/**\n         * The following parameters will be passed to the action hook.\n         *\n         * @param \\TotalSurvey\\Models\\WorkflowRule                $rule  Matched workflow rule.\n         * @param \\TotalSurveyVendors\\TotalSuite\\Foundation\\Event $event Event that triggered the hook.\n         */\n        $eventHandler = function ($rule, $event){\n            $event->survey; // or $rule->getSurvey()\n            $event->entry;\n        };\n        add_action('${this.rule.task.arguments.actionName||"ACTION_NAME"}', $eventHandler, 10, 2);\n        `}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["execute-hook-workflow-action"]],decls:8,vars:4,consts:[[1,"form-group"],["for","workflow_task_hook_name","translate","",1,"label"],["id","workflow_task_hook_name","type","text",1,"input",3,"ngModel","ngModelOptions","ngModelChange"],["translate",""],[1,"code-sample","-alt",3,"innerHTML"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2,"Action name"),e.qZA(),e.TgZ(3,"input",2),e.NdJ("ngModelChange",function(r){return n.rule.task.arguments.actionName=r}),e.qZA()(),e.TgZ(4,"div",0)(5,"h5",3),e._uU(6,"Sample"),e.qZA(),e._UZ(7,"pre",4),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngModel",n.rule.task.arguments.actionName)("ngModelOptions",e.DdM(3,qd)),e.xp6(4),e.Q6J("innerHTML",n.sample,e.oJD))},directives:[p.Pi,l.Fj,l.JJ,l.On],encapsulation:2}),o})(),Sd=(()=>{class o{constructor(t){this.workflow=t,this.rule=this.workflow.rule,this.rule.task.arguments.redirectUrl=this.rule.task.arguments.redirectUrl??""}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["redirect-url-workflow-task-settings"]],decls:4,vars:1,consts:[[1,"form-group"],["for","workflow_task_redirect_url","translate","",1,"label"],["id","workflow_task_redirect_url","type","text",1,"input",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2,"URL"),e.qZA(),e.TgZ(3,"input",2),e.NdJ("ngModelChange",function(r){return n.rule.task.arguments.redirectUrl=r}),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngModel",n.rule.task.arguments.redirectUrl))},directives:[p.Pi,l.Fj,l.JJ,l.On],styles:[""]}),o})(),Ud=(()=>{class o{constructor(t){this.workflows=t,t.registerTaskSettingsComponent("send-email",Ad),t.registerTaskSettingsComponent("execute-hook",Jd),t.registerTaskSettingsComponent("call-webhook",Md),t.registerTaskSettingsComponent("redirect",Sd)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Ne))},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,l.u5,pe,G.Iq,p.aw]]}),o})();const Nd=function(){return{action:"integrate-survey",target:"shortcode"}},Id=[{path:"publish-insights",pathMatch:"full",component:(()=>{class o{constructor(t,n,i){this.router=t,this.statusService=n,this.activatedRoute=i,this.reload=!1,this.cssClass=!0,this.state=this.router.getCurrentNavigation().extras.state,this.survey=this.state.survey}ngOnInit(){}get shortcode(){return`[totalsurvey-insights id="${this.survey.id}" from="${this.state.from||""}" to="${this.state.to||""}" include-obsolete="${this.state.includeObsolete||!1}"][/totalsurvey-insights]`}get embed(){const t=new URL(this.survey.insights_url);t.searchParams.set("from",this.state.from||""),t.searchParams.set("to",this.state.to||""),t.searchParams.set("include_obsolete",this.state.includeObsolete||!1),t.searchParams.append("embed","1");const n_uid=this.survey.uid;return`<iframe id="survey-insights-${this.survey.uid}" src="${t}" frameborder="0" allowtransparency="true" width="100%" height="400"></iframe>\n    <script>\n      window.addEventListener('message', function (event)\n      {   if (event.data.totalsurvey_insights && event.data.totalsurvey_insights.action === 'resizeHeight')\n          {\n              document.querySelector("#survey-insights-${n_uid}").height = event.data.totalsurvey_insights.value;\n          }\n      }, false);\n      document.querySelector("#survey-insights-${n_uid}").contentWindow.postMessage(\n          {totalsurvey_insights: {action: 'requestHeight'}}, '*');\n    <\/script>\n`}get directLink(){const t=new URL(this.survey.insights_url);return t.searchParams.set("from",this.state.from||""),t.searchParams.set("to",this.state.to||""),t.searchParams.set("include_obsolete",this.state.includeObsolete||!1),t.searchParams.append("embed","0"),t.toString()}notifyCopy(t){t.innerText="done",setTimeout(()=>t.innerText="file_copy",2e3)}close(t){var n=this;return(0,f.Z)(function*(){yield n.router.navigate([{outlets:{overlay:null}}]),n.reload&&window.location.reload(),t&&t.preventDefault()})()}onDismiss(t){this.close(t)}onClick(t){t.target===t.currentTarget&&this.close(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.F0),e.Y36(J.B),e.Y36(m.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["publish-insights"]],hostVars:2,hostBindings:function(t,n){1&t&&e.NdJ("keydown.escape",function(r){return n.onDismiss(r)},!1,e.evT)("click",function(r){return n.onClick(r)}),2&t&&e.ekj("publish-insights-overlay",n.cssClass)},decls:34,vars:8,consts:[[1,"publish-container","row"],["name","Publish Insights",1,"col-12"],[1,"close","material-icons",3,"click"],[1,"col-8"],[1,"message","-attention","-small"],[1,"form-group"],["for","insights_integration_shortcode",1,"label"],[1,"input-with-action"],["type","text","id","insights_integration_shortcode","readonly","",1,"input","-left-attach",3,"value"],["type","button",1,"button","-primary","-right-attach",3,"clickTracker","cdkCopyToClipboard","cdkCopyToClipboardCopied"],[1,"icon","material-icons"],["shortcodeCopy",""],["for","insights_integration_embed",1,"label"],["type","text","id","insights_integration_embed","readonly","",1,"input","-left-attach",3,"value"],["type","button",1,"button","-primary","-right-attach",3,"cdkCopyToClipboard","cdkCopyToClipboardCopied"],["embedCopy",""],["for","insights_integration_direct_link",1,"label"],["type","text","id","insights_integration_direct_link","readonly","",1,"input","-left-attach",3,"value"],["linkCopy",""]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"section",0)(1,"card",1)(2,"a",2),e.NdJ("click",function(a){return n.close(a)}),e._uU(3,"close"),e.qZA(),e.TgZ(4,"div",3)(5,"p",4),e._uU(6," Please note that the selected filters are applied on the insights. "),e.qZA()(),e.TgZ(7,"div",5)(8,"label",6),e._uU(9,"Shortcode"),e.qZA(),e.TgZ(10,"div",7),e._UZ(11,"input",8),e.TgZ(12,"button",9),e.NdJ("cdkCopyToClipboardCopied",function(){e.CHM(i);const a=e.MAs(14);return n.notifyCopy(a)}),e.TgZ(13,"span",10,11),e._uU(15,"file_copy"),e.qZA()()()(),e.TgZ(16,"div",5)(17,"label",12),e._uU(18,"Embed"),e.qZA(),e.TgZ(19,"div",7),e._UZ(20,"input",13),e.TgZ(21,"button",14),e.NdJ("cdkCopyToClipboardCopied",function(){e.CHM(i);const a=e.MAs(23);return n.notifyCopy(a)}),e.TgZ(22,"span",10,15),e._uU(24,"file_copy"),e.qZA()()()(),e.TgZ(25,"div",5)(26,"label",16),e._uU(27,"Direct Link"),e.qZA(),e.TgZ(28,"div",7),e._UZ(29,"input",17),e.TgZ(30,"button",14),e.NdJ("cdkCopyToClipboardCopied",function(){e.CHM(i);const a=e.MAs(32);return n.notifyCopy(a)}),e.TgZ(31,"span",10,18),e._uU(33,"file_copy"),e.qZA()()()()()()}2&t&&(e.xp6(11),e.Q6J("value",n.shortcode),e.xp6(1),e.Q6J("clickTracker",e.DdM(7,Nd))("cdkCopyToClipboard",n.shortcode),e.xp6(8),e.Q6J("value",n.embed),e.xp6(1),e.Q6J("cdkCopyToClipboard",n.embed),e.xp6(8),e.Q6J("value",n.directLink),e.xp6(1),e.Q6J("cdkCopyToClipboard",n.directLink))},directives:[D.A,S.g,G.i3],encapsulation:2}),o})(),outlet:"overlay"}];let Fd=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forChild(Id)],m.Bz]}),o})(),Ed=(()=>{class o{constructor(){}ngOnInit(){this.initialize()}initialize(){this.chart={type:"pie",data:{labels:["authenticated","anonymous"],datasets:[{data:[this.data.authenticated,this.data.anonymous],fill:!1,backgroundColor:[U.colors[3],U.colors[5]],borderColor:[],borderWidth:3}]},options:{legend:{display:!1},cutoutPercentage:0}}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["users"]],inputs:{data:"data"},decls:11,vars:5,consts:[[1,"card"],[1,"header"],[1,"header-item"],[1,"body"],["width","220",3,"data","type","options"],[1,"footer"],[1,"footer-item","insights-label","is-3"],[1,"footer-item","insights-label","is-5"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3,"Users"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"ngx-chartjs",4),e.qZA(),e.TgZ(6,"div",5)(7,"span",6),e._uU(8),e.qZA(),e.TgZ(9,"span",7),e._uU(10),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("data",n.chart.data)("type",n.chart.type)("options",n.chart.options),e.xp6(3),e.hij("Authenticated ",n.data.authenticated,"%"),e.xp6(2),e.hij("Anonymous ",n.data.anonymous,"%"))},directives:[se.d],encapsulation:2}),o})(),Qd=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["counter"]],inputs:{data:"data"},decls:32,vars:4,consts:[[1,"card"],[1,"header"],[1,"header-item"],[1,"body"],[1,"counter-number","color-4"],[1,"counter-number","color-1"],[1,"counter-number","color-2"],[1,"counter-number","color-3"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3,"Entries"),e.qZA()(),e.TgZ(4,"div",3)(5,"table")(6,"tr")(7,"td")(8,"div",4)(9,"span"),e._uU(10,"Total"),e.qZA(),e.TgZ(11,"strong"),e._uU(12),e.qZA()()(),e.TgZ(13,"td")(14,"div",5)(15,"span"),e._uU(16,"Today"),e.qZA(),e.TgZ(17,"strong"),e._uU(18),e.qZA()()()(),e.TgZ(19,"tr")(20,"td")(21,"div",6)(22,"span"),e._uU(23,"This Week"),e.qZA(),e.TgZ(24,"strong"),e._uU(25),e.qZA()()(),e.TgZ(26,"td")(27,"div",7)(28,"span"),e._uU(29,"This Month"),e.qZA(),e.TgZ(30,"strong"),e._uU(31),e.qZA()()()()()()()),2&t&&(e.xp6(12),e.Oqu(n.data.total),e.xp6(6),e.Oqu(n.data.today),e.xp6(7),e.Oqu(n.data.thisWeek),e.xp6(6),e.Oqu(n.data.thisMonth))},encapsulation:2}),o})(),Od=(()=>{class o{constructor(){}ngOnInit(){this.initialize()}initialize(){this.chart={type:"bar",data:{labels:["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],datasets:[{barPercentage:1,data:[0,0,0,0,0,0,0],fill:!0,backgroundColor:[U.colors[0],U.colors[1],U.colors[2],U.colors[3],U.colors[4],U.colors[5],U.colors[6]],borderColor:[],borderWidth:0}]},options:{legend:{display:!1},scales:{xAxes:[{gridLines:{display:!0}}],yAxes:[{gridLines:{display:!0},ticks:{display:!1,min:0,stepSize:1}}]}}},this.chart.data.labels.forEach((t,n)=>{this.data.daily.forEach(i=>{if(i.day-1===n)return this.chart.data.datasets[0].data[n]=i.total})})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["timeline"]],inputs:{data:"data"},decls:35,vars:10,consts:[[1,"card"],[1,"header"],[1,"header-item"],[1,"body"],[3,"data","type","options"],[1,"footer"],[1,"footer-item"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3,"Entries during this week"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"ngx-chartjs",4),e.qZA(),e.TgZ(6,"div",5)(7,"span",6),e._uU(8,"Sunday"),e._UZ(9,"br"),e._uU(10),e.qZA(),e.TgZ(11,"span",6),e._uU(12,"Monday"),e._UZ(13,"br"),e._uU(14),e.qZA(),e.TgZ(15,"span",6),e._uU(16,"Tuesday"),e._UZ(17,"br"),e._uU(18),e.qZA(),e.TgZ(19,"span",6),e._uU(20,"Wednesday"),e._UZ(21,"br"),e._uU(22),e.qZA(),e.TgZ(23,"span",6),e._uU(24,"Thursday"),e._UZ(25,"br"),e._uU(26),e.qZA(),e.TgZ(27,"span",6),e._uU(28,"Friday"),e._UZ(29,"br"),e._uU(30),e.qZA(),e.TgZ(31,"span",6),e._uU(32,"Saturday"),e._UZ(33,"br"),e._uU(34),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("data",n.chart.data)("type",n.chart.type)("options",n.chart.options),e.xp6(5),e.Oqu(n.chart.data.datasets[0].data[0]),e.xp6(4),e.Oqu(n.chart.data.datasets[0].data[1]),e.xp6(4),e.Oqu(n.chart.data.datasets[0].data[2]),e.xp6(4),e.Oqu(n.chart.data.datasets[0].data[3]),e.xp6(4),e.Oqu(n.chart.data.datasets[0].data[4]),e.xp6(4),e.Oqu(n.chart.data.datasets[0].data[5]),e.xp6(4),e.Oqu(n.chart.data.datasets[0].data[6]))},directives:[se.d],encapsulation:2}),o})();var Ld=g(6011);function Bd(o,s){if(1&o&&(e.TgZ(0,"li"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.qZA()()),2&o){const t=s.$implicit,n=s.index,i=e.oxw(3);e.Gre("insights-list-item insights-label is-",n,""),e.xp6(1),e.AsE(" ",t.key," \u27a1 ",t.value," entries \xa0 "),e.xp6(2),e.Oqu(i.getPercentage(t.value))}}function Hd(o,s){if(1&o&&(e.TgZ(0,"ol",13),e.YNc(1,Bd,4,6,"li",14),e.ALo(2,"keyvalue"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.data.values,t.noSort))}}function Pd(o,s){if(1&o&&(e.TgZ(0,"li")(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"div",19),e._uU(6,"\u2b50"),e.qZA(),e.TgZ(7,"div",19),e._uU(8,"\u2b50"),e.qZA(),e.TgZ(9,"div",19),e._uU(10,"\u2b50"),e.qZA(),e.TgZ(11,"div",19),e._uU(12,"\u2b50"),e.qZA(),e.TgZ(13,"div",19),e._uU(14,"\u2b50"),e.qZA()()()(),e.TgZ(15,"div",20),e._uU(16),e.TgZ(17,"strong"),e._uU(18),e.qZA()()()()),2&o){const t=s.$implicit,n=s.index,i=e.oxw(3);e.Gre("insights-list-item insights-label is-",n,""),e.xp6(5),e.ekj("is-active","\u2605\u2606\u2606\u2606\u2606"==t.key),e.xp6(2),e.ekj("is-active","\u2605\u2605\u2606\u2606\u2606"==t.key),e.xp6(2),e.ekj("is-active","\u2605\u2605\u2605\u2606\u2606"==t.key),e.xp6(2),e.ekj("is-active","\u2605\u2605\u2605\u2605\u2606"==t.key),e.xp6(2),e.ekj("is-active","\u2605\u2605\u2605\u2605\u2605"==t.key),e.xp6(3),e.hij(" ",t.value," entries \xa0 "),e.xp6(2),e.Oqu(i.getPercentage(t.value))}}function Dd(o,s){if(1&o&&(e.TgZ(0,"ol",13),e.YNc(1,Pd,19,15,"li",14),e.ALo(2,"keyvalue"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.data.values,t.noSort))}}function Yd(o,s){if(1&o&&(e.TgZ(0,"li"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.qZA()()),2&o){const t=s.$implicit,n=s.index,i=e.oxw().$implicit,r=e.oxw(3);e.Gre("insights-list-item insights-label is-",n,""),e.xp6(1),e.AsE(" ",t.key," : ",t.value," \xa0 "),e.xp6(2),e.Oqu(r.getPercentage(t.value,i.value.total))}}function Rd(o,s){if(1&o&&(e.TgZ(0,"li")(1,"strong"),e._uU(2),e.qZA(),e.TgZ(3,"ol",23),e.YNc(4,Yd,4,6,"li",14),e.ALo(5,"keyvalue"),e.qZA()()),2&o){const t=s.$implicit,n=e.oxw(3);e.xp6(2),e.Oqu(t.key),e.xp6(2),e.Q6J("ngForOf",e.xi3(5,2,t.value.values,n.noSort))}}function jd(o,s){if(1&o&&(e.TgZ(0,"ol",21),e.YNc(1,Rd,6,5,"li",22),e.ALo(2,"keyvalue"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.data.values.criteria))}}function zd(o,s){if(1&o&&(e.TgZ(0,"div",7)(1,"div",8),e._UZ(2,"ngx-chartjs",9),e.qZA(),e.TgZ(3,"div",10),e.YNc(4,Hd,3,4,"ol",11),e.YNc(5,Dd,3,4,"ol",11),e.YNc(6,jd,3,3,"ol",12),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("data",t.chart.data)("type",t.chart.type)("options",t.chart.options),e.xp6(2),e.Q6J("ngIf","matrix"!==t.data.type&&"rating"!==t.data.type),e.xp6(1),e.Q6J("ngIf","rating"===t.data.type),e.xp6(1),e.Q6J("ngIf","matrix"===t.data.type)}}function Vd(o,s){1&o&&(e.TgZ(0,"section",24)(1,"p",25),e._uU(2,"No data to visualize."),e.qZA()())}function $d(o,s){if(1&o&&(e.TgZ(0,"div",26)(1,"span",27),e._uU(2,"Average rating: "),e.TgZ(3,"strong"),e._uU(4),e.ALo(5,"number"),e.qZA()(),e.TgZ(6,"span",27),e._uU(7,"Total entries: "),e.TgZ(8,"strong"),e._uU(9),e.ALo(10,"number"),e.qZA()()()),2&o){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,2,t.data.average)),e.xp6(5),e.Oqu(e.lcZ(10,4,t.data.total))}}let Gd=(()=>{class o{constructor(t){this.formatNumber=t}ngOnInit(){this.initialize()}initialize(){if(this.chart={type:"pie",data:{labels:[],datasets:[{barPercentage:1,data:[],fill:!1,backgroundColor:U.colors,borderColor:[],borderWidth:3}]},options:{cutoutPercentage:70,legend:{display:!1}}},"matrix"===this.data.type){this.chart.type="bar",this.chart.options={tooltips:{displayColors:!0},scales:{xAxes:[{stacked:!0,gridLines:{display:!1}}],yAxes:[{stacked:!0,ticks:{beginAtZero:!0},type:"linear"}]}},this.chart.data.datasets=[],this.chart.data.labels=[],Object.keys(this.data.values.criteria).forEach(n=>{this.chart.data.labels.push(n)});let t=0;Object.keys(this.data.values.data).forEach(n=>{this.chart.data.datasets.push({label:n,data:this.data.values.data[n],backgroundColor:U.colors[t++]})})}else if(this.data.sorted){const t=new Map;Object.values(this.data.sorted).forEach(n=>{this.chart.data.labels.push(n),this.chart.data.datasets[0].data.push(this.data.values[n]||0),t.set(n,this.data.values[n])}),this.data.values=t}else Object.keys(this.data.values).forEach(t=>{this.chart.data.labels.push(t),this.chart.data.datasets[0].data.push(this.data.values[t])})}noSort(){return 0}getPercentage(t,n=null){null===n&&(n=this.data.total);const i=t/n*100;return i>0?`(${this.formatNumber.transform(i,"1.2-2")}%)`:""}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.JJ))},o.\u0275cmp=e.Xpm({type:o,selectors:[["question"]],inputs:{data:"data"},decls:12,vars:12,consts:[[1,"card"],[1,"header"],[1,"title",3,"title"],[1,"body"],["class","row",4,"ngIf","ngIfElse"],["empty",""],["class","footer",4,"ngIf"],[1,"row"],[1,"col-md-5"],["width","240",3,"data","type","options"],[1,"col-md-7"],["class","insights-list",4,"ngIf"],["style","list-style: none",4,"ngIf"],[1,"insights-list"],[3,"class",4,"ngFor","ngForOf"],[1,"row","align-items-center"],[1,"col-auto"],[1,"rating"],[1,"points","is-stars","is-static"],[1,"point"],[1,"col"],[2,"list-style","none"],[4,"ngFor","ngForOf"],[1,"insights-list",2,"margin-bottom","1rem"],[1,"questions-group"],[1,"text-center"],[1,"footer"],[1,"footer-item"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e.ALo(3,"stripHTML"),e._uU(4),e.ALo(5,"truncate"),e.ALo(6,"stripHTML"),e.qZA()(),e.TgZ(7,"div",3),e.YNc(8,zd,7,6,"div",4),e.YNc(9,Vd,3,0,"ng-template",null,5,e.W1O),e.qZA(),e.YNc(11,$d,11,6,"div",6),e.qZA()),2&t){const i=e.MAs(10);e.xp6(2),e.Q6J("title",e.lcZ(3,5,n.data.title)),e.xp6(2),e.Oqu(e.xi3(5,7,e.lcZ(6,10,n.data.title),80)),e.xp6(4),e.Q6J("ngIf",0!==n.data.total)("ngIfElse",i),e.xp6(3),e.Q6J("ngIf","rating"===n.data.type)}},directives:[c.O5,se.d,c.sg],pipes:[et,Ld.W,c.Nd,c.JJ],encapsulation:2}),o})();function Wd(o,s){1&o&&e._UZ(0,"question",5),2&o&&e.Q6J("data",s.$implicit)}function Xd(o,s){if(1&o&&(e.TgZ(0,"section",3),e.YNc(1,Wd,1,1,"question",4),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.current.blocks)}}function Kd(o,s){1&o&&(e.TgZ(0,"section",3)(1,"p",6),e._uU(2,"No data available"),e.qZA()())}let eu=(()=>{class o{constructor(){this.type="pie"}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["sections"]],inputs:{current:"current"},decls:4,vars:2,consts:[[1,"insights-sections"],["class","questions-group",4,"ngIf","ngIfElse"],["empty",""],[1,"questions-group"],[3,"data",4,"ngFor","ngForOf"],[3,"data"],[1,"text-center"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Xd,2,1,"section",1),e.YNc(2,Kd,3,0,"ng-template",null,2,e.W1O),e.qZA()),2&t){const i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",n.current)("ngIfElse",i)}},directives:[c.O5,c.sg,Gd],encapsulation:2}),o})(),tu=(()=>{class o{constructor(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[c.JJ],imports:[[c.ez,Fd,se.N,l.u5,L.I,ie.E,he.Y,pe,Ue,G.Iq,p.aw]]}),o})();e.B6R(U,[te.H,ye.j,c.O5,ee.X,l.EJ,l.JJ,l.On,l.YN,l.Kr,p.Pi,c.sg,m.rH,$.Q,l.Fj,l.Wl,eu,Ed,Qd,Od,K.s],[c.Ov,p.X$]);const nu=function(o){return{"background-color":o}};function ou(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"li",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).setRange(r.min,r.max)}),e._UZ(1,"span"),e._uU(2),e.qZA()}if(2&o){const t=s.$implicit,n=e.oxw(2);e.ekj("is-selected",n.isSelected(t)),e.xp6(1),e.Akn(e.VKq(5,nu,t.color)),e.xp6(1),e.hij(" ",t.label," ")}}function iu(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"label",1),e._uU(2,"Score"),e.qZA(),e.TgZ(3,"ngx-slider",2),e.NdJ("valueChange",function(i){return e.CHM(t),e.oxw().component.filters.score_min=i})("highValueChange",function(i){return e.CHM(t),e.oxw().component.filters.score_max=i}),e.qZA(),e.TgZ(4,"ul",3)(5,"li",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().setRange(0,0)}),e._UZ(6,"span"),e._uU(7," All"),e.qZA(),e.YNc(8,ou,3,7,"li",5),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("value",t.component.filters.score_min)("highValue",t.component.filters.score_max)("options",t.options)("manualRefresh",t.manualRefresh),e.xp6(5),e.Q6J("ngForOf",t.grades)}}let ru=(()=>{class o{constructor(t,n){this.component=t,this.editor=n,this.manualRefresh=new e.vpe,this.options={showSelectionBar:!0,floor:0,ceil:100,minRange:5,step:1,pushRange:!0,draggableRange:!0},this.grades=[],this._visible=!1,this.classes="form-group scoring-filters",n.survey.settings.scoring&&(this.grades=n.survey.settings.scoring.grades,this.component.filters.score_min||(this.component.filters.score_min=0),this.component.filters.score_max||(this.component.filters.score_max=0))}ngOnInit(){this.options.getSelectionBarColor=this.setColor.bind(this),this.options.getPointerColor=this.setColor.bind(this),this.onOpen=this.component.onOpen.subscribe(t=>{setTimeout(()=>{this._visible=t,this.manualRefresh.emit()},300)})}ngOnDestroy(){this.onOpen.unsubscribe()}setColor(t,n){let i="#0288D1";return this.grades.forEach(r=>{t>=r.min&&n<=r.max&&(i=r.color)}),i}isSelected(t){return this.component.filters.score_min>=t.min&&this.component.filters.score_max<=t.max}setRange(t,n){this.component.filters.score_min=t,this.component.filters.score_max=n}get visible(){return this._visible}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(at),e.Y36(Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["filters"]],hostVars:2,hostBindings:function(t,n){2&t&&e.Tol(n.classes)},decls:1,vars:1,consts:[[4,"ngIf"],["translate",""],[3,"value","highValue","options","manualRefresh","valueChange","highValueChange"],[1,"scoring-filters-grades"],[3,"click"],[3,"is-selected","click",4,"ngFor","ngForOf"]],template:function(t,n){1&t&&e.YNc(0,iu,9,5,"ng-container",0),2&t&&e.Q6J("ngIf",n.visible)},directives:[c.O5,p.Pi,Ee.w5,c.sg],encapsulation:2}),o})();const su=function(o){return{color:o}};function au(o,s){if(1&o&&(e.ynx(0),e._uU(1," \u2022 "),e.TgZ(2,"span",1),e._uU(3),e.qZA(),e.BQk()),2&o){const t=e.oxw();e.xp6(2),e.Akn(e.VKq(4,su,t.color)),e.xp6(1),e.AsE("",t.label," (",t.percentage,"%)")}}let lu=(()=>{class o{constructor(t){this.entry=t}ngOnInit(){}hasScoring(){return this.entry.data.hasOwnProperty("scoring")}get label(){return this.entry.data?.scoring?.grade.label}get color(){return this.entry.data?.scoring?.grade.color}get percentage(){return this.entry.data?.scoring.percentage}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(qe))},o.\u0275cmp=e.Xpm({type:o,selectors:[["badge"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"entry-badge"]],template:function(t,n){1&t&&e.YNc(0,au,4,6,"ng-container",0),2&t&&e.Q6J("ngIf",n.hasScoring())},directives:[c.O5],styles:["badge[_ngcontent-%COMP%]{display:inline-block}.entry-badge[_ngcontent-%COMP%]{white-space:nowrap;font-weight:700}"]}),o})();const cu=function(o){return{color:o,"font-weight":"bold"}};let pu=(()=>{class o{constructor(t,n){this.entry=t,this.elementRef=n,this.cssClass=!0}ngOnInit(){this.hasScoring()||this.elementRef.nativeElement.setAttribute("hidden",!0)}hasScoring(){return this.entry.data.hasOwnProperty("scoring")}get label(){return this.entry.data?.scoring?.grade.label}get color(){return this.entry.data?.scoring?.grade.color}get total(){return this.entry.data?.scoring?.total}get score(){return this.entry.data?.scoring?.score}get percentage(){return this.entry.data?.scoring?.percentage+"%"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(qe),e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["scoring-details"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("scoring-details",n.cssClass)},decls:16,vars:8,consts:[[1,"scoring-details-container"],[1,"scoring-details-item"],["translate","",1,"scoring-details-label"],[1,"scoring-details-content"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"Grade"),e.qZA(),e.TgZ(4,"span",3),e._uU(5),e.qZA()(),e.TgZ(6,"div",1)(7,"span",2),e._uU(8,"Score"),e.qZA(),e.TgZ(9,"span",3),e._uU(10),e.qZA()(),e.TgZ(11,"div",1)(12,"span",2),e._uU(13,"Result"),e.qZA(),e.TgZ(14,"span",3),e._uU(15),e.qZA()()()),2&t&&(e.xp6(4),e.Akn(e.VKq(6,cu,n.color)),e.xp6(1),e.Oqu(n.label),e.xp6(5),e.AsE("",n.score," out of ",n.total,""),e.xp6(5),e.Oqu(n.percentage))},directives:[p.Pi],encapsulation:2}),o})(),du=(()=>{class o{constructor(t,n){this.slots=t,this.moduleService=n,n.isModuleActivated("scoring-extension")&&(t.add("entries-filters",ru),t.add("entry-item-details",lu),t.add("entry-details",pu))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(ge),e.LFG(E.s))},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,he.Y,ie.E,L.I,l.u5,Q.$,Ee.kx,m.Bz,p.aw]]}),o})();var uu=g(8918);function gu(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().setSize("h1")}),e.ALo(1,"translate"),e._uU(2," looks_one "),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().setSize("h2")}),e.ALo(4,"translate"),e._uU(5," looks_two "),e.qZA(),e.TgZ(6,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().setSize("h3")}),e.ALo(7,"translate"),e._uU(8," looks_3 "),e.qZA(),e._UZ(9,"span",4),e.TgZ(10,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("start")}),e.ALo(11,"translate"),e._uU(12," format_align_left "),e.qZA(),e.TgZ(13,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("center")}),e.ALo(14,"translate"),e._uU(15," format_align_center "),e.qZA(),e.TgZ(16,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("end")}),e.ALo(17,"translate"),e._uU(18," format_align_right "),e.qZA(),e._UZ(19,"span",4)}if(2&o){const t=e.oxw();e.ekj("is-active",t.hasSize("h1")),e.uIk("data-tooltip",e.lcZ(1,18,"Heading #1")),e.xp6(3),e.ekj("is-active",t.hasSize("h2")),e.uIk("data-tooltip",e.lcZ(4,20,"Heading #2")),e.xp6(3),e.ekj("is-active",t.hasSize("h3")),e.uIk("data-tooltip",e.lcZ(7,22,"Heading #3")),e.xp6(4),e.ekj("is-active",t.isAlignment("start")),e.uIk("data-tooltip",e.lcZ(11,24,"Align left")),e.xp6(3),e.ekj("is-active",t.isAlignment("center")),e.uIk("data-tooltip",e.lcZ(14,26,"Align center")),e.xp6(3),e.ekj("is-active",t.isAlignment("end")),e.uIk("data-tooltip",e.lcZ(17,28,"Align right"))}}const _u=function(o){return[o]},mu=function(){return["input -small"]};function hu(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",5)(1,"h6",6),e._uU(2,"Block Settings"),e.qZA(),e.TgZ(3,"div",7)(4,"div",8)(5,"label",9),e._uU(6,"Content"),e.qZA(),e.TgZ(7,"inline-editor",10),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.value_raw=i})("ngModelChange",function(){e.CHM(t);const i=e.oxw();return i.updateValue(i.block)}),e.qZA()(),e.TgZ(8,"div",8)(9,"label",11),e._uU(10,"Weight"),e.qZA(),e.TgZ(11,"div",12)(12,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().setSize("h1")}),e._uU(13,"H1"),e.qZA(),e.TgZ(14,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().setSize("h2")}),e._uU(15,"H2"),e.qZA(),e.TgZ(16,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().setSize("h3")}),e._uU(17,"H3"),e.qZA(),e.TgZ(18,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().setSize("h4")}),e._uU(19,"H4"),e.qZA(),e.TgZ(20,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().setSize("h5")}),e._uU(21,"H5"),e.qZA(),e.TgZ(22,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().setSize("h6")}),e._uU(23,"H6"),e.qZA()()(),e.TgZ(24,"div",8)(25,"label",11),e._uU(26,"Alignment"),e.qZA(),e.TgZ(27,"div",12)(28,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("start")}),e.ALo(29,"translate"),e._uU(30,"format_align_left "),e.qZA(),e.TgZ(31,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("center")}),e.ALo(32,"translate"),e._uU(33,"format_align_center "),e.qZA(),e.TgZ(34,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("end")}),e.ALo(35,"translate"),e._uU(36,"format_align_right "),e.qZA()()()()(),e.TgZ(37,"section",5)(38,"h6",6),e._uU(39,"Advanced"),e.qZA(),e.TgZ(40,"div",7)(41,"div",8)(42,"label",15),e._uU(43,"CSS Class"),e.qZA(),e.TgZ(44,"input",16),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.options.cssClass=i}),e.qZA()(),e.TgZ(45,"div",17)(46,"label",18),e._uU(47,"Admin label"),e.qZA(),e.TgZ(48,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.title=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(7),e.Akn("height: auto; min-height : 71px; padding : 8px;"),e.Q6J("ngClass",e.VKq(35,_u,"paragraph-"+t.block.content.options.alignment))("classes",e.DdM(37,mu))("ngModel",t.block.content.value_raw)("mentions",t.availableBlocks),e.xp6(5),e.ekj("is-active",t.hasSize("h1")),e.xp6(2),e.ekj("is-active",t.hasSize("h2")),e.xp6(2),e.ekj("is-active",t.hasSize("h3")),e.xp6(2),e.ekj("is-active",t.hasSize("h4")),e.xp6(2),e.ekj("is-active",t.hasSize("h5")),e.xp6(2),e.ekj("is-active",t.hasSize("h6")),e.xp6(6),e.ekj("is-active",t.isAlignment("start")),e.uIk("data-tooltip",e.lcZ(29,29,"Align left")),e.xp6(3),e.ekj("is-active",t.isAlignment("center")),e.uIk("data-tooltip",e.lcZ(32,31,"Center")),e.xp6(3),e.ekj("is-active",t.isAlignment("end")),e.uIk("data-tooltip",e.lcZ(35,33,"Align right")),e.xp6(10),e.Q6J("ngModel",t.block.content.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.block.title)}}const fu=function(o,s){return[o,s]};let xu=(()=>{class o{constructor(t,n,i){this.blockEditor=t,this.setup=n,this.sectionEditor=i,this.block=this.blockEditor.block}setSize(t){this.block.content.options.size=t}hasSize(t){return this.block.content.options.size===t}setAlignment(t){this.block.content.options.alignment=t}isAlignment(t){return this.block.content.options.alignment===t}updateValue(t){t.content.value=be.compileSlateBlocksToText(t.content.value_raw)}get availableBlocks(){return"content"===this.sectionEditor.context?this.setup.availableBlocks:this.blockEditor.availableBlocks}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(B),e.Y36(me))},o.\u0275cmp=e.Xpm({type:o,selectors:[["title-block"]],decls:3,vars:6,consts:[[1,"block-title",3,"ngClass","ngModel","mentions","ngModelChange"],["block-toolbar",""],["block-settings",""],["type","button",1,"button","-plain","-icon","material-icons","-toolbar",3,"click"],[1,"separator"],[1,"question-settings"],["translate","",1,"title"],[1,"body"],[1,"form-group"],["for","title_content","translate",""],["id","title_content",3,"ngClass","classes","ngModel","mentions","ngModelChange"],["translate",""],[1,"button-group"],[1,"button",3,"click"],[1,"button","material-icons",3,"click"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"inline-editor",0),e.NdJ("ngModelChange",function(r){return n.block.content.value_raw=r})("ngModelChange",function(){return n.updateValue(n.block)}),e.qZA(),e.YNc(1,gu,20,30,"ng-template",1),e.YNc(2,hu,49,38,"ng-template",2)),2&t&&e.Q6J("ngClass",e.WLB(3,fu,"title-"+n.block.content.options.size,"title-"+n.block.content.options.alignment))("ngModel",n.block.content.value_raw)("mentions",n.availableBlocks)},directives:[Le,c.mk,l.JJ,l.On,fe,T,p.Pi,l.Fj],pipes:[p.X$],encapsulation:2}),o})();const bu=function(o){return[o]};function vu(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"figure"),e._UZ(2,"img",5,6),e.TgZ(4,"figcaption",7),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.options.caption=i}),e.ALo(5,"translate"),e._uU(6),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Tol(e.VKq(10,bu,t.block.content.options.alignment)),e.xp6(1),e.Q6J("src",t.block.content.value.url,e.LSH)("title",t.block.content.options.caption)("alt",t.block.content.options.alt),e.xp6(2),e.Q6J("ngModel",t.block.content.options.caption),e.uIk("placeholder",e.lcZ(5,8,"Caption ...")),e.xp6(2),e.Oqu(t.block.content.options.caption)}}function Cu(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"span",8),e._uU(1,"photo"),e.qZA(),e.TgZ(2,"button",9),e.NdJ("click",function(i){return e.CHM(t),e.oxw().chooseMedia(i)}),e._uU(3,"Choose or upload an image"),e.qZA()}}function yu(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(i){return e.CHM(t),e.oxw().chooseMedia(i)}),e.ALo(1,"translate"),e._uU(2," photo_library "),e.qZA(),e._UZ(3,"span",11),e.TgZ(4,"button",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("start")}),e.ALo(5,"translate"),e._uU(6," align_horizontal_left "),e.qZA(),e.TgZ(7,"button",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("center")}),e.ALo(8,"translate"),e._uU(9," align_horizontal_center "),e.qZA(),e.TgZ(10,"button",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("end")}),e.ALo(11,"translate"),e._uU(12," align_horizontal_right "),e.qZA(),e._UZ(13,"span",11)}if(2&o){const t=e.oxw();e.uIk("data-tooltip",e.lcZ(1,10,"Choose image")),e.xp6(4),e.ekj("is-active",t.isAlignment("start")),e.uIk("data-tooltip",e.lcZ(5,12,"Align left")),e.xp6(3),e.ekj("is-active",t.isAlignment("center")),e.uIk("data-tooltip",e.lcZ(8,14,"Align center")),e.xp6(3),e.ekj("is-active",t.isAlignment("end")),e.uIk("data-tooltip",e.lcZ(11,16,"Align right"))}}function ku(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",12)(1,"h6",13),e._uU(2,"Block Settings"),e.qZA(),e.TgZ(3,"div",14)(4,"div",15)(5,"label",16),e._uU(6,"Image URL"),e.qZA(),e.TgZ(7,"div",17)(8,"div",18)(9,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.value.url=i}),e.qZA()(),e.TgZ(10,"div",20)(11,"button",21),e.NdJ("click",function(i){return e.CHM(t),e.oxw().chooseMedia(i)}),e.ALo(12,"translate"),e._uU(13," photo_library "),e.qZA()()()(),e.TgZ(14,"div",15)(15,"label",22),e._uU(16,"Alignment"),e.qZA(),e.TgZ(17,"div",23)(18,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("start")}),e.ALo(19,"translate"),e._uU(20,"align_horizontal_left "),e.qZA(),e.TgZ(21,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("center")}),e.ALo(22,"translate"),e._uU(23,"align_horizontal_center "),e.qZA(),e.TgZ(24,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("end")}),e.ALo(25,"translate"),e._uU(26,"align_horizontal_right "),e.qZA()()(),e.TgZ(27,"div",15)(28,"label",25),e._uU(29,"Caption"),e.qZA(),e.TgZ(30,"input",26),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.options.caption=i}),e.qZA()(),e.TgZ(31,"div",15)(32,"label",27),e._uU(33,"Alternative text"),e.qZA(),e.TgZ(34,"input",28),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.options.alt=i}),e.qZA()()()(),e.TgZ(35,"section",12)(36,"h6",13),e._uU(37,"Advanced"),e.qZA(),e.TgZ(38,"div",14)(39,"div",15)(40,"label",29),e._uU(41,"CSS Class"),e.qZA(),e.TgZ(42,"input",30),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.options.cssClass=i}),e.qZA()(),e.TgZ(43,"div",31)(44,"label",32),e._uU(45,"Admin label"),e.qZA(),e.TgZ(46,"input",33),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.title=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(9),e.Q6J("ngModel",t.block.content.value.url),e.xp6(2),e.uIk("data-tooltip",e.lcZ(12,15,"Choose an image")),e.xp6(7),e.ekj("is-active",t.isAlignment("start")),e.uIk("data-tooltip",e.lcZ(19,17,"Align left")),e.xp6(3),e.ekj("is-active",t.isAlignment("center")),e.uIk("data-tooltip",e.lcZ(22,19,"Center")),e.xp6(3),e.ekj("is-active",t.isAlignment("end")),e.uIk("data-tooltip",e.lcZ(25,21,"Align right")),e.xp6(6),e.Q6J("ngModel",t.block.content.options.caption),e.xp6(4),e.Q6J("ngModel",t.block.content.options.alt),e.xp6(8),e.Q6J("ngModel",t.block.content.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.block.title)}}let Tu=(()=>{class o{constructor(t){this.blockEditor=t,this.block=this.blockEditor.block,this.mediaFrame=wp.media({title:"Select an image",button:{text:"Use this image"},library:{order:"DESC",orderby:"date",type:"image",search:null,uploadedTo:null},multiple:!1}).on("select",()=>{const n=this.mediaFrame.state().get("selection").first().toJSON();this.block.content.value={url:n.url,id:n.id}}).on("open",()=>{const n=this.mediaFrame.state().get("selection");if(this.block.content.value.id){const i=wp.media.attachment(this.block.content.value.id);n.add(i?[i]:[])}})}ngOnInit(){this.block.content.value||(this.block.content.value={url:"",id:""})}chooseMedia(t){this.mediaFrame.open()}setAlignment(t){this.block.content.options.alignment=t}isAlignment(t){return this.block.content.options.alignment===t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["image-block"]],decls:6,vars:2,consts:[[1,"image-block-preview"],[4,"ngIf","ngIfElse"],["emptyImage",""],["block-toolbar",""],["block-settings",""],[3,"src","title","alt"],["preview",""],["contenteditable","",3,"ngModel","ngModelChange"],[1,"icon","material-icons"],["translate","",1,"button","-outline",3,"click"],["type","button",1,"button","-plain","-icon","material-icons","-toolbar",3,"click"],[1,"separator"],[1,"question-settings"],["translate","",1,"title"],[1,"body"],[1,"form-group"],["for","image_url","translate",""],[1,"row","no-gutters"],[1,"col","col-10"],["id","image_url","type","text",1,"input","-left-attach",3,"ngModel","ngModelChange"],[1,"col","col-2"],[1,"button","-primary","material-icons","-right-attach",3,"click"],["translate",""],[1,"button-group","settings-toolbar"],[1,"button","-small","material-icons",3,"click"],["for","caption_text","translate",""],["id","caption_text","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["for","alternative_text","translate",""],["id","alternative_text","type","text",1,"input","-small",3,"ngModel","ngModelChange"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,vu,7,12,"ng-container",1),e.YNc(2,Cu,4,0,"ng-template",null,2,e.W1O),e.qZA(),e.YNc(4,yu,14,18,"ng-template",3),e.YNc(5,ku,47,23,"ng-template",4)),2&t){const i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",n.block.content.value.url)("ngIfElse",i)}},directives:[c.O5,Q.q,l.JJ,l.On,p.Pi,fe,T,l.Fj],pipes:[p.X$],encapsulation:2}),o})();function wu(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleWidth()}),e.ALo(1,"translate"),e._uU(2," settings_ethernet "),e.qZA(),e._UZ(3,"span",0)}2&o&&e.uIk("data-tooltip",e.lcZ(1,1,"Toggle size"))}function Zu(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",5)(1,"h6",6),e._uU(2,"Block Settings"),e.qZA(),e.TgZ(3,"div",7)(4,"div",8)(5,"label",9),e._uU(6,"Width"),e.qZA(),e.TgZ(7,"div",10)(8,"div",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().setWidth("25%")}),e._uU(9,"25 "),e.qZA(),e.TgZ(10,"div",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().setWidth("50%")}),e._uU(11,"50 "),e.qZA(),e.TgZ(12,"div",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().setWidth("75%")}),e._uU(13,"75 "),e.qZA(),e.TgZ(14,"div",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().setWidth("100%")}),e._uU(15," 100 "),e.qZA()()()()(),e.TgZ(16,"section",5)(17,"h6",6),e._uU(18,"Advanced"),e.qZA(),e.TgZ(19,"div",7)(20,"div",8)(21,"label",12),e._uU(22,"CSS Class"),e.qZA(),e.TgZ(23,"input",13),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.options.cssClass=i}),e.qZA()(),e.TgZ(24,"div",14)(25,"label",15),e._uU(26,"Admin label"),e.qZA(),e.TgZ(27,"input",16),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.title=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(8),e.ekj("is-active",t.isWidth("25%")),e.xp6(2),e.ekj("is-active",t.isWidth("50%")),e.xp6(2),e.ekj("is-active",t.isWidth("75%")),e.xp6(2),e.ekj("is-active",t.isWidth("100%")),e.xp6(9),e.Q6J("ngModel",t.block.content.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.block.title)}}let Au=(()=>{class o{constructor(t){this.blockEditor=t,this.block=this.blockEditor.block}setWidth(t){this.block.content.options.width=t}isWidth(t){return t===this.block.content.options.width}toggleWidth(){this.isWidth("25%")?this.setWidth("50%"):this.isWidth("50%")?this.setWidth("75%"):this.isWidth("75%")?this.setWidth("100%"):this.isWidth("100%")&&this.setWidth("25%")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["separator-block"]],decls:4,vars:2,consts:[[1,"separator"],["preview",""],["block-toolbar",""],["block-settings",""],["type","button",1,"button","-plain","-icon","material-icons","-toolbar",3,"click"],[1,"question-settings"],["translate","",1,"title"],[1,"body"],[1,"form-group"],["translate",""],[1,"button-group"],[1,"button",3,"click"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e._UZ(0,"hr",0,1),e.YNc(2,wu,4,3,"ng-template",2),e.YNc(3,Zu,28,10,"ng-template",3)),2&t&&e.Udp("width",n.block.content.options.width)},directives:[fe,T,p.Pi,l.Fj,l.JJ,l.On],pipes:[p.X$],encapsulation:2}),o})();function Mu(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",2)(1,"h6",3),e._uU(2,"Block Settings"),e.qZA(),e.TgZ(3,"div",4)(4,"div",5)(5,"label",6),e._uU(6,"HTML Code"),e.qZA(),e.TgZ(7,"textarea",7),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.value=i}),e.qZA()()()(),e.TgZ(8,"section",2)(9,"h6",3),e._uU(10,"Advanced"),e.qZA(),e.TgZ(11,"div",4)(12,"div",5)(13,"label",8)(14,"input",9),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.options.evaluateShortcode=i}),e.qZA(),e.TgZ(15,"span",10),e._uU(16,"Evaluate shortcodes"),e.qZA()()(),e.TgZ(17,"div",5)(18,"label",11),e._uU(19,"CSS Class"),e.qZA(),e.TgZ(20,"input",12),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.options.cssClass=i}),e.qZA()(),e.TgZ(21,"div",13)(22,"label",14),e._uU(23,"Admin label"),e.qZA(),e.TgZ(24,"input",15),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.title=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.block.content.value),e.xp6(7),e.Q6J("ngModel",t.block.content.options.evaluateShortcode),e.xp6(6),e.Q6J("ngModel",t.block.content.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.block.title)}}let qu=(()=>{class o{constructor(t){this.blockEditor=t,this.block=this.blockEditor.block}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["html-block"]],decls:3,vars:4,consts:[["rows","4",1,"input",3,"ngModel","placeholder","ngModelChange"],["block-settings",""],[1,"question-settings"],["translate","",1,"title"],[1,"body"],[1,"form-group"],["for","html_content","translate",""],["id","html_content","rows","3",1,"input","-small",2,"height","auto",3,"ngModel","ngModelChange"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],["translate","",1,"label"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"textarea",0),e.NdJ("ngModelChange",function(r){return n.block.content.value=r}),e.ALo(1,"translate"),e.qZA(),e.YNc(2,Mu,25,4,"ng-template",1)),2&t&&e.Q6J("ngModel",n.block.content.value)("placeholder",e.lcZ(1,2,"HTML Code..."))},directives:[l.Fj,l.JJ,l.On,T,p.Pi,l.Wl],pipes:[p.X$],encapsulation:2}),o})();function Ju(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("start")}),e.ALo(1,"translate"),e._uU(2," align_horizontal_left "),e.qZA(),e.TgZ(3,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("center")}),e.ALo(4,"translate"),e._uU(5," align_horizontal_center "),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("end")}),e.ALo(7,"translate"),e._uU(8," align_horizontal_right "),e.qZA(),e._UZ(9,"span",5)}if(2&o){const t=e.oxw();e.ekj("is-active",t.isAlignment("start")),e.uIk("data-tooltip",e.lcZ(1,9,"Align left")),e.xp6(3),e.ekj("is-active",t.isAlignment("center")),e.uIk("data-tooltip",e.lcZ(4,11,"Align center")),e.xp6(3),e.ekj("is-active",t.isAlignment("end")),e.uIk("data-tooltip",e.lcZ(7,13,"Align right"))}}function Su(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",6)(1,"h6",7),e._uU(2,"Block Settings"),e.qZA(),e.TgZ(3,"div",8)(4,"div",9)(5,"label",10),e._uU(6," URL "),e.TgZ(7,"a",11)(8,"span",12),e._uU(9,"Supported services"),e.qZA(),e.TgZ(10,"span",13),e._uU(11,"open_in_new"),e.qZA()()(),e.TgZ(12,"input",14),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.value=i}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",9)(15,"label",15),e._uU(16,"Alignment"),e.qZA(),e.TgZ(17,"div",16)(18,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("start")}),e.ALo(19,"translate"),e._uU(20," align_horizontal_left "),e.qZA(),e.TgZ(21,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("center")}),e.ALo(22,"translate"),e._uU(23," align_horizontal_center "),e.qZA(),e.TgZ(24,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().setAlignment("end")}),e.ALo(25,"translate"),e._uU(26," align_horizontal_right "),e.qZA()()()()(),e.TgZ(27,"section",6)(28,"h6",7),e._uU(29,"Advanced"),e.qZA(),e.TgZ(30,"div",8)(31,"div",9)(32,"label",18),e._uU(33,"CSS Class"),e.qZA(),e.TgZ(34,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.options.cssClass=i}),e.qZA()(),e.TgZ(35,"div",20)(36,"label",21),e._uU(37,"Admin label"),e.qZA(),e.TgZ(38,"input",22),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.title=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(12),e.Q6J("ngModel",t.block.content.value)("placeholder",e.lcZ(13,13,"YouTube, Twitter...")),e.xp6(6),e.ekj("is-active",t.isAlignment("start")),e.uIk("data-tooltip",e.lcZ(19,15,"Align left")),e.xp6(3),e.ekj("is-active",t.isAlignment("center")),e.uIk("data-tooltip",e.lcZ(22,17,"Align center")),e.xp6(3),e.ekj("is-active",t.isAlignment("end")),e.uIk("data-tooltip",e.lcZ(25,19,"Align right")),e.xp6(10),e.Q6J("ngModel",t.block.content.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.block.title)}}let Uu=(()=>{class o{constructor(t){this.blockEditor=t,this.block=this.blockEditor.block}setAlignment(t){this.block.content.options.alignment=t}isAlignment(t){return this.block.content.options.alignment===t}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["embed-block"]],decls:5,vars:4,consts:[[1,"input",3,"ngModel","placeholder","ngModelChange"],["preview",""],["block-toolbar",""],["block-settings",""],["type","button",1,"button","-plain","-icon","material-icons","-toolbar",3,"click"],[1,"separator"],[1,"question-settings"],["translate","",1,"title"],[1,"body"],[1,"form-group"],["for","embed_url",1,"embed-label"],["href","https://wordpress.org/support/article/embeds/","target","_blank","rel","noopener noreferrer",1,"button","-transparent","-compact","-pill","-small"],[1,"text"],[1,"icon","material-icons"],["id","embed_url",1,"input","-small",3,"ngModel","placeholder","ngModelChange"],["translate",""],[1,"button-group"],[1,"button","material-icons",3,"click"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"input",0,1),e.NdJ("ngModelChange",function(r){return n.block.content.value=r}),e.ALo(2,"translate"),e.qZA(),e.YNc(3,Ju,10,15,"ng-template",2),e.YNc(4,Su,39,21,"ng-template",3)),2&t&&e.Q6J("ngModel",n.block.content.value)("placeholder",e.lcZ(2,2,"YouTube, Twitter..."))},directives:[l.Fj,l.JJ,l.On,fe,T,p.Pi],pipes:[p.X$],encapsulation:2}),o})();function Nu(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",3)(1,"h6",4),e._uU(2,"Block Settings"),e.qZA(),e.TgZ(3,"div",5)(4,"div",6)(5,"label",7),e._uU(6," URL "),e.qZA(),e.TgZ(7,"input",8),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.value=i}),e.ALo(8,"translate"),e.qZA()()()(),e.TgZ(9,"section",3)(10,"h6",4),e._uU(11,"Advanced"),e.qZA(),e.TgZ(12,"div",5)(13,"div",6)(14,"label",9),e._uU(15,"CSS Class"),e.qZA(),e.TgZ(16,"input",10),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.content.options.cssClass=i}),e.qZA()(),e.TgZ(17,"div",11)(18,"label",12),e._uU(19,"Admin label"),e.qZA(),e.TgZ(20,"input",13),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().block.title=i}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.block.content.value)("placeholder",e.lcZ(8,4,"YouTube, Twitter...")),e.xp6(9),e.Q6J("ngModel",t.block.content.options.cssClass),e.xp6(4),e.Q6J("ngModel",t.block.title)}}let Iu=(()=>{class o{constructor(t){this.blockEditor=t,this.block=this.blockEditor.block}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["redirect-block"]],decls:4,vars:4,consts:[[1,"input",3,"ngModel","placeholder","ngModelChange"],["preview",""],["block-settings",""],[1,"question-settings"],["translate","",1,"title"],[1,"body"],[1,"form-group"],["for","redirect_url",1,"redirect-label"],["id","redirect_url",1,"input","-small",3,"ngModel","placeholder","ngModelChange"],["for","question_css_class","translate",""],["id","question_css_class","type","text",1,"input","-small",3,"ngModel","ngModelChange"],[1,"form-group","-compact"],["for","question_label","translate",""],["id","question_label","type","text",1,"input","-small",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"input",0,1),e.NdJ("ngModelChange",function(r){return n.block.content.value=r}),e.ALo(2,"translate"),e.qZA(),e.YNc(3,Nu,21,6,"ng-template",2)),2&t&&e.Q6J("ngModel",n.block.content.value)("placeholder",e.lcZ(2,2,"URL..."))},directives:[l.Fj,l.JJ,l.On,T,p.Pi],pipes:[p.X$],encapsulation:2}),o})(),Fu=(()=>{class o{constructor(t,n,i,r,a){this.config=t,this.blockTypesService=n,this.operatorsMapService=i,this.modulesService=r,this.promotionService=a;const d="blocks-pack-extension",_=a.isUpgradedNeeded("blocks-pack-extension");n.add({type:"title",icon:"title",name:"Title",category:"content",defaults:{size:"h2",alignment:"start"},component:xu,requiresUpgrade:_,get requiresActivation(){return!r.isModuleActivated(d)},module:d,translatable:["content.value"]}),n.add({type:"image",icon:"photo",name:"Image",category:"content",defaults:{alt:"",caption:"",alignment:"start"},component:Tu,requiresUpgrade:_,get requiresActivation(){return!r.isModuleActivated(d)},module:d}),n.add({type:"separator",icon:"horizontal_rule",name:"Spacer",category:"content",defaults:{width:"100%"},component:Au,requiresUpgrade:_,get requiresActivation(){return!r.isModuleActivated(d)},module:d}),n.add({type:"embed",icon:"cloud",name:"Embed",category:"content",defaults:{alignment:"start"},component:Uu,requiresUpgrade:_,get requiresActivation(){return!r.isModuleActivated(d)},module:d}),n.add({type:"redirect",icon:"route",name:"Redirect",category:"content",defaults:{waitFor:0},component:Iu,requiresUpgrade:_,get requiresActivation(){return!r.isModuleActivated(d)},module:d}),n.add({type:"html",icon:"code",name:"HTML",category:"content",defaults:{evaluateShortcode:!1},component:qu,requiresUpgrade:_,get requiresActivation(){return!r.isModuleActivated(d)},module:d})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(q),e.LFG(M),e.LFG(ke),e.LFG(E.s),e.LFG(le.q))},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,l.u5,pe,Q.$,p.aw]]}),o})();class Eu{handle(s){return s.key}}class Qu{constructor(s,t="/assets/backoffice/assets/i18n/",n=".json"){this.http=s,this.prefix=t,this.suffix=n}getTranslation(s){return this.http.get(`${APP_CONFIG.baseUrl}${this.prefix}${s}${this.suffix}`)}}let Ou=(()=>{class o{constructor(t,n){n.use(APP_CONFIG.locale);const i=r=>{document.querySelector("#toplevel_page_totalsurvey .wp-first-item")?.remove();const a=document.querySelector(`#toplevel_page_totalsurvey a[href="admin.php?page=totalsurvey#/${r}"]`)?.parentElement;a&&(document.querySelector("#toplevel_page_totalsurvey").querySelectorAll("li.current").forEach(d=>d.classList.remove("current")),a.classList.add("current"))};t.events.subscribe(r=>{if(r.urlAfterRedirects){const a=r.urlAfterRedirects.split("/");i(a[1]),a[2]&&i(`${a[1]}/${a[2]}`)}})}static withImports(...t){this.imports.push(...t)}}return o.imports=[],o.\u0275fac=function(t){return new(t||o)(e.LFG(m.F0),e.LFG(p.sK))},o.\u0275mod=e.oAB({type:o,bootstrap:[xt]}),o.\u0275inj=e.cJS({providers:[{provide:c.S$,useClass:c.Do},{provide:c.mr,useValue:"/"},{provide:q,useValue:APP_CONFIG},{provide:O.TP,useClass:ip.J,multi:!0},{provide:m.NM,useClass:m.wm}],imports:[[H.b2,O.JF,L.I,Ue,he.Y,op.U,Zp,np.I,pe,bt._G,se.N,Cn.Cl,je.U8,v._t,Se,ze.T,lt,sd,Fu,wd,Ud,tu,ie.E,du,uu.N,dt,ce.GV.forRoot({defaultVariation:"popper",variations:{tooltip:{...ce.F7,appendTo:s=>document.querySelector("totalsurvey-root").shadowRoot},popper:{...ce.lz,placement:"bottom-end",appendTo:s=>document.querySelector("totalsurvey-root").shadowRoot}}}),p.aw.forRoot({defaultLanguage:"en",loader:{provide:p.Zw,useClass:Qu,deps:[O.eN]},missingTranslationHandler:{provide:p.gC,useClass:Eu}})]]}),o})();(0,e.G48)(),H.q6().bootstrapModule(Ou,[{defaultEncapsulation:e.ifc.None}]).catch(o=>console.error(o))},6700:(X,Ze,g)=>{var H={"./af":7088,"./af.js":7088,"./ar":7038,"./ar-dz":2502,"./ar-dz.js":2502,"./ar-kw":128,"./ar-kw.js":128,"./ar-ly":4519,"./ar-ly.js":4519,"./ar-ma":5443,"./ar-ma.js":5443,"./ar-ps":4523,"./ar-ps.js":4523,"./ar-sa":7642,"./ar-sa.js":7642,"./ar-tn":8592,"./ar-tn.js":8592,"./ar.js":7038,"./az":1213,"./az.js":1213,"./be":9191,"./be.js":9191,"./bg":322,"./bg.js":322,"./bm":8042,"./bm.js":8042,"./bn":9620,"./bn-bd":5903,"./bn-bd.js":5903,"./bn.js":9620,"./bo":9645,"./bo.js":9645,"./br":5020,"./br.js":5020,"./bs":4792,"./bs.js":4792,"./ca":7980,"./ca.js":7980,"./cs":7322,"./cs.js":7322,"./cv":365,"./cv.js":365,"./cy":2092,"./cy.js":2092,"./da":7387,"./da.js":7387,"./de":4307,"./de-at":9459,"./de-at.js":9459,"./de-ch":3694,"./de-ch.js":3694,"./de.js":4307,"./dv":9659,"./dv.js":9659,"./el":3460,"./el.js":3460,"./en-au":4369,"./en-au.js":4369,"./en-ca":530,"./en-ca.js":530,"./en-gb":9998,"./en-gb.js":9998,"./en-ie":3391,"./en-ie.js":3391,"./en-il":5414,"./en-il.js":5414,"./en-in":9615,"./en-in.js":9615,"./en-nz":1248,"./en-nz.js":1248,"./en-sg":3767,"./en-sg.js":3767,"./eo":4530,"./eo.js":4530,"./es":6866,"./es-do":8944,"./es-do.js":8944,"./es-mx":9116,"./es-mx.js":9116,"./es-us":3609,"./es-us.js":3609,"./es.js":6866,"./et":6725,"./et.js":6725,"./eu":7931,"./eu.js":7931,"./fa":6417,"./fa.js":6417,"./fi":944,"./fi.js":944,"./fil":1766,"./fil.js":1766,"./fo":5867,"./fo.js":5867,"./fr":1636,"./fr-ca":6848,"./fr-ca.js":6848,"./fr-ch":7773,"./fr-ch.js":7773,"./fr.js":1636,"./fy":4940,"./fy.js":4940,"./ga":1402,"./ga.js":1402,"./gd":6924,"./gd.js":6924,"./gl":6398,"./gl.js":6398,"./gom-deva":2457,"./gom-deva.js":2457,"./gom-latn":2545,"./gom-latn.js":2545,"./gu":2641,"./gu.js":2641,"./he":7536,"./he.js":7536,"./hi":6335,"./hi.js":6335,"./hr":7458,"./hr.js":7458,"./hu":6540,"./hu.js":6540,"./hy-am":3165,"./hy-am.js":3165,"./id":8780,"./id.js":8780,"./is":4205,"./is.js":4205,"./it":4211,"./it-ch":9985,"./it-ch.js":9985,"./it.js":4211,"./ja":1003,"./ja.js":1003,"./jv":420,"./jv.js":420,"./ka":851,"./ka.js":851,"./kk":6074,"./kk.js":6074,"./km":3343,"./km.js":3343,"./kn":4799,"./kn.js":4799,"./ko":3549,"./ko.js":3549,"./ku":1037,"./ku-kmr":3775,"./ku-kmr.js":3775,"./ku.js":1037,"./ky":3125,"./ky.js":3125,"./lb":9586,"./lb.js":9586,"./lo":2349,"./lo.js":2349,"./lt":2400,"./lt.js":2400,"./lv":9991,"./lv.js":9991,"./me":8477,"./me.js":8477,"./mi":5118,"./mi.js":5118,"./mk":5943,"./mk.js":5943,"./ml":3849,"./ml.js":3849,"./mn":1977,"./mn.js":1977,"./mr":6184,"./mr.js":6184,"./ms":485,"./ms-my":4524,"./ms-my.js":4524,"./ms.js":485,"./mt":6681,"./mt.js":6681,"./my":2024,"./my.js":2024,"./nb":2688,"./nb.js":2688,"./ne":8914,"./ne.js":8914,"./nl":1758,"./nl-be":2272,"./nl-be.js":2272,"./nl.js":1758,"./nn":1510,"./nn.js":1510,"./oc-lnc":2797,"./oc-lnc.js":2797,"./pa-in":7944,"./pa-in.js":7944,"./pl":1605,"./pl.js":1605,"./pt":4225,"./pt-br":3840,"./pt-br.js":3840,"./pt.js":4225,"./ro":5128,"./ro.js":5128,"./ru":5127,"./ru.js":5127,"./sd":2525,"./sd.js":2525,"./se":9893,"./se.js":9893,"./si":3123,"./si.js":3123,"./sk":9635,"./sk.js":9635,"./sl":8106,"./sl.js":8106,"./sq":8799,"./sq.js":8799,"./sr":7949,"./sr-cyrl":2872,"./sr-cyrl.js":2872,"./sr.js":7949,"./ss":6167,"./ss.js":6167,"./sv":9713,"./sv.js":9713,"./sw":1982,"./sw.js":1982,"./ta":2732,"./ta.js":2732,"./te":3636,"./te.js":3636,"./tet":2115,"./tet.js":2115,"./tg":9801,"./tg.js":9801,"./th":4486,"./th.js":4486,"./tk":1310,"./tk.js":1310,"./tl-ph":2360,"./tl-ph.js":2360,"./tlh":6645,"./tlh.js":6645,"./tr":8374,"./tr.js":8374,"./tzl":256,"./tzl.js":256,"./tzm":1595,"./tzm-latn":1631,"./tzm-latn.js":1631,"./tzm.js":1595,"./ug-cn":6050,"./ug-cn.js":6050,"./uk":5610,"./uk.js":5610,"./ur":6077,"./ur.js":6077,"./uz":2862,"./uz-latn":2207,"./uz-latn.js":2207,"./uz.js":2862,"./vi":8093,"./vi.js":8093,"./x-pseudo":5590,"./x-pseudo.js":5590,"./yo":9058,"./yo.js":9058,"./zh-cn":7908,"./zh-cn.js":7908,"./zh-hk":8867,"./zh-hk.js":8867,"./zh-mo":1133,"./zh-mo.js":1133,"./zh-tw":3291,"./zh-tw.js":3291};function e(V){var re=m(V);return g(re)}function m(V){if(!g.o(H,V)){var re=new Error("Cannot find module '"+V+"'");throw re.code="MODULE_NOT_FOUND",re}return H[V]}e.keys=function(){return Object.keys(H)},e.resolve=m,X.exports=e,e.id=6700}},X=>{X.O(0,["vendor"],()=>X(X.s=112)),X.O()}]);